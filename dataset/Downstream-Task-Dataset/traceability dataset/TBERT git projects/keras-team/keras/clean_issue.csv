,closed_at,created_at,issue_comments,issue_desc,issue_id
0,2020-06-17 21:32:47,2020-06-15 21:39:30,Redirect Keras to tf.keras,"* * System information * * - Have I written custom code ( as opposed to using example directory ) : - OS Platform and Distribution ( e.g. , Linux Ubuntu 16.04 ) : CentOS7.3 - TensorFlow backend ( yes / no ) : yes - TensorFlow version : v1.14.0-rc1-22-gaf24dc91b5 1.14.0 - Keras version : 2.3.1 - Python version : 3.6 - CUDA/cuDNN version : - GPU model and memory : You can obtain the TensorFlow version with : python -c `` import tensorflow as tf ; print ( tf.GIT_VERSION , tf.VERSION ) '' You can obtain the Keras version with : python -c 'import keras as k ; print ( k.__version__ ) ' * * Describe the current behavior * * I want concatenate two model to a fully connected layer，and then train it，but keras.fit reporte an assert error like this : == > Training model ... Traceback ( most recent call last ) : File `` train-2dcnn-1dcnn.py '' , line 295 , in < module > main ( ) File `` train-2dcnn-1dcnn.py '' , line 219 , in main model.fit ( [ x_train_1dcnn , x_train_2dcnn ] , y_train , batch_size=args.batch_size , epochs=args.epochs , validation_split=0.1 , callbacks=callback_lists ) File `` /usr/local/anaconda3/envs/tensorflow-1.0/lib/python3.6/site-packages/keras/engine/training.py '' , line 1154 , in fit batch_size=batch_size ) File `` /usr/local/anaconda3/envs/tensorflow-1.0/lib/python3.6/site-packages/keras/engine/training.py '' , line 504 , in _standardize_user_data self._set_inputs ( x ) File `` /usr/local/anaconda3/envs/tensorflow-1.0/lib/python3.6/site-packages/keras/engine/training.py '' , line 414 , in _set_inputs assert len ( inputs ) == 1 AssertionError * * Describe the expected behavior * * No error occur * * Code to reproduce the issue * * Provide a reproducible test case that is the bare minimum necessary to generate the problem . import keras from keras import layers from keras.models import Model from keras.utils import to_categorical from keras.models import load_model from keras.callbacks import Callback , ModelCheckpoint , TensorBoard , LearningRateScheduler , EarlyStopping import keras.backend as K print ( '== > Building model ... ' ) model1 = keras.Sequential ( ) model1.add ( layers.Conv1D ( 32 , 3 , activation='relu ' , input_shape= ( 1 , 39 ) , padding='same ' , name='data1 ' ) ) model1.add ( layers.MaxPooling1D ( 2 , 2 , padding='same ' ) ) model1.add ( layers.Conv1D ( 64 , 3 , activation='relu ' , padding='same ' ) ) model1.add ( layers.MaxPooling1D ( 2 , 2 , padding='same ' ) ) model1.add ( layers.Flatten ( ) ) model1.build ( ( None , 1 , 39 ) ) model2 = keras.Sequential ( ) model2.add ( layers.Conv2D ( 32 , 5 , activation='relu ' , input_shape= ( 28 , 28 , 3 ) , padding='same ' , name= '' data2 '' ) ) model2.add ( layers.MaxPooling2D ( ( 2 , 2 ) , ( 2 , 2 ) , padding='same ' ) ) model2.add ( layers.Conv2D ( 64 , 5 , activation='relu ' , padding='same ' ) ) model2.add ( layers.MaxPooling2D ( 2 , 2 , padding='same ' ) ) model2.add ( layers.Conv2D ( 64 , 7 , activation='relu ' , padding='same ' ) ) model2.add ( layers.Flatten ( ) ) model2.build ( ( None , 28 , 28 , 3 ) ) model = keras.Sequential ( ) model.add ( layers.Concatenate ( [ model1.output , model2.output ] ) ) model.add ( layers.Dense ( 1024 , activation='relu ' ) ) model.add ( layers.Dense ( 128 , activation='relu ' ) ) model.add ( layers.Dense ( len ( class_names ) , activation='softmax ' , name= '' output '' ) ) model.compile ( optimizer=keras.optimizers.RMSprop ( ) , loss='sparse_categorical_crossentropy ' , metrics= [ 'accuracy ' ] ) print ( '== > Training model ... ' ) filepath = `` little_class_2dcnn_1dcnn_tf2.h5 '' checkpoint = ModelCheckpoint ( filepath , monitor='val_accuracy ' , verbose=0 , save_best_only=True , mode='max ' ) lr_scheduler = LearningRateScheduler ( schedule ) callback_lists = [ lr_scheduler , checkpoint ] model.fit ( [ x_train_1dcnn , x_train_2dcnn ] , y_train , batch_size=args.batch_size , epochs=args.epochs , validation_split=0.1 , callbacks=callback_lists ) The dataset shape is as follows： x_train_1dcnn.shape : ( 322819 , 1 , 39 ) x_train_2dcnn.shape : ( 322819 , 28 , 28 , 3 ) y_train.shape : ( 322819 , 1 ) * * Other info / logs * * Include any logs or source code that would be helpful to diagnose the problem . If including tracebacks , please include the full traceback . Large logs and files should be attached .",14121.0
1,2019-10-24 19:52:19,2019-10-22 01:16:16,Update np_utils.py,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Summary Fixing words in document 'Utils' I changed 'Numpy ' - > 'NumPy' # # # Related Issues # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ Y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ N ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13481.0
2,2019-10-22 14:14:40,2019-10-21 14:28:52,Fix h5py group naming while model saving,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Summary This pull request is related to issue [ # 12195 ] ( url ) . There is a bug while saving .h5 models . In a model , if a layer name is prefix of a previously defined layer name , then h5py will fail with error : `` ValueError : Unable to create group ( name already exists ) '' . This problem is even more present in Tensorflow 2.0 because saving a model with tf.ones_like , tf.zeros_like , tf.boolean_mask , ... Tensors will lead to this error . The first commit of this pull request sorts the model layers by name to ensure that h5py group names are strictly growing to avoid prefix issues . File : keras/engine/saving.py The second commit of this pull request add a test described problem . Function : test_saving_group_naming_h5py ( ) in File : tests/test_model_saving.py # # # Related Issues Fixes # 12195 . # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) Included in second commit - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13477.0
3,2019-10-21 13:46:18,2019-10-20 11:38:16,Update core.py,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Summary ` channels_first ` - > ` 'channels_first ' ` ` channels_last ` , `` channels_last '' - > ` 'channels_last ' ` data_format='channels_first ' - > ` data_format='channels_first ' ` data_format='channels_last ' - > ` data_format='channels_last ' ` # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13472.0
4,2019-10-21 13:43:47,2019-10-19 14:19:29,Update pooling.py,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Summary Added Integer at the ` pool_size ` and ` strides ` of ` MaxPooling3D ` , ` AveragePooling3D ` Made ` strides ` argument have all same format ` channels_first ` - > ` `` channels_first '' ` ` channels_last ` - > ` `` channels_last '' ` `` channels_last '' - > ` `` channels_last '' ` # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13467.0
5,2019-10-11 21:19:30,2019-10-11 08:59:36,Change ` batch_size ` descriptions to proper ones,"# # # Summary - Since there 're no gradients to be updated during ` evaulate ` and ` predict ` processes , changed their ` batch_size ` docstrings from ` `` Number of samples per gradient update '' ` to ` `` Number of samples per evaluation step '' ` and ` `` Number of samples to be predicted at once '' ` . ( The sentence in fit remains unchanged . ) - Corrected ` callbacks ` description docstrings in ` evaluate_generator ` and ` predict_generator ` : ` `` List of callbacks to apply during training '' ` - > ` `` - during evaluation '' ` , ` `` - during prediction '' ` . I hope this fix would change related auto-generated documents as well . < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13422.0
6,2019-10-08 09:56:21,2019-10-02 01:08:40,Small refactors on the keras.utils module,"# # # Summary This PR is just a small refactor on the ` keras.utils ` module , using python generators over list comprehensions whenever possible in order to use less memory and avoid computing things beforehand . I also changed the string interpolation on those files to use ` .format ( ) ` instead of just concatenating the strings . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13388.0
7,2019-10-01 17:00:04,2019-10-01 09:03:44,ValueError in plot_model if ipython is installed and a pdf file is requested,"* * System information * * - Have I written custom code ( as opposed to using example directory ) : yes - OS Platform and Distribution ( e.g. , Linux Ubuntu 16.04 ) : Ubuntu 19.04 - TensorFlow backend ( yes / no ) : yes - TensorFlow version : 1.14 - Keras version : 2.3.0 - Python version : 3.7.3 * * Describe the current behavior * * If ipython is installed and [ plot_model ] ( https : //github.com/keras-team/keras/blob/985521ee7050df39f9c06f53b54e17927bd1e6ea/keras/utils/vis_utils.py # L214 ) asks for a pdf file , the error shown in the log below is raised . The current code check if ipython is installed ; if so it tries to return a display image for Jupiter but if the file extension is pdf a ValueError is raised ( probably because the pdf format is not supported into Jupiter ) : https : //github.com/keras-team/keras/blob/985521ee7050df39f9c06f53b54e17927bd1e6ea/keras/utils/vis_utils.py # L247-L252 * * Describe the expected behavior * * I have ipython installed but I do not want to get the Jupiter image , I just would like to save a pdf file . Probably a possible solution will be to return the image if the extension is not pdf , or asking explicitly for the image with a return_jupiter_image flag . * * Code to reproduce the issue * * Install ipython and then :",13383.0
8,2019-10-04 17:29:43,2019-09-30 05:04:42,Fix file leak in CSVLogger,Fixes # 13377,13378.0
9,2019-09-29 19:59:33,2019-09-29 01:49:12,Update local.py,"stride value implies the input argument of 'stride ' , and dilation_rate implies the input argument of 'dilation rate ' of Conv1D function . It is more explicit to express as code rather than using words stride value , dilation value . Or , at least both stride and dilation_rate should be written in code , not only dilation rate as before document < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Summary change documentation words . stride ! = -1 , dilation_rate ! = -1 to code # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13373.0
10,2019-09-25 21:52:14,2019-09-23 08:42:06,Fix encoding error,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Summary Running ` autogen.py ` in Windows fails with the following error : ` UnicodeDecodeError : 'cp949 ' codec ca n't decode byte 0xbf in position 2 : illegal multibyte sequence ` Passing ` utf-8 ` encoding argument fixes the error . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13355.0
11,2019-09-15 17:49:15,2019-09-15 12:09:36,Fix sequence timeout deadlock,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md Note : We are no longer adding new features to multi-backend Keras ( we only fix bugs ) , as we are refocusing development efforts on tf.keras . If you are still interested in submitting a feature pull request , please direct it to tf.keras in the TensorFlow repository instead . -- > # # # Summary In the case when fetching the batch from the worker is not finished within the timeout , ` queue.task_done ` method is not called . This leads to a deadlock at the end of the epoch when we do ` self._wait_queue ( ) ` preventing from getting batches for the next epoch . The correct behavior would be to mark task in the queue as done regardless of if it was processed in the worker or on the main thread after the timeout . # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13322.0
12,2019-09-15 05:40:36,2019-09-13 20:09:09,Added messages about the future of multi-backend Keras .,This PR add messages about the future of Keras . Many of the users do n't read the meeting notes or the release notes . They 're copied for a much better visibility .,13315.0
13,2019-09-06 07:36:23,2019-09-05 22:25:09,Add SpecificityAtSensitivity metric .,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Add SpecificityAtSensitivity metric . # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),13294.0
14,2019-09-05 22:01:41,2019-09-04 22:00:43,"Adding AUC , SensitivityAtSpecificity metrics .","< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding AUC , SensitivityAtSpecificity metrics . # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13289.0
15,2019-09-04 21:18:59,2019-09-03 22:17:05,"Adding TruePositives , TrueNegatives , FalsePositives , FalseNegatives metric classes .","< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding TruePositives , TrueNegatives , FalsePositives , FalseNegatives metric classes . # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13280.0
16,2019-08-30 20:02:49,2019-08-30 19:42:16,"Adding LogCosh , Poisson , KLDivergence , crossentropy metrics .","< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding LogCosh , Poisson , KLDivergence metrics . # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13271.0
17,2019-09-11 20:19:52,2019-08-30 06:27:05,Update lstm_seq2seq.py ( from 22 % to 87 % acc ),"I added the codes for applying one-hot encoding on the end of sentences about encoder_input_data , decoder_input_data , and decoder_target_data . I added an accuracy metric for model training . The original code has 22 % accuracy , but the proposed code had 87 % validation accuracy . < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Applying one-hot encoding on the end of sentences # # # Related Issues # 13266 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13269.0
18,2019-08-30 18:19:12,2019-08-30 01:01:17,Adding accuracy metric classes .,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding accuracy metric classes . # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),13265.0
19,2019-08-28 20:07:07,2019-08-27 21:53:16,Add metric API changes,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Add metric API changes # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),13256.0
20,2019-08-28 17:24:08,2019-08-27 17:46:05,sync changes to _TfDeviceCaptureOp,"# # # Summary Sync the keras specific portions of https : //github.com/tensorflow/tensorflow/commit/8d24f6ae5cffbb1e23e02e5ac14f15b5f3ab6414 # # # Related Issues Fixes : https : //github.com/keras-team/keras/issues/13057 , https : //github.com/tensorflow/tensorflow/issues/30728 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13255.0
21,2019-08-26 04:02:14,2019-08-25 18:53:09,Update optimizers for TF2 .,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Update optimizer for TF2.0 . # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] N - [ x ] This PR requires to update the documentation [ y/n ] N - [ x ] This PR is backwards compatible [ y/n ] Y - [ x ] This PR changes the current API [ y/n ] N,13246.0
22,2019-09-12 17:23:50,2019-08-23 08:40:00,"Improve documentation for EarlyStopping/ReduceLROnPlateau , take validation_freq into account .","The documentation for the patience parameter in the callback EarlyStopping/ReduceLROnPlateau may lead one to believe that training is stopped , whenever ` patience ` epochs have passed and some ` quantity ` has not improved . This is not the case , when training with ` model.fit ( validation_freq=5 ) ` and monitoring a validation quantity like ` val_loss ` . In that case , at least ` 5 * patience ` epochs have to pass , because only those epochs are counted that actually produce a ` val_loss ` value , i.e . every 5th one . One could either change the implementation and count every epoch and not just the ones that produce the measured quantity or improve the documentation and make clear that only those epochs are counted that actually produce the monitored value . I 'd prefer the latter , as it does not break existing code/expectations .",13239.0
23,2019-09-11 20:35:25,2019-08-18 21:39:24,Correct the DepthwiseConv2d docstrings - output shape,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Correct the DepthwiseConv2d docstrings - output shape . Previously the doc says the output channel is ` filters ` , which is incorrect . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13225.0
24,2019-08-25 17:11:27,2019-08-06 14:24:46,pep8 config in setup.cfg for easy pep8 linter usage,To be able to use the pep8 linter ( with vscode for example ) I added the pep8 config to setup.cfg as described here : https : //pep8.readthedocs.io/en/release-1.7.x/intro.html ? highlight=setup % 20cfg # configuration It has the same configuration as given in [ pytest.ini ] ( https : //github.com/keras-team/keras/blob/master/pytest.ini # L16 ) .,13196.0
25,2019-07-23 22:52:02,2019-07-23 17:47:37,For better performance,"move self.l1 and self.l2 outside K.sum may increase the performance of calculating the norm . In deep learning , the norm should not be very large ( a large norm will make loss function useless ) , so move self.l1 and self.l2 outside K.sum will not cause overflow problem . < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13144.0
26,2019-07-25 20:29:50,2019-07-22 22:01:18,RNN initial state : bug fix + suppress false warning,"# # # Summary 1 - Suppresses a false warning when serializing models containing RNNs with initial state ( makes people think seq2seq models are not serializable ) 2 - Makes custom RNNs with extra args in ` call ( ) ` serializable when an initial state is also provided ( super niche , I know ) # # # Related Issues # 9914 [ StackOverflow Saving Keras model - UserWarning : Layer XX was passed non-serializable keyword arguments ] ( https : //stackoverflow.com/questions/53761145 ) # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13138.0
27,2019-07-10 22:51:15,2019-07-07 17:36:13,Allow unrolled RNNs with input_length=1,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Allow unrolling RNNs with input_length=1 . For e.g , this is required to deploy seqseq models on mobile ( tflite doesnt support symbolic loop ) # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13078.0
28,2019-07-09 21:31:18,2019-07-06 13:20:20,Update pretrained_word_embeddings.py,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Hello , Here 's a small example why I think there 's a small mistake in the code . ! [ Example Code ] ( https : //i.imgur.com/jZVO97d.png ) Now if you check we 've specified > MAX_NUM_WORDS = 3 but tokenizer return * * n-1 * * words i.e * * 2 * * . So we only have two words in our integer coded corpus . # # # Related Issues None . # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ n ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13073.0
29,2019-07-03 02:37:25,2019-07-02 09:13:39,load_weights ( ) now properly closes file,"# # # Summary In certain use cases , load_weights ( ) would cause OSError if called repeatedly on several different files . The proposed addition will now make sure the HDF5 files are closed before exiting the method . Fixes # 4361 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13048.0
30,2019-08-25 17:08:52,2019-07-01 13:14:30,Recompute steps_per_epoch after each epoch in traingin_generator,"# # # Summary keras.util.Sequence gives great flexibility to implement user 's own train sequences , but number of steps per epoch is computed only once at the beginning of the training . This makes is hard to change sequence lenghts ( like as a result of changed batch size ) between different epochs . Forcing training_generator to recompute steps_per_epoch after each epoch to avoid that . # # # Related Issues https : //github.com/keras-team/keras/issues/10143 https : //github.com/keras-team/keras/issues/13038 # # # PR Overview Recompute ` steps_per_epoch ` after each epoch in ` training_generator.py : :fit_generator ` I did n't add any tests for now cause I 'm not aware of the gotchas and looking for a feedback first . < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",13037.0
31,2019-06-23 20:24:05,2019-06-19 16:53:11,Adding weighted_metrics to model loading/saving,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary ` weighted_metrics ` were not being properly serialized during saving or examined-for during loading . This patch adds ` weighted_metrics ` to ` training_config ` , and seeks ` weighted_metrics ` when constructing a model from a h5 . A ` get ` is used instead of standard ` __getitem__ ` because older versions of keras would lack this field in ` training_config ` and then fail on load . # # # Related Issues Fixes # 10221 . # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12984.0
32,2019-06-17 17:51:14,2019-06-12 14:40:59,correct DepthwiseConv2D docstring,# # # PR Overview just a documentation fix,12949.0
33,2019-06-06 17:51:43,2019-06-04 07:13:01,Adding support for ` Loss ` instances in model compile .,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding support for ` Loss ` instances in model compile . # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12915.0
34,2019-06-01 21:55:10,2019-06-01 02:51:16,More intuitive dilated kernel size calculation,"When we dilate a kernel of size N by D we take N - 1 steps of size D and finally sample 1 more pixel , hence ( N - 1 ) * D + 1 . The math remains the same : size = filter_size + ( filter_size - 1 ) * ( dilation - 1 ) size = x + ( x - 1 ) * ( y - 1 ) size = x + ( x * y - x - y + 1 ) size = x * y - y + 1 size = ( x - 1 ) * y + 1 size = ( filter_size - 1 ) * dilation + 1 < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12904.0
35,2019-06-01 21:51:55,2019-06-01 00:52:29,Adding CategoricalCrossentropy and SparseCategoricalCrossentropy Loss classes,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding CategoricalCrossentropy and SparseCategoricalCrossentropy Loss classes # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12903.0
36,2019-05-31 17:08:36,2019-05-29 21:19:49,"Adding MeanAbsoluteError , MeanAbsolutePercentageError , MeanSquaredLogarithmicError and BinaryCrossentropy loss classes .","< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding MeanAbsoluteError , MeanAbsolutePercentageError , MeanSquaredLogarithmicError and BinaryCrossentropy loss classes . # # # Related Issues n/a # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12894.0
37,2019-05-24 00:03:05,2019-05-23 06:17:25,"Adding Loss , LossFunctionWrapper , MeanSquaredError classes .","< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Adding Loss , LossFunctionWrapper , MeanSquaredError classes and test cases for testing MeanSquaredError loss class . These classes can not be used with Keras training yet . # # # Related Issues None # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12859.0
38,2019-05-23 18:24:44,2019-05-23 05:55:21,Refactor outdated official keras site doc .,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Noticed some outdated source that has n't been updated in the site ReadMe Doc . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12858.0
39,2019-05-28 21:40:29,2019-05-21 01:35:10,Sync Keras optimizer with tf.keras optimizer,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Changes : 1 ) epsilon has been removed from argument list , using default instead for future support of mixed precision . passing epsilon is still supported . 2 ) decay has been removed from argument list , for future support of learning rate decay objects . passing decay is still supported . 3 ) all lr has been changed to learning_rate . passing lr is still supported . 4 ) add initial_accumulator_value to Adagrad . 5 ) add momentum and centered to RMSprop . 6 ) Adam optimize wo n't have vhat if amsgrad is not present . set_weights is override to maintain backward compatibility . 7 ) Adadelta adds iterations to its weight list . set_weights is override to maintain backward compatibility . 8 ) Adagrad adds iterations to its weight list . set_weights is override to maintain backward compatibility . 9 ) RMSprop adds iterations to its weight list . set_weights is override to maintain backward compatibility . 10 ) Nadam changes default learning rate from 0.002 to 0.001 11 ) Adamax changes default learning rate from 0.002 to 0.001 12 ) Adadelta changes default learning rate from 1.0 to 0.001 13 ) Adagrad changes default learning rate from 0.01 to 0.001 # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ y ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12841.0
40,2019-05-23 18:35:41,2019-05-18 20:53:06,add cnn seq2seq example,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Simple example of sequence-to-sequence using 1D CNNs and Attention . Very similar to lstm_seq2seq.py except the model definition and decoding part . # # # Related Issues # 11780 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12831.0
41,2019-09-11 21:37:03,2019-05-01 16:25:59,Complete the docs by adding data to multi-input/output example,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Fixes # 12445 by adding data to the docs at [ this link ] ( https : //keras.io/getting-started/functional-api-guide/ # multi-input-and-multi-output-models ) by modifying [ here ] ( https : //github.com/keras-team/keras/blob/master/docs/templates/getting-started/functional-api-guide.md ) # # # Related Issues Refer # 12445 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12775.0
42,2019-05-23 23:56:51,2019-04-26 08:29:52,Fixed plot_model for expand_nested=True,# # # Summary Keras plot_model with This produces currently the following output ! [ model3 ] ( https : //user-images.githubusercontent.com/42428595/56793933-d180ec80-6815-11e9-9d09-e4f864b466bc.png ) With the fix of PR model is plotted properly as : ! [ model_new ] ( https : //user-images.githubusercontent.com/42428595/56793973-e198cc00-6815-11e9-9959-957f1bed6fac.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12750 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12751.0
43,2019-05-24 19:54:32,2019-04-26 00:50:45,Use layer.dtype as the default dtype when adding a new weight,# # # Summary Use layer.dtype as the default dtype when adding a new weight and add dtype to network initialization . # # # Related Issues https : //github.com/tensorflow/tensorflow/issues/27705 # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n * ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) * Does not effect the public API,12740.0
44,2019-05-23 23:59:06,2019-04-23 16:38:01,DOC : do n't reuse names in introductory example,I would try to be as explicit as possible in the first example of the functional API < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12721.0
45,2019-08-29 11:56:23,2019-04-22 08:41:53,"No documentation for array_to_img , img_to_array and save_img under preprocessing.image",There 's no documentation for functions mentioned below in keras repo . It 's there under keras pre-processing repo . Find the below functions under ` keras/preprocessing/image.py ` 1 . ` array_to_img ` 2 . ` img_to_array ` 3 . ` save_img ` Thank you !,12711.0
46,2019-04-20 00:14:43,2019-04-15 02:59:44,change plot_model to fully support plotting submodel and fix bugs,"# # # Summary Changed plot_model function in vis_utils.py to fully support plotting submodels and also fixed some bugs . Previous PR [ # 11431 ] ( https : //github.com/keras-team/keras/pull/11431 ) had add ability to visualize only wrapped submodels with plot_model function , but it works wrong sometimes , as shown below later . This PR can not only support plotting wrapped submodels , but also add ability to plot unwrapped submodels . And it does n't get wrong results according to my tests . For example , this model is from [ Video question answering model ] ( https : //keras.io/getting-started/functional-api-guide/ # video-question-answering-model ) in Keras Documentation . ! [ model_new_expand ] ( https : //user-images.githubusercontent.com/42084654/56105079-2c405b80-5f6d-11e9-8d4a-6524fc67fa6e.png ) However , calling the same with previous PR will produce something wrong as below . First , it ca n't plot unwrapped models ; Second , it even got wrong model structure , which is the bug we talked before . ! [ model_old_expand ] ( https : //user-images.githubusercontent.com/42084654/56105095-3a8e7780-5f6d-11e9-955a-7d27661f15ec.png ) # # # Related Issues [ # 5937 ] ( https : //github.com/keras-team/keras/issues/5937 ) # # # Related PRs [ # 11431 ] ( https : //github.com/keras-team/keras/pull/11431 ) # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12675.0
47,2019-04-14 18:00:11,2019-04-14 09:32:51,Update the shape of `` y_train '' and `` y_test '' in the document for CIFAR datasets,"# # # Summary Update the shape of `` y_train '' and `` y_test '' in [ this document ] ( https : //github.com/keras-team/keras/blob/master/docs/templates/datasets.md ) , which describes the output of CIFAR10 and CIFAR100 datasets . From ( num_samples , ) To ( num_samples , 1 ) Please see the links to the source codes , which are used to load the CIFAR10 and CIFAR100 datasets , and my test codes below as evidence . [ y_train = np.reshape ( y_train , ( len ( y_train ) , 1 ) ) ] ( https : //github.com/keras-team/keras/blob/35093bc9bb14a66d09fe6ea26e302df8ffad64f4/keras/datasets/cifar10.py # L37 ) [ y_test = np.reshape ( y_test , ( len ( y_test ) , 1 ) ) ] ( https : //github.com/keras-team/keras/blob/35093bc9bb14a66d09fe6ea26e302df8ffad64f4/keras/datasets/cifar10.py # L38 ) [ y_train = np.reshape ( y_train , ( len ( y_train ) , 1 ) ) ] ( https : //github.com/keras-team/keras/blob/35093bc9bb14a66d09fe6ea26e302df8ffad64f4/keras/datasets/cifar100.py # L39 ) [ y_test = np.reshape ( y_test , ( len ( y_test ) , 1 ) ) ] ( https : //github.com/keras-team/keras/blob/35093bc9bb14a66d09fe6ea26e302df8ffad64f4/keras/datasets/cifar100.py # L40 ) ! [ output ] ( https : //user-images.githubusercontent.com/43639585/56090900-a4aa0c80-5eda-11e9-82c4-90617a7cb628.png ) < ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12669.0
48,2019-04-12 00:44:54,2019-04-09 00:54:21,Update a -- tensorflow-backend-users.md,Proposing a new issue template for the users using tensorflow backend . The intention is to reduce the follow up questions with the user and expedite the issue resolution process . Please take a look . Thanks !,12644.0
49,2019-04-16 05:43:51,2019-04-07 20:38:20,top_k_categorical_accuracy produces wrong result when weighted by sample,"# # # Summary Metrics top_k_categorical_accuracy and sparse_top_k_categorical_accuracy should output a vector of accuracies instead of single scalar to be compatible with weighted_masked_objective function : https : //github.com/keras-team/keras/blob/7c7e51ea5ab47b67cd68374400051dd022bdc662/keras/engine/training_utils.py # L398 weighted_masked_objective function expects to receive a vector with separate accuracy for every sample in batch , it 's needed to properly reduce accuracies when sample weight is 0 : https : //github.com/keras-team/keras/blob/7c7e51ea5ab47b67cd68374400051dd022bdc662/keras/engine/training_utils.py # L446 If weighted_masked_objective receives a scalar instead of vector , it wo n't be able to mask samples with weight 0 . Consider this example : I 'm not sure whether or not this requires a unit test . # # # Related Issues # # # PR Overview - [ ? ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12632.0
50,2019-04-06 19:40:59,2019-04-06 11:07:24,Speed optimization,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Use ` np.fromstring ` to read directly embedding values directly into an array # # # Related Issues None # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12628.0
51,2019-04-08 01:53:48,2019-04-06 08:48:38,Minor optimisations,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary - Using ` dict.copy ( ) ` instead of importing ` copy ` library - Faster list extension ( see code ) # # # Related Issues None # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12627.0
52,2019-04-03 18:43:47,2019-03-28 04:13:19,"Allow generators into Model 's fit , evaluate and predict","# # # Summary I 've ported the interesting sections of the code implemented in [ tensorflow/keras/engine/training.py # L749 ] ( https : //github.com/tensorflow/tensorflow/blob/master/tensorflow/python/keras/engine/training.py # L749 ) and some necessary utils . Generators and Sequences can now be passed to ` Model # fit ` , ` Model # evaluate ` and ` Model # predict ` . The parameters ` max_queue_size , workers , use_multiprocessing ` were added to these methods ( they now have the exact same signature as the ones in ` tf.keras ` . # # # Related Issues # 11772 # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12568.0
53,2019-04-03 00:42:05,2019-03-26 06:00:30,Fix ` slice ` of TF for enabling the sanity check to handle TF tensors,# # # Summary This PR fixes ` slice ` of TF for enabling the sanity check to handle TF tensors . # # # Related Issues # 12539 # 12548,12551.0
54,2019-03-26 02:39:58,2019-03-25 07:39:44,Revise ` in_top_k ` for CNTK,"# # # Summary This PR revises ` in_top_k ` for CNTK . Currently , the ` C.classification_error ` supports only one sample , not batch . Thus , this PR concatenates each result of each sample .",12546.0
55,2019-03-25 08:38:43,2019-03-25 06:57:01,Revise ` test_clip_supports_tensor_arguments `,# # # Summary This PR revises ` test_clip_supports_tensor_arguments ` . The hardcoded values need to be replaced with random values .,12545.0
56,2019-04-03 00:41:18,2019-03-25 04:52:43,Revise backend tests for dtype,"# # # Summary This PR revises backend tests for dtype as follows . 1 . The global imports of ` floatx , set_floatx , variable ` have been removed . 2 . The ` test_set_floatx ` and ` test_set_floatx ` have been integrated because they are redundant . 3 . The different dtypes have been parameterized . 4 . The ` test_variable_support_bool_dtype ` for Theano have been enabled .",12544.0
57,2019-03-25 05:53:02,2019-03-25 04:07:48,Enable theano exception tests,# # # Summary The ` separable_conv2d ` of Theano can raise ` ValueError ` now . This PR enables this exception test .,12543.0
58,2019-03-25 05:52:23,2019-03-25 04:06:25,Revise stack and concatenate backend tests,# # # Summary This PR consists of the followings : 1 . The tests for ` stack ` and ` concatenate ` have been grouped because they are similar operations . 2 . The legacy test form ( ` for k in WITH_NP ` ) has been removed . 3 . The tests have been parametrized .,12542.0
59,2019-03-25 03:55:34,2019-03-25 02:40:07,Revise backend tests for binary and categorical crossentropy,"# # # Summary The backend tests should provide valid usages , but now include an invalid usage ( invalid target probabilities ) . The tests with invalid usage may make users confused . I think that we do n't need crossentropy tests with random target probabilities ( whose sum are not equal to 1 ) . This PR revises backend tests for binary and categorical crossentropy .",12541.0
60,2019-03-25 04:16:06,2019-03-25 01:48:47,Revise ` reverse ` for Theano and Enable the tests for CNTK,# # # Summary This PR revises ` reverse ` for Theano and enables the tests for CNTK .,12540.0
61,2019-03-25 08:33:57,2019-03-25 01:15:45,Add ` slice ` for Theano and CNTK,# # # Summary This PR adds ` slice ` for Theano and CNTK .,12539.0
62,2019-03-25 03:53:53,2019-03-24 08:01:29,Add ` cumprod ` for CNTK,# # # Summary This PR adds ` cumprod ` for CNTK .,12536.0
63,2019-03-25 02:14:48,2019-03-24 06:28:53,Make ` eye ` consistent over all the backends,# # # Summary This PR makes ` eye ` consistent over all the backends .,12534.0
64,2019-03-24 10:07:33,2019-03-24 06:11:00,Improve docs for consistency as Markdown format,# # # Summary This PR improves docstrings for consistency as Markdown format .,12533.0
65,2019-04-03 00:39:51,2019-03-21 18:02:13,Add kwarg and documentation for dilation_rate to DepthWiseConv2D,# # # Summary # # # Related Issues fix for # 12525 which is identical to # 9642 # # # PR Overview This PR is very close to # 9844 . Just adding ` dilation_rate ` to arguments of DepthWiseConv2D explicitly . - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ y ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12526.0
66,2019-03-17 22:19:01,2019-03-17 18:43:48,Updated the copyright years,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary The copyrights years were not up to date , hence , I changed them to the current year . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ n ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12506.0
67,2019-03-17 08:38:44,2019-03-16 11:58:04,Revise ` logsumexp ` in np backend and reduce those redundant tests,# # # Summary This PR includes the following : 1 . The ` sp.misc.logsumexp ` in the numpy backend has been replaced with the ` sp.special.logsumexp ` because the former will be deprecated . 2 . The ` test_logsumexp ` has been removed because it is redundant to ` test_elementwise_operations ` . 3 . The ` test_logsumexp_optim ` for Theano has been enabled .,12500.0
68,2019-03-17 08:51:52,2019-03-16 11:39:34,"Update docs for some activations , make the style uniform",< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Update the docs for ` tanh ` and ` sigmoid ` functions [ here ] ( https : //github.com/keras-team/keras/blob/c24d16af155e20976bdf61e468ba760408e676ff/keras/activations.py # L131 ) and [ here ] ( https : //github.com/keras-team/keras/blob/c24d16af155e20976bdf61e468ba760408e676ff/keras/activations.py # L137 ) and also make the style uniform # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12499.0
69,2019-03-17 08:47:23,2019-03-16 11:05:45,"Revise docs for ` include_top=False , pooling=None `","# # # Summary This PR is a follow-up of keras-team/keras-applications # 48 . The ` include_top=False , pooling=None ` arguments should return the last convolutional `` block '' rather than `` layer '' . The `` block '' means generally a set of layers , and the `` convolutional block '' in the ImageNet models typically consists of several convolutional layers followed by ( or following ) a 2x down-sampling layer . # # # Related Issues keras-team/keras-applications # 48",12498.0
70,2019-03-17 08:40:13,2019-03-16 09:20:37,Suppress several warnings,"# # # Summary It is important to reduce sizes of log files for using CI tools . This PR suppresses warnings in order to prevent the sizes from growing larger than necessary . - Baseline : [ the recent Python 3 + TF build on the master branch ] ( https : //travis-ci.org/keras-team/keras/jobs/506898066 ) - the message ` /home/travis/miniconda/envs/test-environment/lib/python3.6/site-packages/numpy/lib/type_check.py:546 ` wastes 793 lines , - the message ` keras/engine/saving.py:425 ` wastes 43 lines , - the message ` keras/engine/saving.py:590 ` wastes 6 lines . # # # Related Issues # 9139 # 7636",12496.0
71,2019-03-16 17:47:07,2019-03-16 07:31:02,Make ` tile ` consistent over all the backends,"# # # Summary Currently , the behaviors of ` tile ` in all the backends are different . This PR makes ` tile ` consistent over all the backends ( including NumPy backend ) .",12494.0
72,2019-04-03 21:46:22,2019-03-15 15:13:41,Default type to floatx ( ),< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Default to floatx ( ) type when dtype argument is not provided # # # Related Issues # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ Y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12492.0
73,2019-03-14 18:10:55,2019-03-14 10:32:02,Reuse ` get_value ` code inside ` batch_get_value `,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary See title # # # Related Issues # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12477.0
74,2019-03-12 23:17:40,2019-03-12 22:23:17,Tf 2 : fix optimizer weights naming collision issue,"# # # Summary * Since variables dont have global scope in TF 2 , they do not have unique names . This has to be taken into account when saving weights . * Provided names for all keras optimizer weights ( though this is not required for ` optimizer_tests ` to pass , the fix in ` saving.py ` should do ) # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12466.0
75,2019-03-12 23:23:02,2019-03-12 20:07:29,TF-2 : Remove get_session ( ) call in multi_gpu_utils.py,# # # Summary # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12465.0
76,2019-03-12 18:24:16,2019-03-12 08:31:38,Fix doc,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Fixed doc to clear up some confusion . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12459.0
77,2019-03-07 18:28:42,2019-03-07 16:23:41,Added Markdown formatting to examples/mnist_acgan.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to ` examples/mnist_acgan.py ` . Result : ! [ mnist_acgan1 ] ( https : //user-images.githubusercontent.com/3424796/53971726-55abd300-40f5-11e9-85a9-ccae5a61bcbe.png ) ! [ mnist_acgan2 ] ( https : //user-images.githubusercontent.com/3424796/53971727-55abd300-40f5-11e9-8dde-49153ec6a34b.png ) # # # Related Issues # 12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12414.0
78,2019-03-20 05:30:40,2019-03-06 23:30:51,Corrected 2D relicts in 3D function comments,"In Cropping3D and ZeroPadding3D , the comments referred to `` two '' values , which for 3D functions must be `` three '' . # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12406.0
79,2019-03-01 22:30:32,2019-02-28 16:53:38,update deprecated tensorflow casting,"# # # Summary Traditional tensorflow casting such tf.to_int32 , tf.to_float will be removed in a future version . It 's better to update these casting function for a future version of keras . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ n ] This PR is backwards compatible [ y/n ] * - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) \ * in case using tensorflow version > = r1.13",12367.0
80,2019-02-25 17:51:56,2019-02-25 13:50:50,Use native CNTK functions for zeros_like and ones_like,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Use native CNTK functions for ` zeros_like ` and ` ones_like ` # # # Related Issues # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12344.0
81,2019-02-24 23:22:05,2019-02-23 13:22:21,Fix typo in siamese example,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary I 've noticed a typo in ` mnist_siamese.py ` example ( variable ` sqaure_pred ` - > ` square_pred ` ) # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12339.0
82,2019-03-15 17:51:51,2019-02-23 08:45:13,Fix in_top_k tests to include CNTK [ Test fails ],"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Tests for ` K.in_top_k ` were written to compare results between Theano and TF backends thus skipping CNTK altogether . The PR creates an equivalent function in numpy backend and compares the result of the backend being tested to it , allowing all the backends to be tested independently . The fixed tests reveal # 12335 # # # Related Issues # 12335 # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12336.0
83,2019-02-22 17:49:25,2019-02-22 13:54:57,Default dtype made floatx ( ) instead of np.float32,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary - dtype for ` random_uniform ` , ` random_normal_variable ` , ` truncated_normal ` will default to ` floatx ( ) ` instead of ` np.float32 ` - Replacing an obsolete link in comment # # # Related Issues # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12332.0
84,2019-02-22 03:50:39,2019-02-22 01:40:37,Removed references to depth_multiplier in keras.applications.MobileNetV2 docs,# # # Summary Removed references to ` depth_multiplier ` as an argument to ` keras.applications.MobileNetV2 ` in ` docs/templates ` # # # Related Issues # 12327 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12328.0
85,2019-02-26 23:34:32,2019-02-21 15:06:35,Added MarkDown formatting to examples/lstm_stateful.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ lstm_stateful1 ] ( https : //user-images.githubusercontent.com/3424796/53178681-3b98cd80-35ea-11e9-809a-9104c81dfb9f.png ) ! [ lstm_stateful2 ] ( https : //user-images.githubusercontent.com/3424796/53178682-3b98cd80-35ea-11e9-83a2-fbab3abd7254.png ) # # # Related Issues # 12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12323.0
86,2019-02-22 17:47:36,2019-02-21 15:05:24,Added MarkDown formatting to examples/lstm_seq2seq_restore.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ lstm_seq2seq2_restore1 ] ( https : //user-images.githubusercontent.com/3424796/53178584-04c2b780-35ea-11e9-96a1-ab58aa8a94b5.png ) ! [ lstm_seq2seq2_restore2 ] ( https : //user-images.githubusercontent.com/3424796/53178585-04c2b780-35ea-11e9-8645-52f7ad27d2b0.png ) # # # Related Issues # 12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12322.0
87,2019-02-21 07:56:44,2019-02-20 16:12:30,Added Markdown formatting to examples/imdb_lstm.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ imdb_lstm1 ] ( https : //user-images.githubusercontent.com/3424796/53106098-3ffdb180-352a-11e9-950c-2c86f87cf49a.png ) ! [ imdb_lstm2 ] ( https : //user-images.githubusercontent.com/3424796/53106099-3ffdb180-352a-11e9-9983-997aa01735bb.png ) # # # Related Issues # 12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12313.0
88,2019-02-21 07:55:56,2019-02-20 16:10:57,Added MarkDown formatting to examples/imdb_fasttext.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ imdb_fasttext1 ] ( https : //user-images.githubusercontent.com/3424796/53105907-e09fa180-3529-11e9-9ce8-0e0cb6af1b72.png ) ! [ imdb_fasttext2 ] ( https : //user-images.githubusercontent.com/3424796/53105909-e09fa180-3529-11e9-9257-bc5d7988687f.png ) # # # Related Issues # 12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12312.0
89,2019-03-15 02:04:00,2019-02-19 15:35:13,K.cumsum for CNTK backend,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) Tests for ` cumsum ` and ` cumprod ` have been split for the time being - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12306.0
90,2019-02-19 15:16:14,2019-02-19 10:54:33,Added Markdown formatting to examples/imdb_cnn_lstm.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ imdb_cnn_lstm1 ] ( https : //user-images.githubusercontent.com/3424796/53010014-ac968480-3434-11e9-855d-97141c5366de.png ) ! [ imdb_cnn_lstm2 ] ( https : //user-images.githubusercontent.com/3424796/53010012-ac968480-3434-11e9-94fa-7874a229b8b0.png ) # # # Related Issues # 12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12303.0
91,2019-02-24 23:26:13,2019-02-18 23:33:06,add reset_uids to cntk backend,"# # # Summary Implements reset_uids in cntk , just resets _UID_PREFIXES dictionary . Added simple test . # # # Related Issues # 12161 # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12300.0
92,2019-03-18 06:18:58,2019-02-18 20:50:05,Improve cifar10_cnn_capsule.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Improves the cifar10_cnn_capsule.py example . Fixes spelling and formatting . Removes unnecessary function imports and unneeded function declaration . It also solves the below error by adding the steps_per_epoch argument in fit_generator . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12299.0
93,2019-02-17 20:21:59,2019-02-17 18:34:46,Added MarkDown formatting to examples/antirectifier.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ antirectifier1 ] ( https : //user-images.githubusercontent.com/3424796/52917384-a2fd0780-32e2-11e9-9c96-3e87e4a89b08.png ) ! [ antirectifier2 ] ( https : //user-images.githubusercontent.com/3424796/52917383-a2fd0780-32e2-11e9-851b-fc714d405b41.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12294.0
94,2019-02-17 18:15:37,2019-02-17 16:48:35,Added MarkDown formatting to examples/conv_lstm.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ conv_lstm1 ] ( https : //user-images.githubusercontent.com/3424796/52916131-c2d8ff00-32d3-11e9-80a7-3a366b13655f.png ) ! [ conv_lstm2 ] ( https : //user-images.githubusercontent.com/3424796/52916130-c2d8ff00-32d3-11e9-8863-3c072e72bc7d.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12293.0
95,2019-02-17 14:06:58,2019-02-17 11:25:42,Added MarkDown formatting to examples/imdb_cnn.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ imdb_cnn1 ] ( https : //user-images.githubusercontent.com/3424796/52912244-8fcc4680-32a6-11e9-84bf-21eb50c04fe4.png ) ! [ imdb_cnn2 ] ( https : //user-images.githubusercontent.com/3424796/52912243-8fcc4680-32a6-11e9-97bc-49141b2028bf.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12292.0
96,2019-02-24 23:30:08,2019-02-16 16:09:26,Added a test to ensure that the module name is always valid in the docs .,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary I 'm currently working on a refactoring of the ` autogen.py ` . The goal is to sanetize it and make it easily usable from keras-contrib . Since I want to make small PRs , this one may not look useful , but it 's actually a necessary addition of test to ensure that I do n't break things during the refactoring . # # # Related Issues https : //github.com/keras-team/keras-contrib/issues/412 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12288.0
97,2019-02-17 10:55:34,2019-02-16 11:18:02,Added MarkDown formatting to examples/imdb_bidirectional_lstm.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ bidirectional_lstm1 ] ( https : //user-images.githubusercontent.com/3424796/52898972-562f0900-31dc-11e9-9b8e-c3e22d7a1087.png ) ! [ bidirectional_lstm2 ] ( https : //user-images.githubusercontent.com/3424796/52898970-562f0900-31dc-11e9-870a-2e2092ed4db0.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12287.0
98,2019-02-15 20:43:57,2019-02-15 10:57:52,Added MarkDown formatting to examples/image_ocr.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds Markdown formatting to . Result : ! [ image_ocr1 ] ( https : //user-images.githubusercontent.com/3424796/52852421-71ccdd80-3110-11e9-829a-6b16334092fb.png ) ! [ image_ocr2 ] ( https : //user-images.githubusercontent.com/3424796/52852420-71ccdd80-3110-11e9-82c1-8dab3b01c1d5.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12281.0
99,2019-02-24 23:49:58,2019-02-12 21:05:02,Use local RandomState instead of seeding the global RNG,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary According to [ NumPy NEP 19 — Random Number Generator Policy ] ( https : //www.numpy.org/neps/nep-0019-rng-policy.html ) , instantiating local ` RandomState ` objects is preferred , rather than seeding the global ` np.random ` generator . Seeding the global generator may introduce unexpected behavior in the applications that use Keras and also rely on its state . Proposed change : use a local ` RandomState ` object in dataset loaders and the Orthogonal initializer . # # # Related Issues https : //github.com/keras-team/keras/issues/12258 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12259.0
100,2019-02-27 19:10:40,2019-02-11 20:13:31,also set intra_op_parallelism_threads,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Conveniently , keras uses ` os.environ.get ( 'OMP_NUM_THREADS ' ) ` to set ` intra_op_parallelism_threads ` . I think it would be useful to also set ` inter_op_parallelism_threads ` using this variable . This is convenient because e.g . you can set ` OMP_NUM_THREADS=1 ` and keras will use no multithreading . # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12254.0
101,2019-02-16 00:25:45,2019-02-11 15:04:43,Spelling and formatting in variational_autoencoder.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Small formatting and a mistake in variational_autoencoder.py # # # Related Issues # # # PR Overview - [ N ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12253.0
102,2019-02-11 18:14:52,2019-02-11 12:01:21,Added MarkDown formatting to examples/conv_filter_visualization.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds MarkDown formatting to . Result : ! [ conv_filter_visualization1 ] ( https : //user-images.githubusercontent.com/3424796/52561899-9f561600-2df4-11e9-9415-7bda58fad65d.png ) ! [ conv_filter_visualization2 ] ( https : //user-images.githubusercontent.com/3424796/52561898-9f561600-2df4-11e9-8a10-ecd76499f7e2.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12252.0
103,2019-02-10 15:49:17,2019-02-09 14:59:56,Added MarkDown formatting to examples/cifar10_resnet.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds MarkDown formatting to . Result : ! [ cifar10_resnet1 ] ( https : //user-images.githubusercontent.com/3424796/52522299-41ea8980-2c7b-11e9-84ef-c6f1b28238de.png ) ! [ cifar10_resnet2 ] ( https : //user-images.githubusercontent.com/3424796/52522298-41ea8980-2c7b-11e9-9884-b1c468944acf.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12242.0
104,2019-02-25 04:06:16,2019-02-09 14:19:09,Support merge_repeated in K.ctc_decode ( ) beam search .,"# # # Summary It allows CTC beam search to disable merging repeated adjacent symbols even if they are separated by a blank symbol and behave consistently with greedy search . ` K.ctc_decode ( ) ` has a new argument ` merge_repeated=False ` ( instead of hard-coded constant ) which is passed to TF . A test is included . In addition it upgrades deprecated usage of ` tf.sparse_to_dense ( ) ` in ` K.ctc_decode ( ) ` ( TF was warning about it ) and fixes some doc strings ( proper case of boolean values ) there . There 's a separate test , since we needed different data and to make the whole test as obvious as possible . Possibly we could craft such data that both tests can be merged and parametrized . # # # Related Issues - # 12238 K.ctc_decode ( ) does not pass merge_repeated - + older duplicate : # 10852 ctc_decode returns inconsistent result when greedy=False - # 12240 K.ctc_decode ( ) beam search : tf.sparse_to_dense is deprecated # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - YES , added ` test_ctc_decode_beam_search_no_merge ( ) ` - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - YES , doc of ` K.ctc_decode ( ) ` is updated - [ x ] This PR is backwards compatible [ y/n ] - YES , the default value of ` merge_repeated=False ` is the same as the previously hard-coded one - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) - YES , it just add one more optional argument ` merge_repeated ` to ` K.ctc_decode ( ) `",12241.0
105,2019-02-09 00:15:24,2019-02-08 22:55:37,Added MarkDown formatting to examples/cifar10_cnn_tfaugment2d.py,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds MarkDown formatting to . Result : ! [ cifar10_cnn_tfaugment2d1 ] ( https : //user-images.githubusercontent.com/3424796/52510423-cb567900-2bf3-11e9-9e4c-faa9c26fb33c.png ) ! [ cifar10_cnn_tfaugment2d2 ] ( https : //user-images.githubusercontent.com/3424796/52510422-cb567900-2bf3-11e9-9691-a933fdbdd2d9.png ) Unfortunately , according to [ this ] ( https : //www.mkdocs.org/user-guide/writing-your-docs/ ) , it seems that table cells can not span multiple lines in MarkDown . In addition , the PEP8 tests fail with long lines so I tried to make it concise but clear . The 'Settings : ' lines were moved under the tables because this way they 'll be close to the tables the settings refer to and act similar to a caption . If the lines were above the tables , there was a big gap between the table header and the setting description . Finally , the 'Benchmark ... ' line was changed from a heading to regular bold text as the long line was showing in the sidebar on the left . If this formatting is undesirable , another option would be to keep the old formatting for the tables and wrap them in code blocks . # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12237.0
106,2019-02-08 17:36:10,2019-02-08 12:45:44,Added MarkDown formatting to examples/cifar10_cnn_capsule.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds markdown formatting to . Result : ! [ cifar10_cnn_capsule1 ] ( https : //user-images.githubusercontent.com/3424796/52479096-65400680-2b9f-11e9-93c3-9bb1ded46a25.png ) ! [ cifar10_cnn_capsule2 ] ( https : //user-images.githubusercontent.com/3424796/52479095-65400680-2b9f-11e9-9276-f82c79434169.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12231.0
107,2019-02-16 00:47:43,2019-02-07 22:12:59,Moved all the documentation tests in a common subdirectory .,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary All tests related to the docs should be put together to be run together . # # # Related Issues # # # PR Overview I moved all docs related tests into ` tests/docs ` to easily execute them or exclude them . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12228.0
108,2019-02-07 21:50:24,2019-02-07 20:02:00,Add MarkDown formatting to examples/cifar10_cnn.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This PR adds MarkDown formatting to . Result : ! [ cifar_10_cnn1 ] ( https : //user-images.githubusercontent.com/3424796/52439260-f9b05780-2b12-11e9-8aa1-49b2bf5a4ec1.png ) ! [ cifar_10_cnn2 ] ( https : //user-images.githubusercontent.com/3424796/52439261-fa48ee00-2b12-11e9-883b-4bba1e58ff99.png ) # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12226.0
109,2019-02-07 17:35:11,2019-02-07 11:09:22,Added MarkDown formatting support to examples/babi_memnn.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary This pull request adds MarkDown formatting to . # # # Related Issues https : //github.com/keras-team/keras/issues/12219 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12221.0
110,2019-02-07 19:44:58,2019-02-07 09:53:47,Added the possibility to specify the destination directory in autogen.py,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12220.0
111,2019-02-08 19:27:43,2019-02-06 11:00:50,Skipping tests when py2 on other backends than tensorflow,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary I believe that we should cover the entier codebase with tests for both python 2 and python 3 . But this is overkill to run all tests with all backends on python2 . # # # Related Issues # # # PR Overview Now theano with python 2 runs only the backend tests and cntk with python 2 runs only the backend tests . We save 4 minutes in the theano build and 1 minute in the cntk build . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12216.0
112,2019-02-07 00:25:44,2019-02-05 18:51:34,Avoiding hardcoding paths when generating examples in the docs .,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary In the function ` copy_examples ` of ` autogen.py ` , the paths were hardcoded . Using relative paths will allow us more flexibility , so the ability to run the script in tests and also in the future , use this autogen.py in keras-contrib . # # # Related Issues https : //github.com/keras-team/keras-contrib/issues/412 # # # PR Overview The source and destination can now be specified at runtime . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12211.0
113,2019-02-15 23:58:45,2019-02-05 03:16:18,Fix clone_model,"# # # Summary Try to fix a bug inside ` keras.models._clone_functional_model ` , which can cause an error when clone a model containing a layer with 2 or more outputs I 'm not sure whether or not the issue needs a new unit test .. In fact I faced it when I 'm using ` multi_gpu_model ` as mentioned in my earlier issue，so maybe it 's a better idea to do some more test on ` multi_gpu_model ` instead ( but I have no idea about that ... ) # # # Related Issues https : //github.com/keras-team/keras/issues/12202 # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12205.0
114,2019-02-08 19:16:58,2019-02-04 18:12:34,Fixed conv_filter_visualization example,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Made the ` conv_filter_visualization ` example functional again and decreased the needed effort in actually running the program and changing simple parameters such as the desired layer or the number of steps and epochs . Overall it should be more readable and with that more understandable than before . # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12203.0
115,2019-02-05 18:56:33,2019-02-02 13:27:52,Add ` update_sub ` to CNTK backend,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Implement ` update_sub ` for CNTK backend function # # # Related Issues # 12162 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - I am unable to find any tests for update functions in ` backend_test.py ` - [ N ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ Y ] This PR is backwards compatible [ y/n ] - [ N ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12193.0
116,2019-02-02 12:50:41,2019-02-02 10:50:38,Test init args in documentation,< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Improve ` test_documentation ` by making sure arguments of class init are in the class docstring # # # Related Issues https : //github.com/keras-team/keras/issues/12189 # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12192.0
117,2019-01-29 18:28:43,2019-01-29 16:37:08,Using a mutable variable instead of a global variable in K.rnn,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary Trying to remove the global variable from K.rnn to be able to use tf.keras.backend.rnn instead . ` uses_learning_phase ` is n't used outside K.rnn so there must be a way to prevent it from leaking into the global context . # # # Related Issues # 11720 # 11502 # # # PR Overview We could probably also use a class with an attribute ` self.use_learning_phase ` and have those inner functions be methods of this class . Probably more code to do , but it would be the standard python way to do it . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12170.0
118,2019-09-11 21:11:03,2019-01-29 16:05:15,Implement K.foldl and K.foldr for the cntk backend .,"< ! -- Please make sure you 've read and understood our contributing guidelines ; https : //github.com/keras-team/keras/blob/master/CONTRIBUTING.md -- > # # # Summary It seems that github does n't pick up the changes , even though I did exactly as shown in the documentation : https : //help.github.com/articles/creating-a-pull-request-template-for-your-repository/ # # # Related Issues # 12135 # # # PR Overview I changed the main template to encourage contributors to add unit tests . Only a few of them add tests without being asked . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12168.0
119,2019-01-28 21:17:48,2019-01-28 19:05:57,Moving the integration tests to python3 .,"# # # Summary When we have the choice , let 's use python 3 . I hope that we drop python 2 support at the end of 2019 . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12154.0
120,2019-02-04 23:30:23,2019-01-27 18:44:11,Used paths rather than hardcoded strings in autogen.py,"# # # Summary By using paths and not hardcoded strings , we 'll be able to build the documentation programatically , hence run more tests on it . It 's also another step towards using the same codebase for generating the docs in keras-contrib and keras . # # # Related Issues # # # PR Overview This PR does n't enable running ` autogen.generate ( ) ` from another directory yet , but we 're getting there progressively . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12147.0
121,2019-01-28 17:33:17,2019-01-27 18:06:09,Using shutil rather than copying the tree manually in autogen.py,"# # # Summary In autogen.py , we copy template into sources and then work on it . But we copy the tree manually . ` shutil ` has a function for this purpose . # # # Related Issues # # # PR Overview In the loop , we copy only markdown files . But all the files in ` templates ` are markdown files so it 's fine . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12146.0
122,2019-01-27 12:01:15,2019-01-27 11:33:06,Unpin the numpy version now that the new version of theano is out .,# # # Summary Numpy was pinned in travis because theano did n't support the most recent version . Now it does . # # # Related Issues # 12037 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12142.0
123,2019-02-24 23:49:01,2019-01-26 08:39:31,Add pyux test,# 12073 clone,12137.0
124,2019-01-28 19:23:55,2019-01-25 16:40:01,Added pull request templates .,# # # Summary We often see PRs without the keyword fixes # { issue_number } and PRs without unit tests . That 's an issue . # # # Related Issues # # # PR Overview I propose PR templates with some decent defaults . I based this on moby/moby PR template which I think is quite good . I hope it makes us more productive . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12135.0
125,2019-01-31 09:40:22,2019-01-25 15:14:32,"Fix grammar in README , backend docs and initializers docs","# # # Summary Fixed several grammar problems in the README , backend docs and initializers docs . # # # Related Issues None # # # PR Overview Fixed grammar errors in README.md , backend.md and initializers.py - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12133.0
126,2019-01-24 20:09:52,2019-01-24 16:14:47,Keep input types with Lambda layers,"# # # Summary When computing the output shape , we create a dummy placeholder , but the dtype is not carried . # # # Related Issues Fixes # 12121 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12122.0
127,2019-01-24 21:53:19,2019-01-23 20:38:00,Add issue template that redirect to KP,"# # # Summary I 'm not sure that this is the right way , feel free to comment . Basically , we see a lot KP issues in the Keras issue tab . This is an attempt to fix this . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12115.0
128,2019-01-23 21:56:41,2019-01-22 15:40:02,Update optimizers.py,"# # # Summary fix bug in TFOptimizer , this optimizer should call tensorflow native optimizer with the named param var_list # # # Related Issues Without this fix i ca n't use my custom tensorflow optimizer that use * * kwargs # # # PR Overview - [ ] This PR requires new unit tests [ * * n * * ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ * * n * * ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ * * y * * ] - [ ] This PR changes the current API [ * * n * * ] ( all API changes need to be approved by fchollet )",12106.0
129,2019-01-21 21:37:06,2019-01-21 19:40:54,fixed callback warning error,"# # # Summary Fixed the callback warning error from # 12069 It was caused by wrong use of the formatting : used `` , '' instead of `` % '' to concatenate string and its variable # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12098.0
130,2019-01-21 09:55:33,2019-01-21 02:29:16,Formatting fixes,# # # Summary This PR fixes formatting . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12090.0
131,2019-01-28 22:43:34,2019-01-20 16:37:07,Moved the backend __init__ into another file .,# # # Summary This PR is part of # 12076 . Please review this one before # 12076 . This will allow us to choose what to import in the ` __init__.py ` file later on . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12086.0
132,2019-01-20 20:51:05,2019-01-20 16:18:59,Used K.backend ( ) instead of K._BACKEND .,# # # Summary This is a pull request to divide # 12076 into multiple sub-PRs making it easier to review ( the diff will be smaller ) . # # # Related Issues # 12076 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12084.0
133,2019-01-29 18:33:28,2019-01-19 14:57:38,Cleaned the namespace of keras.backend .,"# # # Summary ` keras.backend.__init__.py ` - > ` keras.backend.load_backend.py ` . I divided this PR into smaller ones to make it easier to review . See the PRs linked below . Please review them , and when they 're all merged , I 'll merge master into this branch to make the diff much smaller . This should streamline the review process . # # # Related Issues # 11992 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12076.0
134,2019-01-21 08:31:26,2019-01-18 12:47:17,Add warnings when trying to compute metrics for an unknown layer,"# # # Summary When giving unknown layer name in ` metrics ` to ` model.compile ` , will raise a warning instead of saying silent . # # # Related Issues fixes # 12068 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12071.0
135,2019-01-22 19:53:39,2019-01-17 21:57:18,Add an optional ` validation_freq ` argument to ` fit `,# # # Summary Sync with TF Keras . Allows user to specify how often to run validation . # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12065.0
136,2019-01-23 22:25:50,2019-01-16 20:59:26,Cleaning the keras.layers namespace .,"# # # Summary This PR is to clean the keras.layers namespace . This namespace have * a lot * of python objects in it which we do n't want the users to access . # # # Related Issues # 11992 # # # PR Overview Things to note : * ` layers.Minimum ` and ` layers.minimum ` were added to the docs . * ` deserialize_keras_objects ` , ` StackedRNNCells ` , ` InputLayer ` and ` InputSpec ` are not available anymore in ` keras.layers ` . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] ( I hope ) - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12056.0
137,2019-01-12 14:06:02,2019-01-12 10:00:01,Typo fixes,# # # Summary Just a couple of typos I have noticed . # # # Related Issues None # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12030.0
138,2019-01-15 17:39:21,2019-01-12 01:47:18,Fix documentation for Masking layer,# # # Summary This PR updates the documentation for the ` Masking ` layer to reflect the fact that the ` Masking ` layer works when all values for a given sample and timestep are the mask_value . Previously the description led you to believe that all values for a given timestep had to be the mask_value ( across all samples ) . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12029.0
139,2019-01-11 22:24:51,2019-01-10 18:52:53,Various tests parametrizations,# # # Summary Improve tests lisibility by : - adding some parametrizations in some files - removing one useless test on dcoumentation generation # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12017.0
140,2019-01-11 18:24:17,2019-01-08 21:46:32,Reduce tests duration,"# # # Summary Reduce overall tests duration by : - stop writing images and gradients for each call to TensorBoard Improvements ( test duration only ) : - py27 , TF : 448s - > 429s - py36 , TF : 446s - > 425s I 'm still looking around for improvements but thought we could merge it along the way . Most of the time wasted in CI is fetching miniconda and installing packages . # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12009.0
141,2019-01-08 23:22:46,2019-01-08 19:42:57,Fix Arguments display in Docs,"# # # Summary Fix display bug in the docs . When Arguments is the last section of a docstring , it generally does n't display the bullet points of the function arguments properly . This PR fixes this bug . # # # Related Issues https : //github.com/keras-team/keras/issues/11673 https : //github.com/keras-team/keras/issues/12006 # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12007.0
142,2019-01-09 23:56:47,2019-01-08 14:53:35,Clean up untouchable lines in ` separable_conv1d ` of CNTK,"# # # Summary This PR cleans up untouchable lines in ` separable_conv1d ` of CNTK . The lines 1752-1760 can not be touched because the ValueError in the line 1750 will always be raised ( dilation_rate [ 0 ] is always 1 and dilation_rate [ 1 ] can be any integer ) . Thus , this PR removes the untouchable lines and moves the ValueError into the beginning for style consistency with ` conv1d ` , ` conv2d ` , and ` conv3d ` . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",12002.0
143,2019-01-09 21:33:19,2019-01-08 06:03:24,Make the file closing styles consistent,# # # Summary This PR makes the file closing styles consistent . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),12000.0
144,2019-01-08 23:16:37,2019-01-08 05:22:46,Remove legacy environment variables,"# # # Summary This PR remove legacy environment variables : ` CORE_CHANGED ` , ` APP_CHANGED ` . The reason why they were proposed is to skip the unit tests for applications because the app tests are too heavy to test every time Travis is triggered . But now , the app tests have been performing in another repository since ` keras-applications ` was decoupled . Thus , the related stuffs are no longer needed . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11998.0
145,2019-01-08 10:01:26,2019-01-08 05:11:25,Fix typos,# # # Summary This PR fixes two typos . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11997.0
146,2019-01-09 21:32:11,2019-01-07 07:08:52,Update docs for ResNet variants,# # # Summary This PR updates docs for ResNet variants . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11988.0
147,2019-01-09 23:57:19,2019-01-07 04:26:49,Simplify identity initializer with zero padding,# # # Summary This PR is a follow-up of # 11887 . The zero-padding for non-square identity matrices is the default behavior of ` np.eye ` . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11986.0
148,2019-01-10 20:28:42,2019-01-06 11:30:41,Bump TF version to 1.12,# # # Summary Retry for https : //github.com/keras-team/keras/pull/11672 Having some trouble with ` ctc_decode_beam_search ` : I 've explored the computed values by Tensorflow ` gen_ctc_ops.ctc_beam_search_decoder ` and the returned ` log_probabilities ` are different between 1.10 and 1.11 . Investigating on this atm . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11984.0
149,2019-01-04 12:01:10,2019-01-04 09:05:40,Use with to ensure no resource leak in get_word_index ( ),# # # Summary Use the ` with ` context manager to ensure no resource leak in ` get_word_index ( ) ` . # # # Related Issues None . # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11975.0
150,2019-01-04 12:03:21,2019-01-04 08:59:21,Fix DeprecationWarning : invalid escape sequence in examples and tests,# # # Summary Fixes ` DeprecationWarning : invalid escape sequence ` in examples and tests . # # # Related Issues None . # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11974.0
151,2019-01-01 12:41:32,2019-01-01 03:27:49,Make model_to_dot available in keras.utils and update API,# # # Related Issues Fixes # 11959 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ y ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11960.0
152,2019-01-01 17:17:20,2018-12-23 12:55:26,Fix function 'get_file ( ) ' is inconsistent with keras backend when 'KERAS_HOME ' is not ` ~/.keras `,"# # # Summary the default value ( None ) for param ` cache_dir ` in function ` get_file ( ) ` is inconsistent with keras backend when 'KERAS_HOME ' is not ` ~/.keras ` . when we set ` KERAS_HOME ` and ` KERAS_HOME ` is not ` ~/.keras ` , models and datasets will still be in ` ~/.keras ` ( when the cache_dir is default value ) while the config file ` keras.json ` in ` KERAS_HOME ` . The config file ` keras.json ` , models and datasets should be in the same folder by default bug fix the unit test ` test_data_utils ( ) ` in ` tests/keras/utils/data_utils_test.py ` where the cache_dir remain extracted-file ` test.txt ` ( which should be removed at last ) when ` untar ` is ` True ` # # # Related Issues This applies the fix in issue [ # 11923 ] ( https : //github.com/keras-team/keras/issues/11923 ) # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11924.0
153,2018-12-21 21:08:56,2018-12-20 22:25:46,Make ` sample_weights ` and ` class_weights ` multiplicative .,# # # Summary This is an item to sync Keras with a pending change in tf.Keras Previously ` class_weights ` was ignored with a logging warning if ` sample_weights ` was also provided . # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11914.0
154,2018-12-23 16:48:13,2018-12-20 19:05:36,Add document generation test,"# # # Summary We should try to build the docs in travis to catch document generation errors . # # # Related Issues https : //github.com/keras-team/keras/pull/11880 # # # PR Overview - Add UTF-8 and mkdocs in Dockerfile , travis.yml - Test ` python autogen.py & & mkdocs build `",11913.0
155,2018-12-20 17:36:34,2018-12-18 19:00:56,Split Generators tests from Sequence tests,# # # Summary We can now test the Sequence API on Python3 . This PR aims at enabling those tests on Travis . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11901.0
156,2019-01-05 14:22:04,2018-12-17 17:38:55,Identity initializer with zero padding,# # # Summary This PR changes the behaviour of ` initializers.Identity ` to match Tensorflow 's behaviour ( pad with 0s if matrix is not square ) # # # Related Issues # 11774 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - > tests have been updated but no new tests required - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11887.0
157,2018-12-17 15:18:51,2018-12-16 16:59:45,Add softsign function in numpy backend,# # # Summary I add softsign function in numpy backend with a test .,11879.0
158,2018-12-17 15:19:39,2018-12-15 16:41:15,Removed unused function in autogen.py,# # # Summary This function is n't called or mentioned anywhere else in keras . We should remove it . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11872.0
159,2018-12-21 21:09:45,2018-12-07 13:27:41,"Class activation maps using resnet50 , inception-resnet-v2 , and nasnet model","# # # Summary Class activation mapping implementation using resnet50 , inception-resnet-v2 , and nasnet model . I implemented it using only the imagenet weight provided by keras . Sample images are shown below . * resnet50 * ! [ resnet ] ( https : //user-images.githubusercontent.com/7403396/49650218-de6f9000-fa6e-11e8-9514-077fc7107862.png ) * inception-resnet-v2 * ! [ inception ] ( https : //user-images.githubusercontent.com/7403396/49650227-e3344400-fa6e-11e8-9d13-8bea5fd3e642.png ) * nasnet * ! [ nasnet ] ( https : //user-images.githubusercontent.com/7403396/49650232-e5969e00-fa6e-11e8-8b70-7a36e6c07459.png ) # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11820.0
160,2019-01-10 00:03:34,2018-12-05 23:40:15,Sync the callback API with new tf.keras API,"# # # Summary This PR syncs callback API with [ the new ` tf.keras ` API ] ( https : //github.com/tensorflow/tensorflow/blob/master/tensorflow/python/keras/callbacks.py # L175 ) . Modifications : - A new helper function , ` _call_batch_hook ` , has been introduced to handle batch-related callbacks methods in different modes ( train/test/prediction ) . - ` on_batch_end ` and ` on_batch_begin ` has been refactored to call ` _call_batch_hook ` instead . - Methods ` on_train_batch_begin ` and ` on_train_batch_end ` have been introduced specifically for callbacks batch-related methods in training mode . I have also done some small formatting and style fixes . Further , I must mention that I think there is a small error in TF implementation : [ in this line ] ( https : //github.com/tensorflow/tensorflow/blob/320dc4913f94a679790d90f5c577037276aa9599/tensorflow/python/keras/callbacks.py # L187 ) the ` _t_enter_batch ` attribute , which measure the batch processing time , is set at the beginning of the method . However , I think this is wrong ( since in that case the execution time of ` on_batch_begin ` would also be included ) and as it is [ currently implemented in Keras ] ( https : //github.com/keras-team/keras/blob/7bee9a18d83899ce6dfd50c4883afc678139f4ad/keras/callbacks.py # L99 ) , it must be done at the end of the method . So in this PR I would set this attribute at the end . # # # Related Issues # 11771 # # # PR Overview - [ ? ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ? ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ y ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11808.0
161,2018-12-02 14:35:34,2018-12-01 14:40:52,Remove reduce sum impl in batch dot,# # # Summary # # # Related Issues # 11719 # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11768.0
162,2019-01-24 19:55:48,2018-11-29 23:19:44,Displayed some examples in the docs .,"# # # Summary The keras examples are great , but do not benefit from a good visibility . I believe we could add them to the docs . It requires very little work since all the code and docstrings have already been written . # # # Related Issues # # # PR Overview There is some black magic at work with ` compile ` . I took the code from https : //gist.github.com/rduplain/1249199 We can control which files get displayed with ` mkdocs.yml ` . For the moment only two are displayed . Here is the result : ! [ 1 ] ( https : //user-images.githubusercontent.com/12891691/49258375-88c73200-f435-11e8-8dc9-95c4201bfcbe.png ) ! [ 2 ] ( https : //user-images.githubusercontent.com/12891691/49258377-8a90f580-f435-11e8-81f0-d6fa42df09a9.png ) ! [ 3 ] ( https : //user-images.githubusercontent.com/12891691/49258378-8bc22280-f435-11e8-98d4-df9e6b677aa0.png ) - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11758.0
163,2018-12-01 20:16:25,2018-11-25 15:18:16,Some clarifications about the mxnet backend in the docs .,- [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11729.0
164,2018-12-09 18:40:01,2018-11-24 18:42:26,Updated docstring for LSTM layer - Specifying order of outputs,"# # # Summary When using the LSTM layer with ` return_state = True ` the last states are returned in addition to the output of the layer . However , it is not clear from the documentation what is the order of the returned states ( hidden state vs. cell state ) . For example , in : ` output , state_1 , state_2 = LSTM ( 100 , return_state=True ) ( x ) ` I would like to know which of state_1\2 is the last hidden state and which one is the cell state . # # # PR Overview Following the code I 'm pretty sure I got the order right - [ hidden state , cell state ] . However if you decide to include this change it would be nice for another set of eyes to make sure the order is correct . - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11726.0
165,2018-12-02 00:11:01,2018-11-24 16:34:59,Made the docstring processing test more robust .,"# # # Summary When we process a docstring with ` process_docstring ` , we do n't really care about the output , we care about the html which is going to be produced after the markdown parser converts it to html . This is why we should compare the resulting html . Allowing us more freedom when modifying ` autogen.py ` # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11725.0
166,2018-12-26 16:42:24,2018-11-24 14:58:57,Moved the structure of the keras documentation into a separate file .,"# # # Summary We had a number of issues about the documentation recently . Often related to ` autogen.py ` . This indicates that some work must be done to simplify this file and making it more accessible . # # # Related Issues # 11382 # 11375 # 11306 # 11673 # 11623 # # # Changes : - Separating the parsing and the declaration of the structure of the docs . They should be independant . - Making sure there is no code between functions declarations , this is easy to miss and unexpected . Logic should be put in functions or in ` if __name__ == '__main__ ' : ` . - Raise an error when users are not building the docs with the tensorflow backend to avoid them wondering why this is not working . The docstrings are only present in ` tensorflow_backend.py ` . - The docs can now be built either by calling ` python autogen.py ` or by calling ` docs.autogen.generate ( ) ` . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11722.0
167,2018-11-25 12:10:18,2018-11-23 22:25:34,Fix memory issue in tensorflow backend 's batch_dot,"# # # Summary See # 11665 In this PR , ` batch_dot ` uses ` tf.matmul ` to avoid memory allocation that happens when doing an elem-wise multiplication , if enough shape information is available . If required shape information is not available , we fall back to old elem-wise mul+ ` tf.reduce_sum ` based implementation . # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11719.0
168,2019-03-30 20:48:42,2018-11-22 11:24:55,Save/Load models to binary stream,"# # # Summary Support loading and saving ( models and weights ) to/from any binary stream ( file-like object ) : _Note : as opposed to other PR : s with `` saving to binary '' in the title , this PR goes one step further and extends the api to write and load directly to file-like objects , thus making it possible to also load models from binary data ( without first having to store it on disk ) ._ This is usefull since it is the most general kind of serialization ( see this request https : //github.com/keras-team/keras/issues/9343 ) and allows saving/loading models in environments where we do n't have disk access such as Colab ( See https : //github.com/keras-team/keras/pull/11636 # discussion_r234426668 ) . # # # # Examples Saving binary : # # # Related Issues - * * Implementation of _loading_ from binary based on @ obi1kenobi 's great input here : https : //github.com/keras-team/keras/issues/9343 * * - Related but orthogonal : https : //github.com/keras-team/keras/pull/11608 ( the title is a bit misleading as it does not support load/save binary directly , but it is still a relevant addition 👍 ) - Will remove need for filesystem access in https : //github.com/keras-team/keras/pull/11636 # # # PR Overview - [ x ] This PR requires new unit tests [ y ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y ] - [ x ] This PR changes the current API [ y ] ( all API changes need to be approved by fchollet )",11708.0
169,2018-12-01 21:41:30,2018-11-21 16:00:03,Fix babi-rnn example,"# # # Summary Actually PR # 1824 claimed that by changing the RNN layer from ` GRU ` to ` LSTM ` and some modification of the architecture of the model in this example , we can increase the accuracy on the first two tasks of bAbI by 100 % ( i.e . two times ) . Unfortunately , this claim could not be reproduced by three people ( [ 1 ] [ 1 ] , [ 2 ] [ 2 ] , [ 3 ] [ 3 ] ) and [ me ] [ 4 ] . So I rolled back the reported accuracy numbers as well as the architecture of the model to its [ original one ] [ 5 ] . Further , this time I have re-checked the reported accuracy numbers for the first two tasks and made sure they are reproducible . # # # Related Issues # 8061 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) [ 1 ] : https : //github.com/keras-team/keras/pull/1824 # commitcomment-16375552 [ 2 ] : https : //github.com/keras-team/keras/pull/1824 # commitcomment-17624174 [ 3 ] : https : //github.com/keras-team/keras/pull/1824 # commitcomment-24803115 [ 4 ] : https : //github.com/keras-team/keras/pull/1824 # issuecomment-429623381 [ 5 ] : https : //github.com/keras-team/keras/blob/81787dd2bb6b0f0afd3e4f55ead8fa6c854bbc05/examples/babi_rnn.py",11701.0
170,2018-12-09 17:39:58,2018-11-19 18:32:04,Add tensorflow-like slice in numpy backend,# # # Summary Add tensorflow like slice feature in numpy backend .,11682.0
171,2018-11-23 15:13:53,2018-11-19 14:15:45,Revise Keras FAQ,# # # Summary - Added missing pre-trained models - Fixed the name of validation arguments in ` fit ` method - Some formatting fixes # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11679.0
172,2018-11-19 04:25:57,2018-11-19 01:52:36,Remove unnecessary Flatten layer from mnist_acgan,# # # Summary mnist_acgan example : Remove unnecessary flatten layer in generator . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11675.0
173,2018-11-19 01:52:28,2018-11-18 16:57:31,Updated the check of empty array in the constraints tests .,# # # Summary We have many warnings looking like this : This PR fixes this problem . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11670.0
174,2018-11-27 22:21:28,2018-11-18 16:36:17,Suppressed the warnings about updating to keras 2 in the legacy tests .,"# # # Summary We currently get a lot of warnings related to updating to the keras 2 API in the test suite . To make the logs easier to read , I suggest that we remove those . # # # Related Issues # # # PR Overview This conftest will only affect the tests in the ` legacy ` directory . The filter is not perfect , but it takes care of most of the messages which we do n't care about . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11668.0
175,2018-11-19 04:25:48,2018-11-17 22:08:30,Hide progress bars of pip and conda on travis to make the logs faster to load .,"# # # Summary Travis logs the state of the progress bar each time the progress bar is updated , making the logs big , taking a few seconds to open , and hard to read in a text editor . To give an idea , progress bars make up 70 % of the lines in the TF jobs in travis . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11664.0
176,2018-11-25 14:27:38,2018-11-17 15:06:53,Added a decorator for flaky tests which rerun the test on specific errors .,"# # # Summary Let 's be frank , this PR is putting our flaky tests under the rug . This is obviously a bad thing to do , but they are hard to reproduce and fix , and wo n't be fixed right now . We still have the issues open for the flaky tests ( tagged as `` flaky test '' and `` bug '' ) . And it 's also easy to do a search for ` @ flaky ` to find all the flaky tests in the codebase . I think it 's a better option than to disable them . For tests where it 's possible , I 'll split them , making them smaller , and making them easier to debug . ( Idea taken from https : //testing.googleblog.com/2017/04/where-do-our-flaky-tests-come-from.html ) . But for me to do a PR , I 'll need the build to pass . # # # Related Issues # # # PR Overview See https : //github.com/box/flaky for usages . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11660.0
177,2018-12-09 14:28:29,2018-11-16 23:41:10,KerasRegressor.predict does not squeeze batch dims,"# # # Summary If the input to KerasRegressor.predict ( ) is an array with one example , then the output should be a 1D array with one example , not a 0D array . # # # Related Issues Fixes # 11657 # # # PR Overview - [ X ] This PR requires new unit tests [ n ] ( make sure tests are included ) It 's a pretty minor change , but I 'm willing to add tests if requested . - [ X ] This PR requires to update the documentation [ n ] ( make sure the docs are up-to-date ) : It makes the code match the documentation , which claims the output has shape ` ( n_samples , ) ` - [ x ] This PR is backwards compatible [ n ] : It fixes a bug that caused behaviour inconsistent with both the scikit-learn API and the documentation for KerasRegressor and would only appear if the input data has exactly one example . Technically users could be depending on the buggy behaviour , but it seems unlikely to me . - [ X ] This PR changes the current API [ n ] ( all API changes need to be approved by fchollet )",11658.0
178,2018-12-17 00:13:17,2018-11-15 05:42:49,Fixed NaN loss when given a mask with all zeros,"# # # Summary Sometimes when operates on the masks of sequential/time-series data , there will be a small chance that all values in a mask are zeros ( e.g . only several positions are chosen at random with a small rate for loss calculation ) . The epsilon term was added to avoid NaN loss . # # # Related Issues N/A # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11643.0
179,2018-12-21 21:13:50,2018-11-14 13:40:21,Support seamless load/save of models and weights ( incl . checkpoints ) to Google Storage,# # # Summary This addition makes it possible to provide a Google Storage ( bucket ) path as the ` filename ` arguments of model/weights loading and saving methods . This solution should be extendable for other external resources such as AWS S3 etc . # # # Related Issues This automatically solves : https : //github.com/keras-team/keras/issues/7935 ( related : https : //github.com/keras-team/keras/issues/9343 ) # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11636.0
180,2018-11-16 00:20:54,2018-11-14 00:32:02,fix small typos,# # # Summary Fix small typos in docstring # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11631.0
181,2018-12-17 21:37:33,2018-11-13 07:18:48,add stack to numpy backend,"Please make sure that the boxes below are checked before you submit your issue . If your issue is an * * implementation question * * , please ask your question on [ StackOverflow ] ( http : //stackoverflow.com/questions/tagged/keras ) or [ on the Keras Slack channel ] ( https : //keras-slack-autojoin.herokuapp.com/ ) instead of opening a GitHub issue . Thank you ! - [ x ] Check that you are up-to-date with the master branch of Keras . You can update with : ` pip install git+git : //github.com/keras-team/keras.git -- upgrade -- no-deps ` - [ x ] Check that your version of TensorFlow is up-to-date . The installation instructions can be found [ here ] ( https : //www.tensorflow.org/get_started/os_setup ) . - [ x ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue ( or just copy the script here if it is short ) .",11629.0
182,2018-11-29 14:50:58,2018-11-12 12:11:35,Numpy backend implementation of rnn + cleanup of rnn tests,# # # Summary Update of Numpy backend to follow the actual Keras api for ` backend.rnn ` . # # # Related Issues As per @ gabrieldemarmiesse 's request in https : //github.com/keras-team/keras/pull/11499 # # # PR Overview - [ x ] This PR requires new unit tests [ y ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y ] - [ x ] This PR changes the current API [ n ] ( all API changes need to be approved by fchollet ),11622.0
183,2018-11-16 00:20:36,2018-11-08 16:37:55,update doc links for tensorboard/embeddings,# # # Summary This PR updates the links for the [ Tensboard Callback ] ( https : //keras.io/callbacks/ # tensorboard ) documentation as they have changed and some do n't redirect properly . # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11609.0
184,2018-11-06 23:50:32,2018-11-06 11:20:01,Change VGG16 to VGG19 an fix inconsistent float formatting .,# # # Summary Minor edits in a comment and for improved formatting consistency . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11593.0
185,2019-01-22 19:19:39,2018-11-05 22:27:55,Fixed loading bug for shared layers accross multiple depths,# # # Summary There is a bug in the from_config method of the Keras Network class . This bug occurs when loading a model from a config when a layer that is shared at multiple depths and the input tensors to the shared layer are not in the order of the layers in the model config file . Note that if we change the order that we apply the shared layer so that model layer order changes this bug is not triggered . The code to reproduce the bug including code to create the layers in an order that does n't trigger the bug is on this gist : https : //gist.github.com/adocherty/5f5c9983310ef2cf28e3ccb63ad39740 # # # Related Issues This applies the fix in issue # 11159 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11588.0
186,2018-11-06 23:52:49,2018-11-05 20:54:53,Simplifying the travis build,- [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11585.0
187,2018-11-30 23:47:48,2018-11-05 12:19:34,Fixes for fused batch normalizationwith FP16 .,"# # # Summary This PR solves compatibility problem with Tensorflow when calling operator FusedBatchNormV2 with keras.backend.floatx ( ) set to 'float16 ' . # # # Related Issues # # # PR Overview As shown below Tensorflow requires that some variables ( scale , offset , mean and variance ) are represented in float 32bit while currently Keras is casting them to float 16bit . This PR cast them correctly when calling FusedBatchNormV2 . https : //github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/image_ops.cc - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11580.0
188,2019-01-14 18:18:54,2018-11-04 18:58:31,Added the numpy implementation of switch to the docs .,# # # Summary I used ` np.newaxis ` for users who may not be familiar with the ` None ` indexing . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11575.0
189,2018-11-05 23:37:36,2018-11-04 18:52:13,Displaying the numpy relu in the docs .,# # # Summary Reworked on the implementation to make it more readable since it 's user-facing code . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11574.0
190,2018-11-05 18:33:41,2018-11-04 16:43:50,Simplified travis build,# # # Summary We now remove the file that we do n't want rather than check all the backends one by one . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11572.0
191,2018-11-05 02:15:48,2018-11-04 15:08:25,Removing mkl from travis to speed up the build,"# # # Summary We do operations on very small tensors in the tests , so mkl might not provide a speed benefit . Mkl takes 40 seconds to install , so let 's see how much we can save by avoiding it . So MKL has been removed in all builds except theano , and we save ~40s each time we do n't install it . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11570.0
192,2018-11-07 16:17:10,2018-11-04 14:22:52,Update metrics.md with references to losses.md,"Update metrics.md with a better reference to the losses.md page , in terms of losses # # # Summary The relationship between the metrics and losses pages was n't very clear to me . It took me quite a while to realize I can just use losses as metrics , so I tried to add a couple of sentences about it . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11569.0
193,2018-11-05 18:47:35,2018-11-03 20:55:32,Inlined nested function in layer_test,"# # # Summary This piece of code was put in a inner function to be able to apply it on both ` Sequential ` and ` Model ` . But since ` Sequential ` is not tested in ` layer_test ` anymore , it 's not useful to keep it in an inner function . It 's harder to read . # # # Related Issues # 10660 # 11115 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11564.0
194,2018-11-04 05:07:58,2018-11-03 20:44:54,Removed dead code in layer_test,"# # # Summary This condition is never hit in ` layer_test ` . I added an ` assert False ` and ran the test suite locally to check it . I do n't know what was intended with this check , but it seems that this should not be performed on each layer because it does not depend on the implementation of the layer . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11563.0
195,2018-11-05 18:39:06,2018-11-03 16:13:04,Skipping the CNTK install in some travis jobs to speed up tests,# # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11562.0
196,2018-11-04 04:54:17,2018-11-03 14:50:48,Removed the variable BACKENDS as it is not used anymore .,# # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11561.0
197,2018-11-04 06:24:08,2018-11-03 13:54:00,Removed pytest-timout because it 's causing too many problems on travis .,# # # Summary Pytest-timeout is often causing the test on travis to crash on start . We already found out the origin of the 10 minutes timeout on travis ( see # 11461 ) so I do n't think this timeout is needed anymore . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11559.0
198,2018-11-03 14:11:14,2018-11-03 13:32:55,Remove legacy backend tests,"# # # Summary This PR removes legacy backend tests , which are now clearly not required . # # # Related Issues - # 9555 : the refactoring of ` test_conv ` , - # 9557 : the refactoring of ` test_rnn ` , - # 9558 : the refactoring of ` test_depthwise_conv ` , - # 9570 : the refactoring of ` test_separable_conv2d ` , - # 9580 : the refactoring of ` test_pool ` . # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11558.0
199,2019-09-11 21:25:58,2018-11-03 13:07:26,Added batch_normalization in the numpy backend .,# # # Summary Added the op ` batch_normalization ` in the numpy backend . # # # Related Issues # # # PR Overview * Added the function in the numpy backend * Added the numpy implementation in the docs * Added tests . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11556.0
200,2018-11-04 04:54:47,2018-11-02 18:54:12,Added hard_sigmoid numpy implementation in the docs .,# # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11551.0
201,2018-11-03 14:16:58,2018-11-02 18:34:47,Simplified the logic of reverse in the numpy backend .,We need to make sure that the numpy backend is very readable since it 's going to be displayed in the docs . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11550.0
202,2018-11-01 22:55:00,2018-11-01 05:38:13,Fix incorrect assertion syntax in example,"This reverts a minor bug in the example code that was introduced in # 10968 . You ca n't safely wrap an ` assert ` body with parens , because it makes it a tuple , and assertion of a tuple either always succeeds ( if non-empty ) or always throws ( if empty ) . This could cause confusion for beginners reading the examples so I thought I 'd bring it up .",11542.0
203,2018-10-31 14:51:28,2018-10-30 13:48:14,multiple input lambda doc example,"# # # Summary [ DOCS ] To showcase multiple inputs for ` Lambda ` layer , added an example to the docstrings , small changes to the parameter description . I also made a [ gist ] ( https : //gist.github.com/greed2411/f1d11d4152ebc8011391a79c9b5edd4c ) if you want to see the clean and working example of the code I 've added . # # # Related Issues Solves # 11020 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) Other : Failed to build the appropriate docs from docstrings using ` mkdocs ` . I apologise for that , I followed the instructions over [ here ] ( https : //github.com/keras-team/keras/tree/master/docs ) , still could n't do it , I followed the steps in installing and running the server , but both markdowns and the static websites did n't reflect the changes .",11529.0
204,2018-12-17 07:32:48,2018-10-29 18:49:17,[ Do n't Merge ] [ Need discussion ] First-step toward a working mp on Travis,"# # # Summary This PR solves some issue when a worker dies and the Pool is not told . ( OOM , pkill , etc ) This puts a timeout on the future and notifies the user of the issue . # # # Discussion What should we do for those samples in the case of Sequence ? Should we re-queue the task or compute the sample directly or just drop it ? # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11521.0
205,2018-10-29 16:51:48,2018-10-29 05:55:54,replace generic_utils.getargspec with inspect.getargspec,"# # # Summary autogen.py is n't working because the latest version of keras in PyPI has n't generic_utils method . When the latest version of keras in PyPI is updated , I will add an new pull request . # # # Related Issues reference : https : //github.com/keras-team/keras/pull/11463 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11518.0
206,2018-10-29 20:06:26,2018-10-28 11:21:48,Enabled pep8 line length in the tensorflow backend .,# # # Summary # # # Related Issues closes # 11383 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11514.0
207,2018-10-29 23:06:46,2018-10-28 10:37:05,Removed the base class of constraints from the documentation .,Also fixed some formatting . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11513.0
208,2018-10-29 19:44:41,2018-10-27 19:36:10,bug fix : ca n't use code blocks in multiple sections in docstrings .,"# # # Summary Having blocks of code in multiple sections of the same docstring breaks the rendering of the documentation . To see exactly what I mean , see the test which I added . # # # Related Issues # # # PR Overview The problem came from this line : https : //github.com/keras-team/keras/blob/267ccbb4a76913680f4db6b400e05dea7aa84db7/docs/autogen.py # L456 Because the ` replace ` was used on the full docstring ( not the slice of the docstring correnponding to the section being worked on ) , even code blocks which were in other sections were replaced . So as the parser progressed , some code blocks were replaced multiple times , and the parser lost the content of the last blocks of code , because the parser only remember what it just replaced . See this line which does it : https : //github.com/keras-team/keras/blob/267ccbb4a76913680f4db6b400e05dea7aa84db7/docs/autogen.py # L453 When we arrive at this line for the last code block , the code is n't there , only the marker . So the marker gets saved instead of ` $ CODE_BLOCK_ % d ` . Feel free to use a debugger to understand what I mean . I hope I was clear enough . I advise the reviewer to be very careful , as this PR can potentially break many pages in the docs . I checked most of them , but well ... we never know . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11508.0
209,2018-11-01 19:29:46,2018-10-27 19:15:24,Add the numpy implementation in the keras backend documentation,"# # # Summary Since we have implemented functions in numpy which are equivalent of the keras abstract backend , it is a very good opportunity to improve the documentation by using that . Here is what I mean : ! [ gather ] ( https : //user-images.githubusercontent.com/12891691/47608366-aebf7800-da2c-11e8-92bc-ac66fa6c64a2.png ) ! [ reverse ] ( https : //user-images.githubusercontent.com/12891691/47608370-b3842c00-da2c-11e8-9045-9a2a31ba803b.png ) The code displayed in the documentation is being automatically taken from ` numpy_backend.py ` # # # Related Issues # # # PR Overview I had to rename and move ` reference_operations.py ` to avoid having to import a python file by path ( very ugly ) . Other than that the code is pretty simple and self explanatory . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11507.0
210,2018-10-31 07:24:10,2018-10-27 13:45:54,add ctc_decode to numpy backend,"Hello : ) I am trying to implement a custom loss function in Keras of this form : [ < a href= '' https : //www.codecogs.com/eqnedit.php ? latex=\int_ { 0 } ^ { 5000 } & space ; \left & space ; ( & space ; x & space ; - & space ; y\_true & space ; \right & space ; ) ^2 * f ( x , & space ; y\_pred ) & space ; dx '' target= '' _blank '' > < img src= '' https : //latex.codecogs.com/gif.latex ? \int_ { 0 } ^ { 5000 } & space ; \left & space ; ( & space ; x & space ; - & space ; y\_true & space ; \right & space ; ) ^2 * f ( x , & space ; y\_pred ) & space ; dx '' title= '' \int_ { 0 } ^ { 5000 } \left ( x - y\_true \right ) ^2 * f ( x , y\_pred ) dx '' / > < /a > ] ( url ) ` This is the snippet of code that I have write down , however It does n't work : def custom_loss_function ( y_true , y_pred ) : a = y_pred [ ... , 0 ] b = y_pred [ ... , 1 ] def f ( y , x ) : return ( ( y_true-x ) * * 2 ) * ( ( b/ ( a ) * * b ) * ( x * * ( b-1 ) ) * K.exp ( - ( x/a ) * * b ) ) x = K.constant ( [ 0. , 5000 . ] ) return K.mean ( tf.contrib.integrate.odeint_fixed ( f , 0. , x , method = `` rk4 '' ) ) ` < img width= '' 973 '' alt= '' schermata 2018-10-27 alle 17 16 12 '' src= '' https : //user-images.githubusercontent.com/22856979/47605847-3f399080-da0c-11e8-81ab-1cb47458b8b5.png '' > [ error_custom_loss.pdf ] ( https : //github.com/keras-team/keras/files/2521916/error_custom_loss.pdf ) Addionally , I have uploaded a pdf showing all the error messages . Thank you so much .",11504.0
211,2018-11-05 23:33:49,2018-10-26 17:07:47,Fix masking issues in K.rnn ( tensorflow + theano ),# # # Summary EDIT : Fixes https : //github.com/keras-team/keras/issues/11472 _and_ https : //github.com/keras-team/keras/issues/11498 for Theano and Tensorflow backend . ~~Fixes https : //github.com/keras-team/keras/issues/11498 for tensorflow backend.~~ ~~ * * NOTE * * that this PR is a continuation of https : //github.com/keras-team/keras/pull/11473 which solves the related issue : https : //github.com/keras-team/keras/issues/11472.~~ # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11499.0
212,2018-10-27 12:18:22,2018-10-26 14:39:09,add one_hot to numpy backend,"* * Summary * * Outputs and states are not masked correctly in ` tensorflow_backend.rnn ` when the number of dimensions of any of these is larger than 2 . The issue is that masks are only `` tiled '' along the second dimension of outputs/states , see e.g . this [ line ] ( https : //github.com/keras-team/keras/blob/master/keras/backend/tensorflow_backend.py # L2943 ) . Note that the docs [ does not state ] ( https : //github.com/keras-team/keras/blob/master/keras/backend/tensorflow_backend.py # L2854 ) that outputs or states should be restricted to 2 dimensions . * * Examples replicating the issue * * Output ndim > 2",11497.0
213,2018-10-25 18:26:17,2018-10-25 14:53:39,Reduced the size of the numpy arrays used in the tests .,"# # # Summary This may mitigate the OOM issue , ( maybe not ) , but there is no reason to use big numpy arrays in the tests . # # # Related Issues # 11461 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11491.0
214,2018-10-24 16:04:08,2018-10-23 18:29:54,Improve type-check for Sequence,"# # # Summary Improve the type check for Sequence when using * _generator methods . One thing to look at is : https : //github.com/keras-team/keras/compare/master ... Dref360 : sequence_type ? expand=1 # diff-fa24612daec8301fe965d2d7f19bb212R595 We have two possibilities : 1- Add a field to the Sequence API and check if it exists . ( Requires a new TF version ) 2- Check if the object follows the Sequence API . ( __len__ , __getitem__ , on_epoch_end ) I would like your input on that . Also I think we could remove the backend injection stuff with this PR # # # Related Issues Fixes # 11452 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11468.0
215,2018-10-26 18:50:46,2018-10-23 17:34:40,Make H5Dict accept pathlib Paths .,"# # # Summary The type checking done in the constructor of ` H5Dict ` restricts users to use strings to denote paths , but ` Path ` objects from ` pathlib ` ( https : //docs.python.org/3/library/pathlib.html ) also make sense there . # # # Related Issues Closes https : //github.com/keras-team/keras/issues/11459 . # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11466.0
216,2018-10-26 18:47:17,2018-10-23 11:32:31,Avoid deprecated getargspec,# # # Summary We should use an getargspec instead of deprecated getagspec . - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11463.0
217,2018-10-26 02:44:44,2018-10-23 06:15:11,Bug fix : Batch dot,"* Almost total rewrite of ` batch_dot ` for Tensorflow and CNTK backend . * Fixes various bugs in edge cases ( e.g # 11035 ) * Rewrite ` batch_dot ` implementation in ` reference_operations.py ` ( had bugs and overall implementation was bloated ) * Does early input validation with helpful messages . * Earlier , the methods had partial ` tf.tensordot ( ) ` like behavior , which was undocumented . This was possibly a bug first introduced in TF backend and the logic was probably copied when writing the CNTK backend . This now returns with a helpful error message . * Reduces number of ops as much as possible . * Slightly better docstrings * Thorough unit tests .",11458.0
218,2018-10-23 16:56:15,2018-10-22 17:50:55,Update for autogen.py to include the content of constraints.py,"# # # Summary Information from the docstrings of the file constraints.py was not grabbed by autogen.py because the autogenerated code block was absent in templates/constraints.md and the corresponsing part of the PAGES list in autogen.py was not there too . I did not find a commit where it would work before , but i could have missed it . # # # Related Issues Resolves the issue # 11382 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11456.0
219,2018-10-21 21:00:16,2018-10-21 18:40:09,Support tensor arguments in clip .,"# # # Summary I 'm probably not doing this the right way , but I wanted to watch it fail on Travis ( I 'm sure I correctly installed only the Tensorflow backend locally ) . # # # Related Issues Closes https : //github.com/keras-team/keras/issues/11435 . # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11442.0
220,2018-10-22 17:12:15,2018-10-21 00:16:43,Update Conv1D input_shape description,"# # # Summary This PR updates the ` input_shape ` description for ` Conv1D ` . It adds a reference to the sample axis not being included , states which axis corresponds to the steps dimension and which corresponds to the channels dimension in the given example , and specifies the ` data_format ` in the given example . # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11437.0
221,2018-10-25 22:54:46,2018-10-18 21:19:08,[ P ] [ RELNOTES ] Add ability to visualize wrapped models with plot_model function,"# # # Summary Added two new optional arguments to ` plot_model ` function in ` vis_utils.py ` , to be able to visualize nested ( wrapped ) models . Also adds ` dpi ` param to have ability to produce high resolution graphs . For example giving this model : ! [ model3 ] ( https : //user-images.githubusercontent.com/3962002/47184794-7a3b1600-d2e0-11e8-8bf0-bc62b1043969.png ) # # # Related Issues # 5937 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11431.0
222,2018-10-21 12:33:09,2018-10-16 15:42:08,Draw input layers even when added implicitly,"# # # Summary The ` _layers ` attribute , unlike ` layers ` , contains any ` InputLayer ` that gets implicitly added when adding an ` Embedding ` as the first layer . This means that the next loop starting at https : //github.com/keras-team/keras/blob/590aa832680641218b233b22fa8b3bd7fdc0287e/keras/utils/vis_utils.py # L66-L67 will create a node for those implicit ` InputLayer ` s , which will prevent the final loop starting at https : //github.com/keras-team/keras/blob/590aa832680641218b233b22fa8b3bd7fdc0287e/keras/utils/vis_utils.py # L103-L104 from creating an edge to a non-existing node . # # # Related Issues Closes https : //github.com/keras-team/keras/issues/11376 . # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11412.0
223,2018-10-20 16:42:26,2018-10-15 05:24:43,Line length reduced to 85 characters for cntk_backend.py,# # # Summary Reduced the line length of the code to 85 characters .,11401.0
224,2018-12-18 15:47:46,2018-10-14 17:35:02,Splitting the test_model_method which had more than 400 LOC .,"# # # Summary Test functions should be small and target as few functionalities as possible . This ` test_model_method ` is very big and makes it hard to find out how to work with it or add new test . # # # Related Issues # # # PR Overview ` test_model_methods ` became ` test_model_methods ` , ` test_fit_generator ` and ` test_fit_generator_shape ` with two helper functions , ` get_model ` and ` TrackerCallback ` . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11398.0
225,2018-10-14 18:49:09,2018-10-14 16:11:06,Removed some unused variables .,"# # # Summary Some were unused , some overridden shortly afterwards . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11395.0
226,2018-10-21 20:45:03,2018-10-14 15:42:21,Some tests were ran multiple times in backend_test.py . Fixed it .,# # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11394.0
227,2018-10-14 18:06:47,2018-10-14 15:26:57,De-duped some test functions .,"# # # Summary In travis , some tests were applied more than once . This PR makes sure that those tests are only ran once . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11393.0
228,2018-10-17 00:58:36,2018-10-14 15:12:25,Added the padding operations in reference_operations.py,# # # Summary # # # Related Issues # 11068 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11392.0
229,2018-10-20 14:45:53,2018-10-14 15:06:27,Refactor theno_backend to shorten linelength,# # # Summary A variety of different changes to ensure line-length falls within 85 character line-length Changes made in conjunction with @ iwillspeak ( thank you ) # # # Related Issues Part of issue # 11383 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11391.0
230,2018-10-19 10:50:34,2018-10-14 12:35:54,Added dropout to reference_operations.py,# # # Summary Everything is in the title . # # # Related Issues # 11068 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11390.0
231,2018-10-16 22:18:46,2018-10-14 12:19:29,Activated disabled tests in the backend tests .,"# # # Summary To detect which functions are tests , pytest looks at the name of the function and if it starts with ` test_ ` , then pytest understand that this function is a test and run it . In the backend_tests.py a lot of functions started with ` legacy_test_ ` and thus were not detected and ran by pytest . This PR enabled them again . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11389.0
232,2018-10-16 22:23:33,2018-10-14 12:12:02,"Added get_value , count_params , int_shape and get_variable_shape to reference_operations.py",# # # Summary Added the four functions and adapted the backend tests accordingly . Also made 5 tests instead of one for more focused error reporting . # # # Related Issues # 11068 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11388.0
233,2018-10-16 22:17:50,2018-10-14 12:00:18,Added the gather operation in reference_operations.py .,# # # Summary Added the gather operation in reference_operations.py . Thus making the tests more indépendant and get a better error reporting in case of changes . Will allow to skip some backend installs in the future . # # # Related Issues # 11068 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11387.0
234,2018-10-14 18:48:18,2018-10-14 11:45:35,Added the batch_dot operation in the references_operations.py .,"# # # Summary Credit goes to @ danFromTelAviv for his implementation in numpy of batch_dot . @ danFromTelAviv feel free to read this PR and comment if you see things which need changes . @ taehoonlee , I think you 're the right person to ask for review . Thanks in advance . # # # Related Issues # 11068 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11386.0
235,2018-10-23 17:07:30,2018-10-14 11:12:06,Explaining how to load external backends in the documentation .,"In keras , it 's possible to load other backends than tensorflow , theano or CNTK . Let 's suppose there is a python file called ` mxnet_backend.py ` ( for example ) , it 's possible to load it as a backend by doing `` backend '' : `` mxnet_backend '' in keras.json . See this file for more info : https : //github.com/keras-team/keras/blob/161f0a876db4f8aa9d57161c13d366f081369601/keras/backend/__init__.py # L91 This should be documented there : https : //keras.io/backend/ # switching-from-one-backend-to-another",11384.0
236,2018-10-29 20:06:25,2018-10-14 10:41:07,Making lines shorter in five different files .,"We are trying to make all the files in the codebase have a line lenght below 85 . This has been done to nearly all files . Just five are not done yet : * keras/backend/cntk_backend.py * keras/backend/common.py * keras/backend/tensorflow_backend.py * keras/backend/theano_backend.py * tests/keras/backend/backend_test.py If you want to take up this issue , please make one Pull request per file ( you do n't have to do all five pull requests at once ) . And once the lines are shorter for one file , you can remove the corresponding exception in the https : //github.com/keras-team/keras/blob/master/pytest.ini to enable the tests .",11383.0
237,2018-10-14 10:20:52,2018-10-13 14:35:10,Fix badly rendered references in docs,"# # # Summary * I found the ones of the kind ` [ foo ] < WHITESPACE > ( bar ) ` with ` $ ag `` \ ] \s+\ ( `` ` , and fixed them by moving the open round parenthesis to the previous line , as apparently whitespace in links is ignored . * I then went through all references sections with ` $ ag `` # References '' ` and improved the ones that did n't have the paper title as the link text . # # # Related Issues Closes https : //github.com/keras-team/keras/issues/11375 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11380.0
238,2018-10-14 17:57:51,2018-10-13 11:33:39,Parametrizing the metrics tests to get one test per metric .,# # # Summary We can take advantage of pytest 's error reporting when testing metrics to get one test per metric and have better insights in case of bugs . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11378.0
239,2018-10-13 18:21:28,2018-10-12 12:21:11,Fix bug in sparse_categorical_accuracy,"# # # Summary With reccurent layer output of the model can be ` [ num_samples , timesteps , output_dim ] ` , but in the ` sparse_categorical_accuracy ` for ` y_true ` values ` Flatten ` is used . That creates a bug like `` Incompatible shapes : [ 80 ] vs. [ 16,5 ] '' ( if timesteps=16 and output_dim=5 ) . Bug fixed by adding ` Flatten ` to ` K.cast ( K.argmax ( y_pred , axis=-1 ) , K.floatx ( ) ) ) ` too . # # # Related Issues # 11100 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11373.0
240,2018-10-11 11:23:24,2018-10-11 01:55:50,Fix doc,Fixed doc for consistency # # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11352.0
241,2018-10-09 12:35:20,2018-10-09 11:14:26,Fix typos,This PR fixes a typo : ` auxilary ` - > ` auxiliary ` .,11340.0
242,2018-10-08 17:26:13,2018-10-08 14:15:46,added example to illustrate effects of ` to_categorical `,"# # # Summary adding example to ` to_categorical ` docstring . * * Note : * * this is my first PR to keras . I 've read the guidelines , but I think many of them do n't apply here . I 'd appreciate more guidance to contributing if I did n't follow any guideline correctly . Moreover , I did n't find any hint on how to build the docs . I only found the ` upload_docs ` command in ` setup.py ` . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11327.0
243,2018-10-07 14:32:04,2018-10-07 12:43:40,Fix the broken format of links and references,# # # Summary It seems docstring in couples of files in ` keras/layers ` containing broken markdown hyperlinks . Please see the figure below for examples . < img width= '' 700 '' alt= '' image '' src= '' https : //user-images.githubusercontent.com/1214890/46581813-daa79900-ca3e-11e8-9564-0f60d7ec3c79.png '' > # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11319.0
244,2018-10-07 14:33:13,2018-10-05 14:15:44,Keras documentation : multi_gpu_model examples do not show properly on the home page keras.io,Some examples of usage of ` multi_gpu_model ` appear on the documentation of the function in the [ source code ] ( https : //github.com/keras-team/keras/blob/master/keras/utils/multi_gpu_utils.py ) . However they do not display correctly on the [ Keras home page ] ( https : //keras.io/utils/ ) :,11306.0
245,2018-10-30 22:12:00,2018-10-05 13:16:09,improve keras/engine/saving.py,# # # Summary 1. rename argument : f as h5dict_instance 2. rename argument : f as groups 3. add some comments for save_weights_to_hdf5_group # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11305.0
246,2018-10-04 17:10:57,2018-10-04 16:38:14,Improve addition_rnn example 's code and comments,# # # Summary This PR improves the addition_rnn example 's code and comments : - added the docstring for ` decode ` method . - changed `` one hot '' to `` one-hot '' - changed `` last hidden state of RNN '' to `` last output of RNN '' - passed ` activation='softmax ' ` argument to the ` Dense ` layer and removed the ` Activation ` layer to make it more explicit where it is applied . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11296.0
247,2018-10-04 17:07:58,2018-10-04 15:40:46,Update tensorflow_backend.py,"From line 1907 - 1918 : when call tf.reshape ( x , shape ) , ( * before * ) shape= ( -1 ) will raise ValueError : Shape must be rank 1 but is rank 0 ... I think ( -1 ) in python refers to the Rank-0 shape , though [ -1 ] or ( -1 , ) refers to the Rank-1 shape instead . It was also strange that it only raised error when 'image_data_format ' was set to 'channels_first ' , not 'channels_last ' . Test case : from keras.layers import Conv2D , ZeroPadding2D from keras.layers.normalization import BatchNormalization from keras import backend as K K.set_image_data_format ( 'channels_first ' ) X_input = Input ( ( 3 , 96 , 96 ) ) X = ZeroPadding2D ( ( 3 , 3 ) ) ( X_input ) X = Conv2D ( 64 , ( 7 , 7 ) , strides= ( 2 , 2 ) ) ( X ) X = BatchNormalization ( axis=1 ) ( X ) # raise error at this line ... # # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11294.0
248,2018-10-03 18:13:44,2018-10-03 15:38:31,Bug fix : model save when file already exists,# # # Summary # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11289.0
249,2018-10-03 12:51:08,2018-10-03 08:02:00,Fix ` fit_generator ` for ` workers=0 `,# # # Summary This PR provides fix for ` engine.training_generator.fit_generator ` when ` workers=0 ` . It used train data for validation and ignored ` len ( val_data ) ` when ` val_data ` was instance of ` keras.Sequence ` # # # Related Issues [ # 10855 ] ( https : //github.com/keras-team/keras/issues/10855 ) # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11285.0
250,2018-10-04 17:13:36,2018-10-02 16:08:20,Show time spent in the warning of slow progress,"In the warning message of on_batch_end , display the time spent for the batch . This would give more clue to the user . # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11278.0
251,2018-10-01 18:56:02,2018-09-30 18:49:26,Added a global timeout for the test suite .,"# # # Summary The stalling build is a big issue . We need tools to be able to debug it . I believe we should merge this into master and wait until we have the timeout issue again to see a stacktrace . # # # Related Issues # # # PR Overview If the test suite is taking more than 12 minutes to run , stop the run and give a stacktrace . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11263.0
252,2018-09-30 18:35:24,2018-09-30 15:59:04,add more variable initializers to numpy backend,"ones , zeros , zeros_like , ones_like",11261.0
253,2018-10-01 01:48:17,2018-09-30 15:21:57,Travis was ignoring PEP8 failures . Now fixed .,"# # # Summary Before , Travis was ignoring PEP8 failures . I think it was since # 11163 . My take on it is that travis only cares about the last exit code ( with ` $ ? ` or something like that ) after each instruction ( at each ` - ` symbol ) . I think chaining the instructions with ` & & ` will solve the issue . # # # Related Issues # 11163 # 11258 # 11254 # # # PR Overview There is the fix of travis.yml and also fixing the pep8 errors which were merged into master since the apparition of the bug . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11260.0
254,2018-10-03 07:39:48,2018-09-30 11:46:29,Add ` conv_transpose ` into reference operations,This PR adds ` conv_transpose ` and ` dilated_conv_transpose ` into numpy reference operations so that we can reduce CI build time .,11258.0
255,2018-09-29 22:27:20,2018-09-29 17:32:43,add trig funcs for numpy backend,there is a sample unit test to test ' # 11245' # # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11254.0
256,2018-09-29 20:04:09,2018-09-28 12:03:47,Add ` dilated_conv ` into reference operations,This PR adds ` dilated_conv ` into numpy reference operations so that we can reduce CI build time .,11244.0
257,2018-09-28 18:43:08,2018-09-28 09:51:19,Fix h5py error `` Unable to create attribute ( object header message is too large ) '',# # # Summary Fixes a minor bug introduced by https : //github.com/keras-team/keras/commit/9a4c5d8f10667e571c23f1b2f2e0397a85368bea : The ` H5Dict ` object tried to save ( large ) ` numpy ` objects without the ` dataset ` interface from ` h5py ` . This produced the error ` Unable to create attribute ( object header message is too large ) ` # # # Related Issues https : //github.com/keras-team/keras/issues/11104 https : //github.com/Skuldur/Classical-Piano-Composer/issues/8 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11242.0
258,2018-09-27 18:38:47,2018-09-27 02:36:38,Style fixes for enabling PEP8 501,This PR enables PEP8 501 .,11234.0
259,2018-09-28 18:56:32,2018-09-27 01:43:37,Consolidate functionality of ThresholdedReLU and LeakyReLU layers into ReLU layer,This PR refers https : //github.com/tensorflow/tensorflow/commit/0cf2c612e5e6ff8c5026011e8186056801def747 to consolidate functionality of API fully compatible . # # # Summary # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11233.0
260,2018-10-04 17:14:36,2018-09-26 06:20:44,Refactor keras/engine/training.py and keras/engine/training_arrays.py,Make fit_loop function easy read and understand . # # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11226.0
261,2018-09-27 15:25:37,2018-09-25 16:04:54,Add better error message for model.summary ( ),"Fixes # 11217 For detailed discussion consider referring to the issue # 11217 Overview : In version 2.2.2 of keras building model without specifying ` input_shape ` or ` batch_input_shape ` is allowed but for such cases , the model will not be actually built implicitly and you need to build the model explicitly either by calling ` model.build ( ) ` or else ` model.fit ( ) ` on some data . If you call ` model.summary ( ) ` before building the model it will give a `` model not built '' error but the possible solutions to such error are 1 . Add ` input_shape ` or ` batch_input_size ` in the first layer 2 . Call ` model.build ( ) ` before ` model.summary ( ) ` 3 . Call ` model.fit ( ) ` on some data before ` model.summary ( ) ` But the previous error message was only suggesting solution 3 which seems unintutive . So i have rewritten the error message to suggest all three possible solutions Checklist - [ X ] Build using ` python setup.py build `",11222.0
262,2018-09-25 21:58:26,2018-09-23 14:30:55,Added np.tile to reference_operations.py .,"# # # Summary Comparing to numpy operations allow us to know which backend fails in case of unexpected result ( let 's say the theano backend changes , the failure will only happen in the theano build on travis when comparing to numpy ) , and have a good ground truth for tests . It 's also good for documentation purposes , in case we wonder what the real definition of an op in the keras backend is . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11205.0
263,2018-12-09 21:34:03,2018-09-23 10:27:45,"Add ResNet , ResNetV2 , and ResNeXt variants","This PR adds declarations of ResNet , ResNetV2 , and ResNeXt variants . In order to add new models into ` keras-applications ` , we should first add those declarations into ` keras ` . Please refer to the cores ( keras-team/keras-applications # 26 ) .",11203.0
264,2018-09-26 21:22:13,2018-09-23 09:53:10,Use all top MAX_NUM_WORDS words for the embedding matrix .,"# # # Summary Because the first index returned from Keras ' tokenizer is 1 . Hence , the current code will discard the last word , ie . index=20000 . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11202.0
265,2018-09-23 08:44:24,2018-09-22 10:54:59,Style fixes for enabling PEP8 501,This PR enables PEP8 501 .,11199.0
266,2018-09-24 10:19:39,2018-09-22 01:49:39,Fix bug in sparse_top_k_categorical_accuracy,# # # Summary For the input of . # # # Related Issues # 11100 https : //github.com/tensorflow/tensorflow/issues/22190 https : //github.com/tensorflow/tensorflow/pull/22392 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11196.0
267,2018-09-28 19:09:49,2018-09-21 10:52:26,[ updated ] improve softmax implementation,# # # Summary This PR is an update of # 10027 which I kinda broke . Sorry about it . # # # Related Issues # # # PR Overview I moved the correctness test in the backend tests . I think it belongs there rather than in the activations tests . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11189.0
268,2019-02-25 04:05:53,2018-09-21 10:00:13,Parametrized convolutional recurrent tests .,"# # # Summary That should allow a better error reporting by knowing what exactly fails and what does not . # # # Related Issues # # # PR Overview Not much has changed , just : the rest is just indentation . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11187.0
269,2018-09-20 13:10:35,2018-09-20 09:04:23,Removed completely the keras_test decorator .,# # # Summary We already have a test wrapper in a ` conftest.py ` so we do n't need that decorator anymore . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11182.0
270,2018-09-20 09:31:58,2018-09-20 04:09:45,Fix incorrect minimum input size for applications,This PR fixes incorrect minimum input size for applications . - Line 274 : VGG16 - Line 329 : VGG19 - Line 441 : InceptionV3 - Line 496 : InceptionResNetV2 - Lines 623- : DenseNet,11181.0
271,2018-09-18 17:17:16,2018-09-17 22:14:30,Used pytest 's autouse to get rid of the @ keras_test decorator .,"# # # Summary It 's annoying to have to think about adding ` @ keras_test ` all the time . Using a ` conftest.py ` we can run a fixture for all the tests in the test suite . It does n't seem to make the build take more time than before . # # # Related Issues # # # PR Overview This PR has two parts : * the ` conftest.py ` : * the removal of 300+ usages of ` keras_test ` . If a reviewer wants me to split this PR , it 's possible . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11170.0
272,2018-09-17 17:09:18,2018-09-17 10:54:33,Grouped common function calls together in the test_callbacks.py .,# # # Summary Readers expect frequent patterns to be defaults when calling functions . Reading though ` test_callbacks.py ` is n't easy because one have to check all the arguments of ` get_test_data ` every time to check that something out of the ordinary is n't there . This PR allows the reader to quickly know what differs from one test to another . I think it improves readability . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11167.0
273,2018-09-17 17:11:17,2018-09-17 10:08:24,Grouped conda installations together to speed up the travis build .,"# # # Summary Master : * Installation of mkl and mkl-services : 10.10s * installation of Pil/Pillow : 11s * installation of pydot graphvis : 21s # # # # total : 43s proposed : * grouped installation of mkl , mkl-services Pil/Pillow pydot graphvis : 24.8s . We can save ~18s on all travis jobs . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11166.0
274,2018-09-26 21:23:04,2018-09-17 06:34:10,Merge test environments for PEP8 and DOC,"This PR merges test environments for ` PEP8 ` and ` DOC ` . In my humble opinion , I think the current build matrix may be a bit waste of resources , because the two tests usually take 3~4 mins and the initialization of environments ( ` conda create ` , ` pip install ` , ... ) consumes at least 2 mins .",11163.0
275,2018-09-18 04:13:43,2018-09-17 06:10:20,Move package installation on Travis,"This PR moves package installation on Travis . Especially , the installation of ` pytest pandas ` has been moved to ` pip ` from ` conda ` . The ` conda create ` requires too much time ( 60+ secs ) in [ Keras ] ( https : //travis-ci.org/keras-team/keras/builds/429078096 ) while less time ( < 10 secs ) in [ TensorNets ] ( https : //travis-ci.org/taehoonlee/tensornets/builds/426029804 ) .",11162.0
276,2018-09-17 18:34:38,2018-09-17 06:01:14,Style fixes for enabling PEP8 501,This PR enables PEP8 501 .,11161.0
277,2018-09-17 07:06:17,2018-09-17 04:02:15,Style fixes for enabling PEP8 501,This PR enables PEP8 501 .,11160.0
278,2018-09-17 22:13:02,2018-09-16 18:06:00,Splitted the convolutional recurrent tests .,"# # # Summary This will allow for more readable and informative tests . 150 lines for a test function is too much , even more because the are nested for loops . The logic and behavior of the tests have not changed at all . # # # Related Issues # # # PR Overview The git diff looks awful because of tabs , but the big piece of code has n't changed . It just has less tabs than before . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11154.0
279,2018-09-20 19:16:46,2018-09-16 15:55:09,Refactoring : Added a data_generator to the test_utils.py .,"# # # Summary We create custom generators many times in the test suite . I believe it 's better to group them , for readability and reliability . # # # Related Issues # # # PR Overview A ` data_generator ` generator was created in ` test_utils.py ` and all the other generator which were doing the same job were removed . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11153.0
280,2018-10-01 19:00:02,2018-09-16 11:09:55,Write to TensorBoard every x samples .,"# # # Summary Closes # 7617 . This PR is an update of # 7617. Credit goes to @ sameermanek for his work . The goal of the PR is to be able to see the metrics and losses in a per-batch basis instead of a per-epoch basis . # # # Related Issues # 6692 # # # PR Overview * * This PR is backward compatible * * A new argument has been added to the constructor of the TensorBoard callback . Here is the description that I added in the docs : > write_step : ` 'batch ' ` or ` 'epoch ' ` or integer . When using ` 'batch ' ` , writes the losses and metrics to TensorBoard after each batch . The same applies for ` 'epoch ' ` . If using an integer , let 's say ` 10000 ` , the callback will write the metrics and losses to TensorBoard every 10000 samples . Note that writing too frequently to TensorBoard can slow down your training . Feedback welcome . Especially from @ fchollet since the API has been changed . - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11152.0
281,2018-09-15 21:00:40,2018-09-15 19:27:25,Update of # 8330 according to review .,# # # Summary Thanks @ ozabluda for your work ! Update of # 8330 according to review . We should be able to close # 8330 after this PR is merged . # # # Related Issues # # # PR Overview Used a with statement instead of a close statement for robustness . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11147.0
282,2018-09-14 14:19:11,2018-09-14 12:15:19,Breaking down the attention API PR : part 2,# # # Summary This refactoring will allow the simplification of some code in # 8296 # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11140.0
283,2018-09-14 10:57:27,2018-09-14 09:37:14,Breaking down the attention API PR : part 1,"# # # Summary I believe that it will be simpler to merge # 8296 by breaking it down into indépendant , small PRs as much as possible . Here is the first one . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11136.0
284,2018-09-13 21:49:34,2018-09-13 21:13:21,[ RELNOTES ] Modify Sequential config to include model name ( breaking change ),Matches tf.keras behavior as of TF 1.11.0 .,11133.0
285,2018-09-13 18:55:47,2018-09-13 17:00:07,[ Refactoring ] Removed code duplication in the theano backend .,# # # Summary Everything is in the title . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11131.0
286,2018-09-17 06:22:43,2018-09-12 21:11:54,Fix bug in dilated conv for CNTK,"# # # Summary If the number of channels is great than 1 , we should add a non-zero value at the begin of . For other conv layers , it has several other issues should be fixed as well , I 'll send follow-up PRs later . I found related unit tests only run cases that the number of channels is 1 . I enforced them to run against both input and output channels are great than 1 which is more common case , and check output as expected given an input . I have run all these unit tests on a machine with 2 GPUs , they produce expected output and exactly same as TF and TH backend . # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11125.0
287,2018-09-14 18:14:14,2018-09-12 18:15:21,Fixed the windows line endings in the CSVCallback .,# # # Summary Thanks @ huyu398 for your work ! This PR is an update of # 10609 . See # 10609 for a description of the issue . Here is # 10609 with modifications according to the review . I have tested the code locally on a windows and ubuntu machine . It worked in both . # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11124.0
288,2018-09-12 16:29:28,2018-09-12 15:58:57,Fix bug in BatchNorm when channel=1,# # # Summary When channel=1 and we call ` squeeze ` the tensors become scalars . This is not accepted by Tensorflow . This is an issue only on GPU . # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11123.0
289,2018-09-12 16:28:28,2018-09-10 21:03:49,Simplified the cntk backend tests and made them more readable .,"# # # Summary This PR targets a refactoring of the backend tests , especially the handling of cntk functions which can be confusing ( at least it was the case for me ) . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11116.0
290,2018-09-11 22:53:34,2018-09-10 18:43:34,Removed the tests of each layer with the sequential model .,"# # # Summary This PR is a follow up on # 11098 . Build speedups : | build | before | after | | -- -- -- -| -- -- -- -- | -- -- -- -| | TF 2.7 | 13m | 10m 4s | | TF 3.6 | 12m 29s | 9m 51s | | TH 2.7 | 10m 13s | 9m 23s | | TH 3.6 | 11m 50s | 10m 19s | | CNTK 2.7 | 6m10s | 6m 36s | | CNTK 3.6 | 6m 34s | 6m 51s | Currently we have 2 types of models ( ` Sequential ` , ` Model ` ) and 25+ types of layers . In the tests , we test each type of layer in each type of model . But ` Sequential ` derives from ` Model ` , so in fact , if layers work in ` Model ` they 're expected to work in ` Sequential ` . The effect of this PR is that it halves the running time of the layer tests in all backends ( see the logs ) . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11115.0
291,2018-09-11 16:48:28,2018-09-10 18:40:37,Support multiple axes for backend operations,# # # Summary Improves documentation for ` axis ` argument ( i.e . we should accept a list of integers as well ) . # # # Related Issues # # # PR Overview - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11114.0
292,2018-09-10 17:50:18,2018-09-08 02:17:31,Fix TF Function accepts session_kwargs : options and run_metadata,"# # # Summary Fix # 11106 . , and referred https : //github.com/tensorflow/tensorflow/pull/19932 to fix it . # # # Related Issues # 11106 # 6606 # 6693 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11107.0
293,2018-09-11 17:32:43,2018-09-07 00:38:31,fix sparse categorical acc,"# # # Summary 1. sparse categorical acc should have the same result as categorical acc . For example , with 3 classes , given ` sparse_true_label = [ 0 , 1 , 1 ] ` , it 's equivalent in categorical labels is ` dense_true_label = [ [ 1 , 0 , 0 ] , [ 0 , 1 , 0 ] , [ 0 , 1 , 0 ] ] ` . With the same predictions They should produce the same acc which is ` [ 1 , 0 ,1 ] ` 2 . Not sure why ` max ` is used , but it should directly compare with ` y_true ` 3 . Added unit test to test correctness # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y ] - [ ] This PR changes the current API [ n ] ( all API changes need to be approved by fchollet )",11100.0
294,2018-09-06 21:49:23,2018-09-05 18:20:56,Add missing raise for ValueError at Embedding compute_output_shape,"# # # Summary Reported at https : //github.com/keras-team/keras/issues/10895 # issuecomment-417957421 . If users do n't set layer correctly , it should throw exception . Otherwise , the downstream layers compute shape incorrect and throw confused exception . # # # Related Issues https : //github.com/keras-team/keras/issues/10895 # issuecomment-417957421 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11091.0
295,2018-09-05 22:51:28,2018-09-05 16:01:58,Skipped the training tests when the layer has the same behavior at training and testing time .,"# # # Summary We ca n't expect an error at this point in the code if a layer has the same behavior at training and testing time since we already called ` model.predict ` just before . The idea came from @ fchollet 's comment in this issue : # 8990 # # # Related Issues # # # PR Overview This PR is pretty simple . With a small test on my pc with tf-cpu , the time for ` test_dense ` go from 5s to 1.3s . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11089.0
296,2018-09-05 21:05:00,2018-09-05 12:40:14,Revise the performance table for applications,This PR makes the performance table up-to-date .,11085.0
297,2018-09-05 22:57:15,2018-09-04 16:39:58,Refactor Enqueuers,# # # Summary Refactor both enqueuers to have a common backbone . A notable change to the API is : ` _get_executor_init ` which handles the initialization of the ProcessPool . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) cc @ datumbox @ de-vri-es,11079.0
298,2018-09-05 23:00:50,2018-09-04 11:18:12,Section for Training history visualization,"# # # Summary Added a section for training history visualization using matplotlib , inspired by https : //machinelearningmastery.com/display-deep-learning-model-training-history-in-keras/ # # # Related Issues Nil # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11076.0
299,2018-09-05 23:09:09,2018-09-02 20:45:45,Made an abstract class for upsampling .,# # # Summary This PR makes an abstract class for upsampling layers . Thus reducing the amount of code duplicate . # # # Related Issues This PR is closely related to those past two ones for reference : # 10984 # 10888 # # # PR Overview I made the base class . It was mostly copy pasting from the previous two PRs . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11065.0
300,2018-09-05 02:23:51,2018-09-02 16:39:46,Made the backend tests faster by using the numpy backend in the test_switch .,# # # Summary Follow up on # 11061 We want to avoid to duplicate backends tests . @ taehoonlee # # # Related Issues # 11051 # 11037 # 10972 # 10956 # 10930 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11062.0
301,2018-09-03 21:46:22,2018-09-02 16:12:18,Added in_train_phase and in_test_phase in the numpy backend .,# # # Summary Follow up on # 11051 . We want to avoid to duplicate backends tests . @ taehoonlee # # # Related Issues # 11051 # 11037 # 10972 # 10956 # 10930 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11061.0
302,2018-09-01 17:36:38,2018-09-01 05:09:41,Speed up backend tests,"# # # Summary This PR speeds up backend tests by removing redundant backend tests . The targets , which always been included in the slowest 20 test durations , are ` test_linear_operations ` , ` test_resize_images ` , ` test_resize_volumes ` , and ` test_bias_add ` . # # # Related Issues # 11037 # 10972 # 10956 # 10930 cc @ gabrieldemarmiesse",11051.0
303,2018-09-01 00:01:52,2018-08-31 22:37:01,Used decorators and WITH_NP to avoid tests duplication .,# # # Summary @ taehoonlee Follow-up on # 11037 Still trying to make those tests look younger and prettier . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11050.0
304,2018-09-01 05:13:41,2018-08-31 21:12:55,Skipped some duplicated tests .,# # # Summary @ taehoonlee Follow-up on # 11037 Still trying to make those tests look younger and prettier . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11049.0
305,2018-08-31 16:06:28,2018-08-31 10:40:59,Doc Change : Change in shape for CIFAR Datasets,"Both the CIFAR datasets have been updates now having the channel as the last dimension in the shape resulting in ( num_samples , 32 , 32 , 3 ) ! [ ] ( https : //preview.ibb.co/dadE09/keras_shape.png ) # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11043.0
306,2018-08-30 20:23:14,2018-08-30 19:46:48,Better UX for __iter__,# # # Summary We recently added __iter__ to Sequence . And while at the time making it infinite made sense . It 's a bad UX . This PR makes __iter__ more friendly by * * not * * being infinite and add a function to be used when we need it to be infinite ( when workers=0 ) # # # Related Issues https : //github.com/keras-team/keras-preprocessing/issues/45 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11039.0
307,2018-08-30 19:59:59,2018-08-30 17:04:15,Update lstm text generation example,unused args in * * on_epoch_end * * removed and softmax activation layer replace with args in dense layer . # # # Summary # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11038.0
308,2018-08-31 20:59:30,2018-08-30 16:12:07,Removing duplicated backend tests .,"# # # Summary Follow up on # 10992 . We are trying with @ taehoonlee to remove , for example , the dependencies on Theano and CNTK when running the travis TF build . That would save us quite a bit of time ( downloading and installing backends is slow ) . At the same time , we remove tests which are run multiple times overall in the travis build matrix . # # # Related Issues # 10972 # 10956 # 10930 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11037.0
309,2018-08-30 16:04:04,2018-08-30 13:56:22,Speeding up the tests by reducing the number of K.eval ( ) .,"# # # Summary In this PR , I adapted the change in the commit e40ffd2 to other tests . Giving interesting speedups . The numbers here were obtained on my laptop , using tensorflow . test_random_uniform : 5.92s - > 0.18s test_random_binomial : 5.95s - > 0.23s # # # Related Issues # # # PR Overview * I kept the number of samples generated identical . * I converted the list to a numpy array directly to avoid multiple conversions ` list ` - > ` ndarray ` . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11036.0
310,2018-09-11 17:34:47,2018-08-30 07:38:08,Make Keras models pickle-able ( refactored ),,11030.0
311,2018-08-31 18:31:47,2018-08-30 01:47:30,Conv2DTranspose supports dilation,"# # # Summary I saw the requirements for dilated transposed convolution at several places ( https : //github.com/keras-team/keras/issues/8159 , https : //github.com/tensorflow/tensorflow/issues/21598 ) . This PR makes # # # Related Issues https : //github.com/keras-team/keras/issues/8159 https : //github.com/tensorflow/tensorflow/issues/21598 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11029.0
312,2018-09-05 21:03:54,2018-08-28 18:30:16,Update the RNN cell API to be explicit about output_size .,"The existing contract of state_size [ 0 ] to be output size is bit weird and might cause unnecessary contrain for supporting higher dimension input/output/states . Adding explicit output_size to cell so that the contract is not inferred by state_size anymore . For backward compat reason , if a cell does not implement output_size , the state_size [ 0 ] will be used as output_size . The stackedRNNCells is also updated to by default return natural order state_size as the cells ' state , instead of reverse order . For any user who rely on the states of the RNN , eg RNN ( return_state=True ) , please add the extra param reverse_state_order=True while constructing the StackedRNNCells . # # # Summary # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11021.0
313,2018-08-28 16:45:17,2018-08-27 20:12:42,Used `` pip install cntk '' to simplify the installation of CNTK .,# # # Summary Install cntk with pip . Merging this PR will also merge # # 10834 # # # Related Issues See # # 10834 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11011.0
314,2018-08-27 17:05:45,2018-08-27 16:58:44,Fix broken links in FAQ,"# # # Summary I noticed the final link in the FAQ was n't working and after some investigation , it seems markdown links must be in lower case to work . I 've changed all broken references to the final question . # # # Related Issues None # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",11010.0
315,2018-08-30 02:51:43,2018-08-27 07:36:25,Modularize Earlystopping callback for easier subclassing,# # # Summary This PR allows user to easily subclass EarlyStopping to use their own metric calculation function . # # # Sample usage ( modified examples/mnist_mlp.py ) # # # Related Issues # 10587 ( feature request ) # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),11002.0
316,2018-08-28 19:59:24,2018-08-26 05:16:35,Conv1D and Conv3D supporting dilated conv for CNTK backend,"# # # Summary Following # 10967 , this PR makes # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10997.0
317,2018-08-30 02:50:23,2018-08-25 14:26:20,Added the mode `` bilinear '' in the upscaling2D layer .,"# # # Summary Thanks @ ahundt for your work . I was able to get Theano working and be compatible with what was doing tensorflow , but only for ( 2 , 2 ) upscaling . Other factors like ( 4 , 4 ) show different results for the theano 's implementation and the tensorflow 's implementation . I also could n't figure out how to use other factors like ( 3 , 2 ) with theano . Which is why , with the Theano backend , for implementation and backend compatibility reasons , only ( 2 , 2 ) is implemented . # # # Related Issues See @ ahundt 's PR : # 9303 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10994.0
318,2018-08-28 17:05:13,2018-08-25 11:40:56,Speed up backend tests,"# # # Summary This PR speeds up backend tests by removing redundant backend tests . The targets , which always been included in the slowest 20 test durations , are ` test_elementwise_operations ` and ` test_nn_operations ` . This PR also cleans up old styles for backend tests including ` assert_value_with_ref ` , ` return_results ` , ` shape_or_val ` , and the related stuff with them . As a result , the ` test_conv ` , ` test_depthwise_conv ` , and ` test_pool ` are now much cleaner than before . # # # Related Issues # 10972 # 10956 # 10930 cc @ gabrieldemarmiesse",10992.0
319,2018-08-25 07:08:33,2018-08-24 17:00:49,Added a if-else which was forgotten in the tests .,"# # # Summary From reading the tests code , I noticed an unused variable . I think a if-else was supposed to be there . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10986.0
320,2018-08-28 19:55:03,2018-08-24 16:56:59,Made a base class for ZeroPadding .,"# # # Summary By doing this , we can remove quite a lot of code . I think it will also increase the coverage . ( maybe ? ) A similar refactoring was done for the cropping layers . # # # Related Issues # # # PR Overview The base class holds the ` compute_output_shape ` and ` get_config ` methods . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10984.0
321,2018-08-25 21:47:36,2018-08-24 12:40:16,Reduce the flakyness of builds with ` travis_retry ` .,# # # Summary It happens sometimes that a build fails because of timeouts or https errors . Forcing us to often re-triggering the whole build by closing and opening again the PR . See : [ this build ] ( https : //travis-ci.org/keras-team/keras/builds/420060113 ? utm_source=github_status & utm_medium=notification ) and [ this build ] ( https : //travis-ci.org/keras-team/keras/builds/414613797 ? utm_source=github_status & utm_medium=notification ) Keras is not the only repo facing this issue with travis . This is why travis made a script for that . See [ the docs for reference ] ( https : //docs.travis-ci.com/user/common-build-problems/ # timeouts-installing-dependencies ) # # # Related Issues # # # PR Overview See those examples for usage : https : //github.com/scikit-fuzzy/scikit-fuzzy/blob/master/.travis.yml https : //github.com/pyoceans/python-seawater/blob/master/.travis.yml https : //github.com/blink1073/scilab2py/blob/master/.travis.yml I only added ` travis_retry ` for the commands which have the most stuff being downloaded . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10980.0
322,2018-08-28 18:27:58,2018-08-24 09:15:44,Convolutional layer supports float64 dtype after tensorflow 1.8.0,# # # Summary Relax cast to ` float32 ` in ` _preprocess_conv * d_input ` after ` tensorflow ` version > = 1.8.0 # # # Related Issues # 10964 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10977.0
323,2018-08-29 16:42:29,2018-08-24 05:40:34,Split convolutional and pooling tests and parameterize tests,# # # Summary Split convolutional layers tests and pooling tests ( currently both are in convolutional_test.py ) ; make convolutional_test.py tests use parameterized tests instead of inner for loops for different cases . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10975.0
324,2018-08-25 06:48:28,2018-08-23 14:43:07,Created a dummy 'variable ' function in the numpy backend to replace the ` BACKEND ` variable .,"# # # Summary @ taehoonlee Allow me to propose an alternative to the ` assert_value_with_ref ` method for the numpy reference operations . The limitation which I see with this approach is that it will be hard to track the progress of the removal of the other backends ( I may be wrong , feel free to correct me it 's possible I have n't read the code well enough ) . I propose that we consider the numpy backend as a true backend for the tests ( without gradients of course ) . I created a new variable called ` BACKEND_AND_NP ` which is similar to ` BACKENDS ` and will hopefully replace it . Once we manage to remove all occurences of ` KC ` , ` KTF ` , ` KTH ` and ` BACKENDS ` , we should be able to removed unnecessary installs of backends . I made a small example here for the ` reshape ` backend function . What are your thoughts on this ? # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10972.0
325,2018-08-25 21:46:40,2018-08-23 09:46:47,Enable examples pep8,"# # # Summary This PR is to enable PEP8 501 checks . Especially , its for example code .",10968.0
326,2018-08-23 18:29:54,2018-08-23 05:28:21,Fix dilated convolution for CNTK backend .,"# # # Summary 2D Dilated convolution gives wrong output for CNTK backend : Meanwhile , I found a CNTK dilated conv bug if number of channel > 1 ( need confirm from CNTK guys ) , I reported to https : //github.com/Microsoft/CNTK/issues/3371 . But I think it does n't have effect of the code structure at Keras . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10967.0
327,2018-08-23 03:25:02,2018-08-22 23:57:58,Add data_format support for * Pooling1D layers,# # # Summary Adds ` data_format ` support for ` * Pooling1D layers ` . Details in # 10960 # # # Related Issues Problem brought up in # 10570 Design review in # 10960 # # # PR Overview - [ x ] This PR requires new unit tests [ * * y * * /n ] ( make sure tests are included - * * tests added * * ) - [ x ] This PR requires to update the documentation [ * * y * * /n ] ( make sure the docs are up-to-date - * * docs updated * * ) - [ x ] This PR is backwards compatible [ * * y * * /n ] - [ x ] This PR changes the current API [ * * y * * /n ] ( all API changes need to be approved by fchollet - * * approved * * ),10966.0
328,2018-08-25 22:00:08,2018-08-22 16:39:16,Moved the preprocessing tests into the integration directory .,"# # # Summary Follow up on # 10942 There is a limited upside to this PR indeed , I 'll advance two points : - I believe it 's cleaner and more meaningful for new users who are reading the keras codebase - We can remove the installation of PIL/ Pillow for most builds in the build matrix . Saving us 10 seconds per build . # # # Related Issues # # # PR Overview Moving the preprocessing tests ( I kept the directory as is ) . removing the install of PIL/ Pillow . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10963.0
329,2018-08-22 17:15:06,2018-08-22 13:39:48,Enable NASNetMobile in integration_tests for Theano and CNTK,This PR enables NASNetMobile in integration_tests for Theano and CNTK .,10962.0
330,2018-08-23 03:25:52,2018-08-22 10:16:01,Removed duplicated backend tests .,# # # Summary This PR is a follow-up on # 10930 . It removed tests which would be duplicated when running the travis build . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10959.0
331,2018-08-22 17:06:20,2018-08-22 07:43:25,Style fixes for enabling PEP8 501,This PR is to enable PEP8 501 checks .,10957.0
332,2018-08-23 13:51:36,2018-08-22 06:46:36,Speed up backend tests,"This PR is a follow-up of # 10930 and speeds up backend tests by removing redundant backend tests . Especially , ` test_elementwise_operations ` and ` test_nn_operations ` have always been included in the slowest 20 test durations . Thus , this PR defines a set of basic operations and calculates only a single backend output if an operation exists in the list of basic operations .",10956.0
333,2018-08-22 04:33:56,2018-08-21 18:38:25,Removed redundant tests in the backends .,# # # Summary This PR is a follow up on # 10930 . There is no need to test the three backends for each build in travis . # # # Related Issues # # # PR Overview Now only the main backend is tested for those functions . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10953.0
334,2018-08-22 02:32:39,2018-08-21 17:39:22,Integration with redesigned preprocessing & applications modules .,See : Original issue : https : //github.com/keras-team/keras-applications/issues/28 keras_applications PR : https : //github.com/keras-team/keras-applications/pull/29 keras_preprocessing PR : https : //github.com/keras-team/keras-preprocessing/pull/40,10952.0
335,2018-08-21 22:51:02,2018-08-20 17:12:01,Fix val_step in fit_generator with Sequence,# # # Summary The previous code was forcing the val_steps to len ( val_seq ) . Not sure how to test this without breaking the `` read-only '' # # # Related Issues Fix # 10944 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10946.0
336,2018-08-22 17:02:45,2018-08-19 17:57:03,Added in the documentation an example of custom layer with multiple inputs and outputs .,"# # # Summary '' How to make a layer with multiple inputs/outputs ? '' is a question which is often asked on StackOverflow and in the github issues . There is no answer to it in the documentation . # # # Related Issues # 2364 # 534 # 3061 # # # PR Overview The layer makes zero sense , but I think the example is ok since it 's really close to the first code example so readers can easily spot the differences . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10939.0
337,2018-08-21 22:22:21,2018-08-19 05:10:28,Support recurrent kernel using identity initializer,"# # # Summary Recurrent kernels of RNN cells are concatenated to speedup , therefore shape of its weights are no longer square and ca n't be initialized with identity initializer . Here we relax identity initializer for this case . # # # Related Issues # 10893 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10934.0
338,2018-08-21 17:59:40,2018-08-18 13:52:57,Style fixes for enabling PEP8 501,This PR is to enable PEP8 501 checks .,10931.0
339,2018-08-21 17:58:51,2018-08-18 13:31:00,Speed up backend tests,"This PR speeds up backend tests by removing redundant backend tests . Especially , ` test_random_normal ` have always been included in the slowest 20 test durations . - As is : testing all the backends in 6 different build environments . - To be : testing a designated backend only for each build environments .",10930.0
340,2018-08-21 04:56:19,2018-08-18 13:07:27,Fix CI on TensorFlow,This PR is a follow-up to # 10674 . Is there a difference between build environments for PRs and the master branch ? : ( There was no problem in # 10674 but the recent CI on the master branch have been failing .,10929.0
341,2018-08-21 11:02:12,2018-08-18 07:34:08,Typos in a docstring of cifar10_cnn_capsule.py example,# # # Summary Fixing a few typos in a docstring of an example .,10927.0
342,2018-08-23 18:38:59,2018-08-17 14:56:23,Generators now use same logic as Sequence,# # # Summary Update the GeneratorEnqueuer logic to follow the Ordered Enqueuer ( We could merge them later on ) * Remove the Lock and adds a new error message when use_multiprocessing=False . * The exceptions raised are now similar between a Generator and a Sequence . ( StopIteration ) * wait_time is now deprecated . # # # Related Issues https : //github.com/keras-team/keras/pull/8662 # discussion_r210682836 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) cc @ datumbox @ de-vri-es,10925.0
343,2018-08-16 19:00:20,2018-08-16 10:11:42,Raise warning if both class_weight and sample_weight given,"# # # Summary As discussed in past issues it would be beneficial to raise a warning , informing the user that class_weight is ignored in case both sample_weight and class_weight are given . # # # Related Issues # 497 # 504 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ X ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10921.0
344,2018-08-15 18:40:37,2018-08-15 08:09:17,Style fixes for enabling PEP8 501,This PR is to enable PEP8 501 checks .,10916.0
345,2018-08-16 20:26:23,2018-08-15 02:00:52,GlobalAveragePooling1D supports masking,# # # Summary support masking as the sentences are very likely to be padding with zero . # # # Related Issues # 10895 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10913.0
346,2018-08-16 18:21:25,2018-08-15 00:56:49,ENH : all save_model/load_model to accept h5py.Group,- [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) This is inspired by a bug report to h5py ( https : //github.com/h5py/h5py/issues/1076 ) to allow the user to pass a Group or a File ( which is a sub-class of Group ) into save_model and load_model,10912.0
347,2018-08-14 21:49:32,2018-08-14 11:32:26,Add LR for Tensorboard in LearningRateScheduler,"# # # Summary Add learning rate in LearningRateScheduler 's log . This is already done for the callback ` ReduceLROnPlateau ` , which is similar . The enables Tensorboard to display the learning rate . Changes done are identical to the implementation of ` ReduceLROnPlateau ` . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10908.0
348,2018-08-21 23:41:38,2018-08-10 19:02:51,Refactoring : Made an abstract class for all the cropping layers .,"# # # Summary Following up on @ Dref360 's comment in # 10865 . It allows us to regroup the methods of those classes . Now ` Cropping1D ` , ` Cropping2D ` and ` Cropping3D ` only implement the ` __init__ ( ) ` method . # # # Related Issues # # # PR Overview Things to note : - Now the ` Cropping1D ` layer will get an ` data_format ` attribute . This attribute will always have the value ` 'channels_last ' ` . Maybe this can be considered as an API change . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10888.0
349,2018-08-14 01:16:16,2018-08-10 17:15:06,avoid url error exception,"# # # Summary To Avoid falling into url error exception , I changed the order of exceptions . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) in so , it should be changed order .",10887.0
350,2018-08-14 01:18:18,2018-08-10 01:04:59,Fix check equality between static shape and dynamic shape in test,"# # # Summary At , we would like to check the equality between static keras shape and dynamic shape . However , we actually do n't trigger this check by mistake in the existing code . See my inline comments for detail . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10879.0
351,2018-08-16 20:27:01,2018-08-09 03:50:32,Add static shape inference for theano concatenate and all operations,# # # Summary Run the following code with theano backend : operations do n't have static shape inference . Added them in this PR . # # # Related Issues # 10726 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10873.0
352,2018-08-09 20:28:39,2018-08-08 21:28:04,Update the FAQ on reproducibility : PYTHONHASHSEED=0 before startup + TF on GPU issues,"# # # Summary Python reads the ` PYTHONHASHSEED ` environment variable upon startup , so it 's no use setting it from within the program . It 's also worth mentioning reproducibility issues when using the TensorFlow backend on a GPU . I just recommend running on the CPU if you need perfect reproducibility . # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10871.0
353,2018-08-08 14:02:41,2018-08-06 22:10:24,Refactoring of the cropping layers .,# # # Summary The computing of the output shape for cropping layers can be done in a single function . Maybe we could use subclassing later on ? # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10865.0
354,2018-08-07 18:04:22,2018-08-06 21:43:45,Removed some code in the cropping layer by making use of python slices .,# # # Summary I think this version is less error prone and more maintainable . Maybe we could do some subclassing ? # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10864.0
355,2018-08-08 14:08:34,2018-08-06 20:30:58,Some code refactoring using ` transpose_shape ` in tensorflow_backend.py . Part 3,# # # Summary Some code refactoring . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10860.0
356,2018-08-08 14:07:41,2018-08-06 20:22:59,Some code refactoring using ` transpose_shape ` in tensorflow_backend.py . Part 2,"# # # Summary Some refactoring . # # # Related Issues # # # PR Overview There was a bug in the code in the ` channels_last ` part : ` x += reshape ( bias , ( 1 , 1 , 1 , bias_shape [ 0 ] ) ) ` The new shape should be of size 5 , here it is only 4 . My refactoring fixes this . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10859.0
357,2018-08-08 14:04:47,2018-08-06 19:58:39,Some code refactoring using ` transpose_shape ` in tensorflow_backend.py .,# # # Summary I was able to simplify this piece of code with the function ` transpose_shape ` . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10858.0
358,2018-08-21 04:56:55,2018-08-06 16:33:46,Fix multi-output Siamese networks in multi_gpu_model,"# # # Summary Passing a multi-output Siamese network through ` multi_gpu_model ( ) ` can lead to ` ValueError ` exception when both values of the nested model are returned . Code : The problem is caused by [ line 237 ] ( https : //github.com/keras-team/keras/blob/master/keras/utils/multi_gpu_utils.py # L237 ) on current implementation of ` multi_gpu_model ( ) ` . The values of ` model.output_names ` can be non-unique and thus we get ValueError exceptions . The PR handles this case by choosing unique names for the outputs that have conflicts . Example : In the above snippet the ` siamese.output_names ` has value ` [ 'add_1 ' , 'nested ' , 'nested ' ] ` . To avoid duplicate layer names the proposed code will update ` parallel_siamese.output_names ` value to ` [ 'add_1 ' , 'nested_1 ' , 'nested_2 ' ] ` . # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10856.0
359,2018-08-07 17:31:56,2018-08-04 19:49:45,Let utils.to_categorical support different dtypes .,# # # Summary Currently the returned data type of utils.to_categorical is hardcoded . This PR makes it customizable . # # # Related Issues # 9262 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ y ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10846.0
360,2018-08-05 23:33:30,2018-08-04 08:01:34,RNN.call should get initial state from full input spec,# # # Summary This PR fix a critical bug in # # # Related Issues # 9449 # 10830 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10845.0
361,2018-08-01 16:10:51,2018-07-31 14:59:19,Improve keras/utils by enabling PEP8 501,# # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ X ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ) cc @ taehoonlee,10817.0
362,2018-07-31 15:26:25,2018-07-31 09:27:53,Fix doc,# # # Summary Fixed doc for consistency # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10812.0
363,2018-07-30 19:53:11,2018-07-30 02:26:54,Exclude CNTK legacy codes when reporting coverages,This PR excludes CNTK legacy codes when reporting coverages ( the ` _padding ` is for the old versions that do n't have ` C.pad ` ) . This affects only calculating test coverages .,10802.0
364,2018-07-30 19:53:41,2018-07-30 02:16:48,Exclude Theano legacy functions when reporting coverages,This PR excludes Theano legacy functions when reporting coverages . This affects only calculating test coverages .,10801.0
365,2018-07-30 19:56:06,2018-07-28 04:34:20,Improve docstrings to enable PEP8 501,This PR improves docstrings to enable PEP8 501. cc @ yongzx ( I have done a backward sweep : ) as you did a forward sweep on the ` pytest.ini ` ),10797.0
366,2018-07-30 17:27:47,2018-07-27 21:31:43,Make InputLayer support masking,"# # # Summary function in base layer ( just carry over the input mask ) . Because users do n't add this layer explicitly , it should transparent to users . # # # Related Issues # 10763 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10794.0
367,2018-08-05 23:48:16,2018-07-26 13:00:39,Created a function to_data_format to abstract the shape and data_format handling .,"# # # Summary The keras codebase has this pattern which occurs quite frequently : I believe some refactoring could be done , and it could lead to more readable and less error-prone code . I made a function for it , I did n't use it in all the places that I could though . I wanted to keep this PR small . I will replace more code in the future if this PR is merged . # # # Related Issues # # # PR Overview * Made a new function ` to_data_format ` . * Removed it from the docs . * Used it at a few places to show how it would work . More refactoring using this function will come in future PRs . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10781.0
368,2018-08-18 14:32:28,2018-07-24 13:24:31,EarlyStopping : restore model weights corresponding to best value of monitored quantity,"# # # Summary The current implementation of EarlyStopping monitors a user-specified quantity , and stops training after [ patience ] epochs have passed since the last best value of the monitored quantity . In the * * current * * implementation , the final model weights are those at the end of the patience period . In the * * proposed * * implementation , the final model weights are those from the epoch with the best value of the monitored quantity , in agreement with the original paper [ 1 ] as well as [ 2 ] . The proposed implementation includes an additional test case ( test_EarlyStopping_final_weights ) in test_callbacks.py ; it also makes two existing test cases ( test_EarlyStopping_patience and test_EarlyStopping_baseline ) compatible with the proposed implementation . [ 1 ] Advances in Neural Information Processing Systems 2 '' , San Mateo , California , 1990 , pages 630-637 [ 2 ] Prechelt L. ( 2012 ) Early Stopping — But When ? . In : Montavon G. , Orr G.B. , Müller KR . ( eds ) Neural Networks : Tricks of the Trade . Lecture Notes in Computer Science , vol 7700 . Springer , Berlin , Heidelberg # # # Related Issues None # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10765.0
369,2018-07-23 22:21:01,2018-07-23 20:20:44,Network.to_json should handle numpy.ndarray correctly .,"# # # Summary Similar as # 10727 , when we serialize a should have the same issue , will send a fix if this get approved . # # # Related Issues # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10754.0
370,2018-07-23 19:38:39,2018-07-23 09:00:17,Fixing HDF5Matrix ` .dtype ` and ` .shape ` properties,"# # # Summary Adding code to the initialization function of ` HDF5Matrix ` so that ` .dtype ` and ` .shape ` reflect the actual values returned by the normalizer . This is particularly important because the ` model.fit ` function looks at the shape to determine if the code can be run and if there are changes to shape ( random cropping , downsampling , edge removal , ... ) performed in the normalizer these are not currently reflected in the ` .shape ` property . The dtype mismatch currently does not cause any issues ( that I know of ) but should also be adjusted as well . # # # Related Issues https : //github.com/keras-team/keras/issues/8304 # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ x ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10749.0
371,2018-07-22 21:36:36,2018-07-21 08:01:24,Fix signature of functions and methods in generated docs,"# # # Summary This PR resolves two issues : 1 ) The ` get_function_signature ` in ` autogen.py ` duplicates module name for non-method functions . For example , it returns ` keras.preprocessing.sequence.keras.preprocessing.sequence.pad_sequences ` instead of ` keras.preprocessing.sequence.pad_sequences ` . 2 ) Method functions and non-method functions should be distinguished from each other . Since , the module name of non-method functions should be included in the signature in the docs ( like ` keras.preprocessing.sequence.pad_sequences ( ... ) ` ) whereas for the methods of classes it should not be included ( like ` compile ( ... ) ` for ` Sequential ` class ) . Therefore , a new ` 'methods ' ` key is introduced to make this distinction . Note that I temporary resolved the first issue by a merged PR ( # 10664 ) ; however that PR did not address the underlying problem . # # # Related Issues # 10658 # 10662 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10743.0
372,2018-07-23 18:54:33,2018-07-21 05:10:29,TF Batch Normalization should use FusedBatchNorm when axis = -1,"# # # Summary When applying ) as well . Since the default value for axis is -1 , it 's common case that users do n't set axis explicitly , then they wo n't get optimized code route before this fix . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10742.0
373,2018-07-23 18:48:36,2018-07-20 12:15:29,SeparableConv1D has incorrect documentation listing width and height as input dimensions .,In documentation for SeparableConv1D data_format parameter explanation includes an extra dimension ( width or height ) ! [ image ] ( https : //user-images.githubusercontent.com/7511567/43028531-fc815d36-8c45-11e8-9d26-747c67c05d72.png ) ) This only makes sense for Conv2D layers and is contrary to the corresponding doc from TensorFlow : ! [ image ] ( https : //user-images.githubusercontent.com/7511567/43001926-aa976834-8bec-11e8-99db-b613a6d3ef85.png ),10737.0
374,2018-07-20 18:30:49,2018-07-19 02:05:57,Numpy ndarray should be serialized as Python list .,"# # # Summary If there is numpy ndarray in a layer config , for example , set does n't know ( does n't need ) how to deserialize numpy ndarray if there are extra message header . Note : I have verify this fix works well for # 10718 . # # # Related Issues # 10718 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10727.0
375,2018-07-18 23:08:38,2018-07-18 16:10:43,PEP8 fixed line length examples/,# # # Summary Fix the line length for 5 files in ` examples/ ` folder # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ X ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10724.0
376,2018-07-18 15:07:38,2018-07-17 17:23:10,Removed the exceptions concerning files which were already complient with the 85 chars rule .,# # # Summary # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10714.0
377,2018-07-17 15:24:38,2018-07-17 14:50:33,PEP8 styled files in docs/,# # # Summary Modify ` docs/autogen.py ` so it complies to PEP8 line length rule ( line length = 85 ) . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ X ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10713.0
378,2018-07-16 17:54:45,2018-07-16 15:05:32,Enable line length ( pep8 ) checking on a per file basis .,"# # # Summary This idea came when I saw the PR # 10551 . I do n't thing doing giant PRs are a good thing . With this setup , we can do one PR per file and progressively enable line checking on a per file basis . For example , if I do a PR enabling E501 in ` docs/autogen.py ` , then , I would have to modify only two files : * ` docs/autogen.py ` to make the lines shorter . * ` pytest.ini ` to remove the corresponding line and avoid any future regression . Errors might slip in giant PRs , so breaking it down might be a solution . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10698.0
379,2018-07-16 16:29:25,2018-07-16 05:46:57,Update ` Conv2D ` call to the Keras 2 API,Update ` Conv2D ` call to the Keras 2 API # # # Summary Update ` Conv2D ` call to the Keras 2 API # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ n ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10692.0
380,2018-07-19 15:48:44,2018-07-15 11:09:45,Refactoring : Used the function ` normalize_data_format ` to remove some code .,"# # # Summary Quite a lot of code can be removed by doing this . Would you want me to split it into multiple smaller PRs ? # # # Related Issues # # # PR Overview To solve the issue of cyclical imports , I moved the ` normalized_data_format ` in ` backend/common.py ` . I think it makes sense for the implementation to be there overall since it 's tightly connected to the data_format given by the backend . I left the other implementation to avoid breaking anything . - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ x ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10690.0
381,2018-07-19 17:32:07,2018-07-15 09:59:44,Removed some unused variables and fixed a formatting error .,"# # # Summary The exception ` e ` is n't used and ` layer_id ` is redefined later . Also when the ValueError was raised , one would get the following error instead : # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10688.0
382,2018-08-05 23:53:57,2018-07-15 09:33:14,Removed some unused variables .,"# # # Summary I removed some variables , some unused , some redefined later on . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10686.0
383,2018-07-18 17:36:15,2018-07-15 04:41:32,Batch Normalization should squeeze mean/var/beta/gama tensors when calling tf.nn.fused_batch_norm,# # # Summary . # # # Related Issues https : //github.com/keras-team/keras/issues/10648 # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10684.0
384,2018-07-18 17:59:15,2018-07-14 18:57:31,Refactoring : Simplified some if-else by creating a function similar to ` to_list ` .,# # # Summary There were a lot of pattern like this in the codebase : I think it makes the codebase easier to read with a function for this . I can change the name of the function if necessary . ` first_or_list ` is n't very pretty in my opinion . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10679.0
385,2018-07-26 13:02:37,2018-07-14 18:18:44,Refactoring : Simplified some code by using the ` to_list ` function .,# # # Summary We have the method ` to_list ` in keras . Let 's use it to make the codebase simpler ! # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10678.0
386,2018-08-15 18:44:55,2018-07-14 05:55:31,Update TensorFlow as 1.9 on Travis,# # # Summary This PR updates TensorFlow as 1.9 on Travis . # # # Related Issues # # # PR Overview - [ ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10674.0
387,2018-07-23 20:38:03,2018-07-13 20:34:40,[ Bug ] Fix Stateful Metrics in fit_generator with TensorBoard,# # # Summary Currently `` TensorBoard `` does not work with `` fit_generator `` because of This is a simple casting issue . # # # Related Issues https : //github.com/keras-team/keras/issues/10628 https : //github.com/keras-team/keras/issues/10623 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10673.0
388,2018-07-12 20:53:13,2018-07-12 19:48:29,Fix redundant functions ' module names in auto-gen docs,"# # # Summary This PR fixes the redundant function module names in auto-gen docs . Currently , the module name of functions ( those which are not methods of a class ) is repeated two times in documentation . [ For example ] ( https : //keras.io/preprocessing/sequence/ # pad_sequences ) : > ` keras.preprocessing.sequence.keras.preprocessing.sequence.pad_sequences ` which should be : ` keras.preprocessing.sequence.pad_sequences ` . Further , this PR also removes from the docs the ( wrong ) module name of methods of classes like ` ImageDataGenerator ` . For example , [ this is for ` apply_transform ` ] ( https : //keras.io/preprocessing/image/ # apply_transform ) : > ` keras.preprocessing.image.apply_transform ` which should simply be ` apply_transform ` , first because it is the method of a class ( i.e . ` ImageDataGenerator ` ) and second because the referenced module name is wrong ( and this [ has caused confusion ] ( https : //stackoverflow.com/q/51311062/2099607 ) ) . All of this were caused by the fact that ` clean_module_name ( ) ` was not called on the ` function.__module__ ` in ` render_function ` ( therefore this mostly affects the docs for ` keras.preprocessing ` and ` keras.applications ` ) . Plus , the way ` autogen.py ` works , the module name is repeated two times in the signature , but for the non-method functions it should be removed only once ( that 's why I have added a condition ) . # # # Related Issues # 10658 # 10662 # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10664.0
389,2018-07-14 18:18:12,2018-07-12 14:56:13,Refactoring of the ` layer_test ` function because of code duplication .,"# # # Summary I wanted to make another PR involving modifying the ` layer_test ` and I quickly noticed that I had a lot of modifications to duplicate . This PR intends to solve this issue of duplicate code . # # # Related Issues # # # PR Overview For the structure of this function , first the functional API is tested , and then the sequential API . So I made a function for both and moved the statement ` expected_output_shape = layer.compute_output_shape ( input_shape ) ` up since it was not part of the sequential API tests nor the functional API tests . - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10660.0
390,2018-07-12 15:18:27,2018-07-12 05:23:40,Fix nested sequential deferred build,"# # # Summary When adding a ` Sequential ` ( without ` input_shape ` ) to another ` Sequential ` , the ` add ( ) ` operation fails : Fix it by removing the duplicated lines causing this error . A unit test is also added for this case . # # # Related Issues None # # # PR Overview - [ x ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ x ] This PR is backwards compatible [ y/n ] - [ ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10655.0
391,2018-07-12 08:58:04,2018-07-12 05:11:15,Remove duplicate calls to InputSpec,# # # Summary ` input_spec ` is already defined in the superclass initialization . # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10654.0
392,2018-07-12 08:56:20,2018-07-11 11:38:03,Enable automatic shape inference when using Lambda layers and CNTK .,"# # # Summary When using a Lambda layer and CNTK , the user have to give the function to compute the output shape . But CNTK can infer it ( like Tensorflow ) . So it would make sense to do it for the user and make the API even cleaner . # # # Related Issues # # # PR Overview # # # # Main changes Some docs updates , as well as a test for checking that a lambda layer can handle a function which changes the shape of the input . # # # # Fixing a tests that was not working as intended . ` test_sgd ` was broken after my modification . Which was really strange . I investigated and the test was not working as intended . Let me explain : The function ` _test_no_grad ` is supposed to test that a ` ValueError ` is raised when there is no gradient . But only Tensorflow can detect this anomaly and raise the error . So why is n't this test skipped with other backends ? The test was working on all backends but the ` ValueError ` was different ( this is before my modification , result obtained on the master branch ) : * * Theano * * ` ValueError : Error when checking target : expected lambda_1 to have shape ( 10 , ) but got array with shape ( 1 , ) ` * * TensorFlow * * ` ValueError : An operation has ` None ` for gradient . Please make sure that all of your ops have a gradient defined ( i.e . are differentiable ) . Common ops without gradient : K.argmax , K.round , K.eval. ` * * CNTK * * ` ValueError : Error when checking target : expected lambda_1 to have shape ( 10 , ) but got array with shape ( 1 , ) ` So the test was passing for all backends ! Because the person who made the test forgot to add the argument ` output_shape ` to the lambda layer . The test have been fixed . Now everything is working as intended . # # # End note : Maybe ` test_no_grad ` should not exist at all ? We are testing a TensorFlow feature . It would make more sense if this test was in the TensorFlow test suite and not in the Keras one . - [ y ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ y ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ y ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet )",10647.0
393,2018-07-10 14:06:30,2018-07-10 09:30:08,Add missing examples to examples/README.md,# # # Summary This PR adds the missing examples to the list of examples in _examples/README.md_ . # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10637.0
394,2018-08-14 17:22:55,2018-07-06 09:37:10,Argument target_tensors from Model.compile : accept single tensor,# # # Summary # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10616.0
395,2018-07-06 07:36:07,2018-07-04 18:43:22,docstring fixes,# # # Summary # # # Related Issues # # # PR Overview - [ n ] This PR requires new unit tests [ y/n ] ( make sure tests are included ) - [ n ] This PR requires to update the documentation [ y/n ] ( make sure the docs are up-to-date ) - [ y ] This PR is backwards compatible [ y/n ] - [ n ] This PR changes the current API [ y/n ] ( all API changes need to be approved by fchollet ),10603.0
396,2018-07-04 04:21:52,2018-07-04 02:32:46,Replace relu6 with ReLU layers,Related to : [ this ] ( https : //github.com/keras-team/keras/pull/10521 ) and [ this ] ( https : //github.com/keras-team/keras-applications/pull/15 ) . ` relu6 ` is no longer required . Removed the code and related docs .,10597.0
397,2018-07-07 07:25:05,2018-07-03 18:38:13,CNTK backend random functions have several problems,"There are several problems with the various ` random_ ` functions in the CNTK backend : 1 . ` random_normal_variable ` ignores the supplied mean 2 . ` random_normal ` ignores the supplied standard deviation 3 . ` random_normal ` , ` random_uniform ` , ` random_binomial ` , and ` truncated_normal ` repeatedly evaluate to the same value once created : r = K.concatenate ( [ K.random_binomial ( ( 5 , ) , 0.5 ) , K.random_normal ( ( 5 , ) ) , K.random_uniform ( ( 5 , ) ) , K.truncated_normal ( ( 5 , ) ) ] ) v1 = K.eval ( r ) v2 = K.eval ( r ) // surprisingly , v1 = v2",10594.0
398,2018-07-04 16:10:25,2018-07-03 16:10:05,Add pr template,"This is a minimal PR template that will help us go through PR faster . When a user creates a PR , this template will be shown . What do you think ?",10590.0
399,2018-07-01 18:08:38,2018-06-27 20:00:40,Minor improvement documentation,Added : To the documentation test . ( Most of them were good ! : tada : ),10552.0
400,2018-07-07 14:33:26,2018-06-27 15:50:04,Update regularizers.md,` keras.regularizers.l1_l2 ( ) ` takes two arguments . The doc was misleading .,10549.0
401,2018-06-30 17:05:42,2018-06-25 07:14:34,Add saving tests,This PR add saving tests for weights mismatch cases . This PR will make CI cover the following : | | [ Before ] ( https : //travis-ci.org/keras-team/keras/builds/396224893 ) | | : - : | -- -| | Python 2.7 + TF | 90.73 % | | Python 3.6 + TF | 90.63 % | | Python 2.7 + TH | 88.24 % | | Python 3.6 + TH | 88.19 % | | Python 2.7 + C | 88.08 % | | Python 3.6 + C | 88.03 % |,10523.0
402,2018-07-06 07:36:45,2018-06-19 14:21:36,Reuse validation enqueuer,Fixes https : //github.com/keras-team/keras/issues/10474 Attempt at reusing the validation enqueuer ( I thought we were already doing that ) . Not sure how to test this . Suggestion welcome .,10476.0
403,2018-06-19 01:43:25,2018-06-19 01:13:25,Fix several typos,"Just fixing several typos , the first three of which are visible in the keras.io documentation .",10468.0
404,2018-06-20 17:54:48,2018-06-18 07:18:16,autogen helper for classes and functions ( remove code duplication ),"I am trying to save a model with the model.save ( ) but I am getting the following error : > < ipython-input-72-2da0ffaf5447 > in < module > ( ) > -- -- > 1 train ( ) > > < ipython-input-71-07b1091d03bc > in train ( ) > 68 if models_h5_save : > 69 for model_name in models : > -- - > 70 model_h5_file= save_model ( model=models [ model_name ] , file_name=model_name , dir=models_h5_dir ) > 71 if save2local : > 72 send2local ( file_dir=model_h5_file ) > > < ipython-input-58-9097a38c6b21 > in save_model ( model , file_name , dir ) > 8 > 9 if not file_name : raise AssertionError ( ) > -- - > 10 model.save ( dir+file_name+ '' .h5 '' ) > 11 return dir+file_name+ '' .h5 '' > > /usr/local/lib/python3.6/dist-packages/keras/engine/topology.py in save ( self , filepath , overwrite , include_optimizer ) > 2589 `` '' '' > 2590 from .. models import save_model > - > 2591 save_model ( self , filepath , overwrite , include_optimizer ) > 2592 > 2593 def save_weights ( self , filepath , overwrite=True ) : > > /usr/local/lib/python3.6/dist-packages/keras/models.py in save_model ( model , filepath , overwrite , include_optimizer ) > 125 'class_name ' : model.__class__.__name__ , > 126 'config ' : model.get_config ( ) > -- > 127 } , default=get_json_type ) .encode ( 'utf8 ' ) > 128 > 129 model_weights_group = f.create_group ( 'model_weights ' ) > > /usr/lib/python3.6/json/__init__.py in dumps ( obj , skipkeys , ensure_ascii , check_circular , allow_nan , cls , indent , separators , default , sort_keys , * * kw ) > 236 check_circular=check_circular , allow_nan=allow_nan , indent=indent , > 237 separators=separators , default=default , sort_keys=sort_keys , > -- > 238 * * kw ) .encode ( obj ) > 239 > 240 > > /usr/lib/python3.6/json/encoder.py in encode ( self , o ) > 197 # exceptions are n't as detailed . The list call should be roughly > 198 # equivalent to the PySequence_Fast that `` .join ( ) would do . > -- > 199 chunks = self.iterencode ( o , _one_shot=True ) > 200 if not isinstance ( chunks , ( list , tuple ) ) : > 201 chunks = list ( chunks ) > > /usr/lib/python3.6/json/encoder.py in iterencode ( self , o , _one_shot ) > 255 self.key_separator , self.item_separator , self.sort_keys , > 256 self.skipkeys , _one_shot ) > -- > 257 return _iterencode ( o , 0 ) > 258 > 259 def _make_iterencode ( markers , _default , _encoder , _indent , _floatstr , > > /usr/local/lib/python3.6/dist-packages/keras/models.py in get_json_type ( obj ) > 102 return obj.__name__ > 103 > -- > 104 raise TypeError ( 'Not JSON Serializable : ' , obj ) > 105 > 106 from . import __version__ as keras_version > > TypeError : ( 'Not JSON Serializable : ' , Dimension ( 14 ) ) how can I solve it ?",10462.0
405,2018-06-18 18:35:56,2018-06-18 02:29:02,Fix docstring of layer.Embedding to properly render arguments,"The individual arguments in the * * Embedding * * | * * Arguments * * section of https : //keras.io/layers/embeddings/ are not rendered as a list . This appears to be due to formatting within the docstring , which is adjusted in this PR . Prior to this change : ! [ image ] ( https : //user-images.githubusercontent.com/634688/41515390-bcdb10b0-727c-11e8-9551-24314945de6d.png )",10461.0
406,2018-06-19 22:47:17,2018-06-17 11:04:25,keras.backend.function ( ) broken in 2.2.0 for string inputs with TF backend,"The following code works on Keras 2.1.6 using TensorFlow 1.9.0-rc0 , but it fails when upgrading to Keras 2.2.0 : This issue may be related to # 10372 .",10459.0
407,2018-06-15 20:52:15,2018-06-15 05:02:01,Fix use_bias in some convolutional layers,"replace condition ` if self.bias ` with ` if self.use_bias ` in DepthConv2D , Conv2DTranspose , Conv3DTranspose , SeparableConv . self.bias is tensor and using that as bool will result in an error",10444.0
408,2018-06-14 18:19:46,2018-06-14 01:56:19,corrected batch norm implementation in cntk and documentation in tensorflow,"I corrected the documentation in tensorflow backend and the implementation in cntk backend , as to how the epsilon is used . This relates to this question : https : //stackoverflow.com/questions/50830891/recreating-keras-model-in-numpy Basically BN was used as ( x-mean ) / ( sqrt ( var ) + eps ) whereas it should have been used as ( x-mean ) /sqrt ( var + eps ) . Also this line seems to confirm that its used the way I have described above : https : //github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/python/ops/nn_impl.py # L830",10427.0
409,2018-06-13 18:39:48,2018-06-13 14:28:10,Update faq.md,Changed `` Notes that the methods .... '' to `` Note that the methods '',10422.0
410,2018-06-13 18:43:43,2018-06-13 11:33:40,Update a CNTK version on Travis,"Hello , I experienced the _ * * ValueError : Initializer for variable ... inside a control-flow construct ... * * _ more than once . Mostly , it is after resolving an issue when a fixed function name is accidentally used as a variable . * * The solution * * ( in my cases ) was to restart the kernel . Maybe you could add that as a hint to that error message . It took quite some time to find that solution . Thank you for all your work ! - [ x ] Check that you are up-to-date with the master branch of Keras . You can update with : pip install git+git : //github.com/keras-team/keras.git -- upgrade -- no-deps - [ x ] If running on TensorFlow , check that you are up-to-date with the latest version . The installation instructions can be found [ here ] ( https : //www.tensorflow.org/get_started/os_setup ) . - [ ] If running on Theano , check that you are up-to-date with the master branch of Theano . You can update with : pip install git+git : //github.com/Theano/Theano.git -- upgrade -- no-deps - [ ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue ( or just copy the script here if it is short ) . Not a specific script problem . More general .",10419.0
411,2018-06-13 20:44:23,2018-06-13 08:22:54,Add tests for inputs set dynamically,"This PR add tests for inputs set dynamically , which is a follow-up of # 10367 . This PR will make CI cover the following : | | [ Before ] ( https : //travis-ci.org/keras-team/keras/builds/391388966 ) | | : - : | -- -| | Python 2.7 + TF | 90.64 % | | Python 3.6 + TF | 90.54 % | | Python 2.7 + TH | 88.14 % | | Python 3.6 + TH | 88.09 % | | Python 2.7 + C | 87.97 % | | Python 3.6 + C | 87.93 % |",10416.0
412,2018-06-13 18:39:13,2018-06-13 07:26:51,Move ` get_source_inputs `,This PR replicates ` get_source_inputs ` from ` keras/engine ` to ` keras/utils ` . The integration tests of ` keras-applications ` will be covered by this PR ( refer to the keras-team/keras-applications # 9 ) .,10415.0
413,2018-06-13 18:36:51,2018-06-12 14:11:21,"[ docs ] more details for adagrad/delta , clarifying usage of rho","@ fchollet I 've added a bit more info on adaptive optimizers . If I remember correctly , ` lr ` and ` decay ` do not appear in the original Adadelta paper . One could argue that one benefit of Adadelta over Adagrad is that you _don't_ have to set ` lr ` . It 's set to ` lr=1 ` by default anyway . Shall we remove those parameters altogether ? I can do a follow-up PR .",10410.0
414,2018-06-12 17:57:39,2018-06-10 08:01:15,Add missing named arguments in ImageDataGenerator in examples,Usage of ` ImageDataGenerator ` in the example codes was not up to date with the latest version . This PR adds missing named arguments of ` ImageDataGenerator ` and pass them with their default values .,10389.0
415,2018-06-07 18:54:23,2018-06-07 14:11:22,Add spatial dropout and 3D global pooling to docs,"Maybe there 's a reason these layers were left out , but I think it does n't hurt to let the world know . I went through all layers , those two sets are the only ones that were missing .",10373.0
416,2018-06-06 18:51:38,2018-06-06 12:53:56,Add tests for inputs set dynamically,This PR adds tests for inputs set dynamically in order to make CI cover the following :,10367.0
417,2018-06-06 18:52:26,2018-06-05 12:59:48,CuDNN RNN layers nested in TimeDistributed are not converted when loading,"Fixes issue # 10356 . - [ x ] additional unit test with converting weights between GRU and CuDNN GRU/LSTM ( directions from/to ) - it 's separate from other due to different input shape and not to expand current number of combinations by factor of 2 - [ x ] at least function ` convert_model ( ) ` in tests has been extracted to lower duplication - [ x ] main fix : traversing to TimeDistributed ( trivial case , simpler than for Bidirectional ) PEP8 is OK , tests failed before fix , now pass .",10357.0
418,2018-06-04 17:07:24,2018-06-03 07:10:30,Reduce tests for applications,This PR reduces tests for applications and is a follow-up of # 10341 .,10346.0
419,2018-06-02 17:22:10,2018-06-02 10:32:50,Improve the docstring of Conv3DTranspose,* Add depth as the third dimension in docstring of Conv3DTranspose in convolutional.py in keras.layers,10342.0
420,2018-06-02 06:53:49,2018-06-01 23:02:32,Split ` applications ` and ` preprocessing ` modules .,"The contents of ` applications ` and ` preprocessing ` are now imported from ` keras_applications==1.0.1 ` and ` keras_preprocessing==1.0.1 ` respectively . Tests for these modules are left in place for this PR , but will be removed in the future once things have proven to run smoothly .",10339.0
421,2018-06-05 18:10:44,2018-05-31 16:07:08,Fix HDF5Matrix issue when working in conjunction with TimeSeriesGenerator,The TimeSeriesGenerator uses xrange through six which caused an IndexError when using HDF5Matrix .,10334.0
422,2018-05-31 19:45:27,2018-05-31 06:00:15,Fix doc,Fixed doc,10327.0
423,2018-06-04 17:26:42,2018-05-30 18:52:55,Add an advanced activation layer for ReLU,"The ReLU ` max_value ` argument can not be used currently in a layer , except a custom layer or inside a Lambda layer . Hence , similarly to LeakyReLU or for example [ Softmax ] ( https : //github.com/keras-team/keras/pull/8841 ) this PR adds an advanced activation layer for ReLU-N , implementing a capped ReLU . The default value for ` max_value ` is set to ` None ` meaning normal ReLU . A typical value 6.0 is included in the tests .",10322.0
424,2018-05-30 04:49:45,2018-05-29 10:38:47,Add pooling options in MobileNetV2,This PR adds pooling options for MobileNetV2,10313.0
425,2018-05-29 16:43:38,2018-05-29 07:04:19,Improve docstrings of applications,"This PR improves docstrings of applications as follows : - Corrections in order to include supports of CNTK in ` docs/templates/applications.md ` , - Deletions of the phrase `` Theano and TensorFlow '' and `` TensorFlow , Theano , and CNTK '' in individual application files ( because an application is natural to support all backends ) , - Deletions of the description of the default input image size in individual application files ( because they are redundant with the right below explanation of ` input_shape ` , - Consistency improvements over all the models .",10310.0
426,2018-05-25 21:19:39,2018-05-24 15:01:44,Adds to and alphabetizes documentation of Layer base class .,When keras ruby ?,10282.0
427,2018-05-23 18:54:37,2018-05-23 17:29:34,Remove deprecated property model.model from saving,"Description : Following the PR request ( https : //github.com/keras-team/keras/pull/10256 ) I raised form my work github , I thought it would be useful to cleanup the last occurrence of the deprecated `` model.model `` in the code base . See : `` grep -rnw . -e `` model.model '' `` `` ./examples/cifar10_resnet.py:342 : # Prepare model model saving directory . ./keras/engine/saving.py:296 : model.model._make_train_function ( ) ``",10275.0
428,2018-05-24 20:54:20,2018-05-22 21:06:42,load_weights will fail if shape mismatch,"Fix for # 10265 Ran keras tests , same results as origin/master : ` 31 failed , 549 passed , 98 skipped , 162 warnings , 2 error `",10266.0
429,2018-05-22 19:18:47,2018-05-22 07:41:32,Increase test coverages by factorizing CNTK pads,This PR increases test coverages by factorizing CNTK pads for [ the current ] ( https : //travis-ci.org/keras-team/keras/jobs/381949156 ) following missing lines :,10259.0
430,2018-06-01 23:13:24,2018-05-19 11:59:12,Handle ` mask ` in ` TimeDistributed ` wrapper .,"This PR aims to add proper support of ` mask ` in ` TimeDistributed ` wrapper layer . Several previous PRs have raised questions about this or have attempted to solve it , but I did n't find any perfect solution so far . I may not be able to have a perfect one either but am willing to improve it . The most frequent usage of such layers with masking support might be a hierarchical RNN on a sentence with words with characters , or a paragraph with sentences with words . ( E.g. , models like [ this ] ( https : //github.com/keras-team/keras/blob/master/examples/mnist_hierarchical_rnn.py ) ) . Here are the main ideas/purposes of this pr : 1 ) For layers like ` TimeDistributed ( Embedding ( ... , mask_zero=True ) ) ` or ` TimeDistributed ( Masking ( ... ) ) ` , the layer should call ` compute_mask ( ) ` at each time step and stack them . 2 ) For layers like ` TimeDistributed ( LSTM ( ... ) ) ` , the ` input_mask ` should be split and fed into the ` LSTM ` layer at each time step . And if the ` output_shape ` changes ( e.g. , ` return_sequences=False ` in ` LSTM ` ) , the ` output_mask ` of the ` TimeDistributed ` layer should also change correspondingly . 3 ) The ` TimeDistributed ` layer should support , e.g. , ` input_shape= ( None , None ) ` . For example , the number of words in a sentence and the number of characters in a word can be different from sample to sample . Currently the ` TimeDistributed ` can only support one unspecified input dimension . Here are some details of this PR to discuss , which might have better solutions : 1 ) ` K.int_shape ( ) ` may not be available for some ` mask ` with ` Theano ` backend , especially when the inner layer is ` Embedding ` or ` Masking ` . This is because ` _keras_shape ` is not set in lots of operations in ` theano_backend ` if the tensor shape is not changed . I manually create the ` _keras_shape ` in ` compute_mask ` of these two layers . 2 ) When ` input_shape [ 0 ] is not None ` in ` TimeDistributed ` layer , we need to use ` K.rnn ( ) ` to dynamically call the inner layer . Because ` K.rnn ( ) ` can only take 1 tensor input but we need to feed both ` input ` and ` mask ` , I did n't do anything in this situation . Probably we can pass all ` mask ` as constants to ` K.rnn ( ) ` but I was expecting better solutions . 3 ) If there 's ` None ` from the output of ` K.int_shape ` , we need to replace it by the output from ` K.shape ` , so that ` reshape ` can be correctly called .",10242.0
431,2018-05-21 18:11:44,2018-05-19 09:13:02,Increase test coverages by adding invalid CNTK usecases,This PR adds invalid CNTK tests for [ the current ] ( https : //travis-ci.org/keras-team/keras/jobs/380788236 ) following missing lines :,10236.0
432,2018-05-18 16:59:17,2018-05-18 02:16:47,In-place split to avoid inter-device duplication,"* * New Benchmark by in-place split ( 5 % ~ 12 % faster , and Reduce 400 % data copy in total from host memory to GPU memory for batch inputs using 4 GPU ) : * * > Benchmark : keras.application.Resnet50 ( NCHW ; NVidia Tesla P100 x 4 ) input_shape = 3x224x224 , batch_size = 96 x 4 : from 392 ( images/sec ) = > 417 ( images/sec ) input_shape = 3x299x299 , batch_size = 64 x 4 : from 229 ( images/sec ) = > 244 ( images/sec ) input_shape = 3x224x224 , batch_size = 8 x 4 : from 148 ( images/sec ) = > 163 ( images/sec ) > Benchmark : keras.application.InceptionV3 ( NCHW ; NVidia Tesla P100 x 4 ) input_shape = 3x224x224 , batch_size = 128 x 4 : from 488 ( images/sec ) = > 526 ( images/sec ) input_shape = 3x299x299 , batch_size = 96 x 4 : from 270 ( images/sec ) = > 294 ( images/sec ) input_shape = 3x224x224 , batch_size = 8 x 4 : from 146 ( images/sec ) = > 158 ( images/sec ) Signed-off-by : CUI Wei < ghostplant @ qq.com >",10230.0
433,2018-05-24 17:50:22,2018-05-16 11:51:43,Fixes automatic doc generation problem with nested lists . Adds a new test,This PR : - Should fix a problem introduced with 8532744ad3de309e807ade1b9b6eff9603305b1a ( sorry for that ) : it was restricted to Arguments and Returns sections only . This new version handles all sections automatically ( see image below ) ! [ temp ] ( https : //user-images.githubusercontent.com/4191058/40115050-7ae70f00-590f-11e8-9bc9-e835ab53ffee.png ) - Adds a test for the doc auto-generation . Probably some refactoring would be needed ( maybe the doc strings could be stored in single files for clarity ) but I think having some tests here could help saving time in the near features . Obviously other tests should be added . - Changes the ` autogen.py ` file in order to make it importable during testing,10212.0
434,2018-05-18 02:06:40,2018-05-16 08:00:51,Fix NASNet,"This PR fixes NASNet discussed in # 10172 and # 9586 . @ fchollet , @ titu1994 , Please note that : - The ` reduction_1_ ` in ` _reduction_a_cell ` was wrong , which results in incorrect weight files . @ titu1994 must provide new weight files by using this PR and @ fchollet must upload them again . - The ` skip_reduction ` must be ` True ` for ` NASNetLarge ` . - The layers ` stem_conv1 ` , ` stem_1 ` , and ` stem_2 ` must always be included for ImageNet models .",10209.0
435,2018-05-25 21:20:57,2018-05-16 03:22:40,Non training Batch Norm operator has bad performance for it running into tensorflow 's non fused batch norm API,"In current Keras code with Tensorflow as it ’ s backend , the non-training batch norm operator/layer will finally run into Tensorflow ’ s old non-fused batch norm API ( tf.nn.batch_normalization ) , which result in bad performance in both CPU and GPU . http : //github.com/keras-team/keras/issues/10058 Test result : test env : with Tensorflow ( commit a543d9471047ca3f6881c87105fcbe2cdff9207d Date : Thu May 10 17:43:30 2018 , local build ) , python3.4 , centos7.4 test cases : `` pytest ./tests/keras/layers/normalization_test.py '' < all passed > `` pytest ./tests '' < keep same result as without this PR 's modification >",10207.0
436,2018-05-15 18:09:10,2018-05-14 13:16:57,Adds height_shift_range to preprocessing.image doc and adds support for indentation in auto-generated doc,This should : 1 . Fix the small `` * problem * '' introduced in 3b444513b52cf05e7d40f2ffdb7ab7283bb2ce06 ( the height_shift_range completely disappeared from the doc ) 2 . Almost completely solve the problem with indentation in auto-generated doc . I noticed that many times the doc written in the code uses sublists that are not rendered properly ( see images below for a before and after comparison ) ! [ one ] ( https : //user-images.githubusercontent.com/4191058/39999363-3bdf88a0-5789-11e8-9c8b-d9c1dc07244f.png ) ! [ three ] ( https : //user-images.githubusercontent.com/4191058/39999364-3bfef410-5789-11e8-9afd-5e617daacf67.png ) ! [ two ] ( https : //user-images.githubusercontent.com/4191058/39999365-3c1e7df8-5789-11e8-98b5-980a83a3b8da.png ),10194.0
437,2018-05-14 18:24:52,2018-05-14 08:58:23,Best to set self.built=True at the end of build ( ),"When using Keras on TensorFlow ( in graph mode ) , via ` tf.keras ` , then calling ` self.add_weight ( ) ` fails if ` self.built==True ` , so it is best to encourage users to set ` self.built=True ` at the * end * of their ` build ( ) ` method , rather than just `` somewhere '' .",10191.0
438,2018-05-14 19:30:54,2018-05-14 08:27:57,Clean up preprocessing of ` depthwise_kernel ` for Theano,"This PR cleans up preprocessing of ` depthwise_kernel ` for Theano . - As-is : Two ` dimshuffle ` 's are redundantly performed , which may result in performance degradation . - To-be : The two are integrated into a single ` dimshuffle ` with refactoring .",10189.0
439,2018-05-17 16:56:41,2018-05-14 06:00:02,Replace np.ceil ( ) with a faster operation,"Replacing np.ceil ( ) with a faster operation , as suggested in # 8488",10184.0
440,2018-05-15 17:08:55,2018-05-14 04:32:32,Allow project specific config files in Keras,"This * * minor * * change would make it possible to point to a custom location of the ` keras.json ` config file by changing the dedicated ` KERAS_HOME ` env variable or launching your application like : This is necessary to maintain keras config on a per-project basis , e.g . one project prefers the theano backend , and another project prefers the tensorflow backend in certain deployment environments .",10183.0
441,2018-05-15 18:26:11,2018-05-11 13:52:53,Mobilenetv2 explanation,I copy this from source file .,10174.0
442,2018-05-14 23:52:41,2018-05-11 13:48:19,fix TensorBoard callback with unit test,"There 's a bug with ` TensorBoard ` with ` histogram_freq > 0 ` and a layer which produces a list of output tensors with different ranks ( e.g. , an rnn layer with ` return_sequences=True ` and ` return_states=True ` ) . In this situation , the callback attempts to get the mean on the ` output ` without validating whether it is a tensor or not , which will lead to an error . This pr aims to solve this problem by taking the mean of each output separately . BTW , here 's another issue which I did n't solve in this pr but want to discuss . Currently ` TensorBoard ` can not get the output histograms from layers with multiple outputs : It does n't check the ` get_output_at ` of those layers in that case , and the 'output ' does not exist in those layers . Because the same layer can be reused in different models and then not all the outputs of that layer belong to the current model . Is there any efficient way to know if the output at node ` i ` is part of one model or not ?",10173.0
443,2018-05-11 09:04:01,2018-05-10 18:40:59,Merge 2 functions together in applications MobileNetV2,_inverted_res_block ( ) and _first_inverted_res_block ( ) are nearly the same . Merged them into one function 1. skip `` Expand '' part for 0 block 2. made layers names similar to original TF graph names,10163.0
444,2018-05-10 16:47:00,2018-05-10 10:14:23,Avoid a warning in optimizer by using ' x = x * y ' instead of ' x * = y ',"I used SGD optimizer , and I encounted following warning . > [ tensorflow ] [ WARNING ] : Variable * = will be deprecated . Use variable.assign_mul if you want assignment to the variable value or ' x = x * y ' if you want a new python Tensor object . I found a way to avoid this warning for SGD and other optimizers . The way is diff of this pull-request . Thank you .",10158.0
445,2018-05-10 16:49:03,2018-05-09 18:08:21,Fix undefined behaviour : preprocess_input copying/not copying the input arrays,"Before , ` preprocess_input ` would sometimes write over images it processed . Inadvertently , my commit ( https : //github.com/keras-team/keras/commit/84e168b5fa55933e02e767ff7c86fcc0232aecc6 ) from two days ago changed this so that instead of the previous behaviour , preprocess_input would always make a new copy of the input images to work with . This seems , to me , more intuitive behaviour . This PR gives the user explicit control over the behaviour by introducing ` copy ` keyword argument to the relevant functions . This way , the earlier behaviour can be regained if the user so wishes . Also , it fixes my earlier commit so that the dtype of the input array is not changed unless necessary ( i.e . when inputting other than float arrays ) .",10153.0
446,2018-05-09 18:06:08,2018-05-09 07:30:40,Add exceptions for ` fit_loop `,"In the method ` model.fit ( ) ` , if validation data ( ` validation_data ` or ` validation_split ` ) and ` steps_per_epoch ` are specified without ` validation_steps ` , it runs into an error . This is because ` fit_loop ` runs ` test_loop ` with ` batch_size=None ` ( due to ` batch_size ` and ` steps_per_epoch ` being mutually exclusive ) , which in turn tries to make batches for validation with ` batch_size=None ` , and causes an error . Below is a simple test case that shows the problem . This PR adds an exception for the case described above .",10145.0
447,2018-05-07 15:07:49,2018-05-07 11:45:29,Fix preprocess_input not working with int arrays,"` preprocess_input ( ) ` throws an exception if used with NumPy arrays containing ` int ` s ( which , to me , seems like a completely reasonable thing to do when processing images ) . This is a simple one line contribution that fixes the problem . I also added some tests that illustrate the problem .",10134.0
448,2018-05-07 18:00:10,2018-05-07 07:03:47,Make MobileNet tests random,This PR make MobileNet tests random to reduce CI build time .,10132.0
449,2018-05-22 21:03:52,2018-05-06 18:53:26,Refactor ImageDataGenerator,"This PR refactorizes ImageDataGenerator so that the random parameters of a transformation are generated separately from applying the transformation . The generation of the parameters happens in ` get_random_transform ( ) ` function which outputs a dictionary of transformation parameters randomly chosen . The transform can then be applied in a new ` apply_transform ( ) ` function . My aim is to eventually enable more generalized usage for ImageDataGenerator ; for example , transformation of segmentation coordinates in an image segmentation problem along with the image itself . Since this is going to be quite a big upgrade , I 'm doing it in smaller steps at a time to be sure not to break anything too horribly . This refactorization is the first step . Some design choices I have made here : * Representing a transformation as a dictionary of transformation parameters and values corresponding to each of them . Other choice would be just a list or tuple of the values , but I think this way is more generalizable in the future if we want e.g . custom transformation functions ( for image segmentation coordinates ) * Keeping all the old functions ( ` random_transform ( ) ` for instance ) even though they are not strictly needed . This is not to break any existing functionality anywhere else . Now the old functions just call the new functions . To elaborate on my future vision on the ImageDataGenerator : my plan is that eventually it would be able to process a list of inputs and a list of outputs , some of which might be images and some which might be something else . It would also take , as a constructor parameter , a list of transformations that need to applied to each of the inputs and outputs . The manner in which a given transformation acts on a given type of input is specified by giving separate set of transformation functions for each input/output . Some of them can be in-build ( e.g . what we have now ) or user defined . Please comment on my plans now so that I do n't waste my time if these changes are not desired or someone else is already working on a completely different plan .",10130.0
450,2018-05-06 19:11:46,2018-05-05 05:32:55,Add ` separable_conv1d `,This PR adds the missing ` separable_conv1d ` for Theano and CNTK .,10125.0
451,2018-05-14 22:51:21,2018-05-03 18:46:41,Allow dynamic backends in _need_convert_kernel,Allow dynamic backends to work in ` _need_convert_kernel ` by defining ` K.uses_correlation ( ) ` . Also do n't assume that dynamic backends wo n't support separable convolutions .,10111.0
452,2018-05-07 18:02:04,2018-05-02 11:56:04,Sample weighted ImageDataGenerator,"Adding a sample weight argument to the ImageDataGenerator class , according to this [ API design review ] ( https : //github.com/keras-team/keras/issues/10036 ) . This allows for a seamless integration of ImageDataGenerator with model.fit_generator , without the need of passthrough arguments . Also added a test case .",10092.0
453,2018-05-03 17:56:13,2018-05-01 23:52:32,[ RELNOTES ] Allow symbolic tensors to be fed to models ( with TF backend ),"Enables the API ( with TF backend , TF > =1.8 ) : * * Caveat * * : inputs tensors must have a static batch size . This limitation does not exist in ` tf.keras ` . Lifting this limitation in multi-backend Keras is doable but fairly involved . First we need all backends to implement ` placeholder_with_default ` . That part is relatively straightforward ( by using regular placeholders and feeding the default if a value is not provided , at the level of ` K.function ` ) , but will take a bit of work . Then we need to switch the sample weight placeholders to be placeholders with default values of 1 . CC @ TimZaman @ ahundt",10087.0
454,2018-06-05 12:11:10,2018-05-01 09:23:25,CuDNN RNN layers nested in Model are not converted when loading,Analogous to CuDNN RNN nested in Bidirectional : # 8908 In addition same bug as in : Convert h5py Dataset to np.array before preprocess_weights_for_loading ( # 9662 ) I 've already wrote a fix and I 'll post a detailed description soon .,10080.0
455,2018-05-01 17:14:39,2018-04-30 23:35:41,[ RELNOTES ] Simplify implementation of Sequential and remove legacy Merge support,"Please make sure that the boxes below are checked before you submit your issue . If your issue is an implementation question , please ask your question on [ StackOverflow ] ( http : //stackoverflow.com/questions/tagged/keras ) or [ join the Keras Slack channel ] ( https : //keras-slack-autojoin.herokuapp.com/ ) and ask there instead of filing a GitHub issue . Thank you ! - [ x ] Check that you are up-to-date with the master branch of Keras . You can update with : pip install git+git : //github.com/keras-team/keras.git -- upgrade -- no-deps - [ x ] If running on TensorFlow , check that you are up-to-date with the latest version . The installation instructions can be found [ here ] ( https : //www.tensorflow.org/get_started/os_setup ) . - [ ] If running on Theano , check that you are up-to-date with the master branch of Theano . You can update with : pip install git+git : //github.com/Theano/Theano.git -- upgrade -- no-deps - [ ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue ( or just copy the script here if it is short ) . Hi , We are running keras within Tensorflow ( tf.keras ) and with MPI , so there are multiple workers . We found that there is a race to create the datadir in get_file in Keras . Sometimes we get a hang on creating the directory if another process got there first . The patch below catches an EEXIST error if another process got there first : It may look like redundant checking , but when multiple processes are running it is important to catch this . I can create a PR if you think this is worth accepting . Thanks !",10077.0
456,2018-05-01 17:18:26,2018-04-29 12:51:11,Add documentation to several activation functions,"Some of the activation function documentation was either missing or not very informative . This commit improves it a bit . Some of the activations I still left to minimal documentation because they are self-explanatory ( like tanh activation ) . None of the actual code was changed , only documentation .",10066.0
457,2018-05-10 20:38:02,2018-04-29 01:00:17,vae examples fixes,"This PR fixes the ff : - Modular encoder , decoder and VAE resulting to a more concise and easy to follow implementation - Option to use MSE ( if image Gaussian distribution ) or Binary Cross Entropy ( if pixel-level Bernoulli distribution ) for the reconstruction loss - Plots for viz latent code vs label and latent code vs generated digit have the same scale for easier understanding of the relation between the 2 plots - MLP implementation hyperparam is closer to the original paper of Kingma - CNN conv and deconv implementation parameters reduced from 3.4M to just 134k",10062.0
458,2018-05-03 06:27:44,2018-04-28 23:39:56,New Callback : EarlyBaselineStopping,Google Doc : https : //docs.google.com/document/d/1FvMlmW9diNaKJ988njcXEqb862kZUpGmLWzEvla3_FA/edit ? usp=sharing,10061.0
459,2018-05-03 08:41:39,2018-04-27 02:02:07,MobileNetV2 keras implementation for imagenet weights for Tensorflow backend .,"This file enables access to the 23 trained MobileNetV2 models found [ here ] ( https : //github.com/tensorflow/models/tree/master/research/slim/nets/mobilenet ) . The design and architecture for MobileNetV2 is explained in this [ paper ] ( https : //arxiv.org/abs/1801.04381 ) For a complete view of the weight extraction . loading , and testing process please see this [ repository ] ( https : //github.com/JonathanCMitchell/mobilenet_v2_keras ) Link to google doc explaining changes : https : //docs.google.com/document/d/1-sRVeWiUMNmM8uZSfX-V0dZu9D_580OOQaTKdoqcJHM/edit ? usp=sharing Please let me know if there is something you would like me to add/ change/ etc .",10047.0
460,2018-04-27 01:10:09,2018-04-26 22:49:17,Enable Model subclassing API,Define models like :,10046.0
461,2018-05-04 20:49:12,2018-04-25 14:15:50,Fix shape mismatch in ` rnn ( ) ` of tensorflow_backend,"Fix the shape mismatch in ` rnn ( ) ` with ` not unroll ` and ` mask is not None ` of the Tensorflow backend . Problem : If the rnn cell has any ( recurrent ) ` states [ i ] ` whose shape is different from that of the ` output ` ( ` states [ 0 ] ` ) , there will raise an ` ValueError ` when updating that state . Reason : This is because the ` tiled_mask_t ` is not updated correctly for each ` states [ i ] ` but instead is simply copied from that of the ` output ` ( ` states [ 0 ] ` ) . Solution : Tile the ` mask_t ` with the correct shape of each ` states [ i ] ` . Notice that in a similar situation with ` unroll is True ` , the ` tiled_mask_t ` is handled correctly .",10038.0
462,2018-04-26 16:13:59,2018-04-25 09:25:24,Add support for passthrough arguments to NumpyArrayIterator,"There have been some requests for more flexible behaviour for the ImageGenerator ( see for example issue # 9877 ) . This pull request takes a step towards that direction ( although it does n't yet solve the problem in the issue I linked ) . I add a support for multiple input arguments in NumpyArrayIterator ( and thus , the flow ( ) function ) . It now accepts following syntax : ` flow ( ( image_data , [ other_data1 , other_data2 ] ) , ... ) ` . The image_data part gets processed as before and the optional other_data arguments get passed through along with the image data without manipulations . This makes it possible to use flow ( ) to feed a model multiple miscellaneous data arguments while still using the Keras image augmentations for the image data . No old behaviour gets modified . All the modified functions can still be used as before by just leaving the additional arguments out .",10035.0
463,2018-05-01 17:57:25,2018-04-25 08:50:12,Allow loading external backends,This allows third parties to run keras on their backends without having to add it to keras core / mokey patch / maintain a separate fork .,10034.0
464,2018-04-25 17:09:12,2018-04-25 04:27:24,Fix ` int_shape ` of Theano and Refactor associated lines,"This PR is a follow-up to # 10003 ( specifically [ this discussion ] ( https : //github.com/keras-team/keras/pull/10003 # discussion_r183267363 ) ) . Current usages of ` hasattr ( kernel , '_keras_shape ' ) ` can be replaced by ` int_shape ` .",10030.0
465,2018-04-25 04:06:54,2018-04-24 22:07:58,Refactor training part of ` engine ` module .,"This is a follow-up to # 10023 , which splits ` training.py ` into the following files : - ` training.py ` now contains core logic ( down to ~1300 lines , including lots of docstrings ) - ` training_arrays.py ` contains the abstract loops that fit/test/predict on Numpy/HDF5 arrays - ` training_generator.py ` contains generator-related routines - ` training_utils.py ` contains shared utilities Apart from ` training.py ` , which has roughly halved , all new files are ~500 lines long .",10029.0
466,2018-04-26 04:36:24,2018-04-24 05:52:44,Enable Xception to work on Theano and CNTK,"This PR enables Xception to work on Theano and CNTK . As ` separable_conv2d ` of Theano is added by # 10003 , users are now able to use Xception on all the backends .",10024.0
467,2018-04-24 19:34:59,2018-04-24 04:40:15,Refactor topological part of ` engine ` module,"The Keras engine started out as two files , ` topology.py ` and ` training.py ` . Over the years , both have grown unwieldy and both should be split . This PR takes care of splitting ` topology.py ` into the following files : - ` input_layer.py ` - > ` Input ` , ` InputLayer ` - ` base_layer.py ` - > ` Layer ` , ` Node ` , ` InputSpec ` - ` network.py ` - > ` Network ` ( formerly ` Container ` ) - ` saving.py ` - > all saving-related logic - ` sequential.py ` - > ` Sequential ` ` models.py ` is also refactored to only contain model-related utilities ( plus imports of all model-related functionality , defined in the engine ) . This organization also mirrors the ` tf.keras ` new file organization ( I started doing this refactoring over there ) .",10023.0
468,2018-04-25 18:33:29,2018-04-24 02:35:44,Add exceptions for ` batch_dot `,This PR adds exceptions for ` batch_dot ` described in # 9872 . It is meaningless to perform ` batch_dot ` on n-dimensional tensors ( ` n > =3 ` ) .,10020.0
469,2018-04-23 19:43:49,2018-04-23 19:09:16,Fixing typos,- Used https : //github.com/client9/misspell to identify and fix typos throughout the repo - Thanks for all the hard work !,10016.0
470,2018-04-24 20:36:26,2018-04-23 10:49:31,Fix Bidirectional Regularization,This PR fixes the issue raised in # 7514 .,10012.0
471,2018-04-23 02:47:37,2018-04-22 15:31:54,Update docstring in imagenet_utils.py,I noticed that the `` torch '' preprocessing mode is missing from the docstring of the preprocess_input method even though the two methods ( _preprocess_numpy_input and _preprocess_symbolic_input ) that it uses to do the preprocessing have support for it .,10006.0
472,2018-04-24 04:57:58,2018-04-22 04:35:26,Add ` separable_conv2d ` for Theano,This PR adds ` separable_conv2d ` for Theano .,10003.0
473,2018-05-01 17:31:22,2018-04-20 16:04:50,Remove deprecated imsave method in neural style transfer example,"While attempting to run the neural style transfer example , the imsave method failed . According to https : //docs.scipy.org/doc/scipy/reference/generated/scipy.misc.imsave.html # scipy.misc.imsave ` scipy.misc.imsave ` is deprecated and ` imageio.imwrite ` should be used . After making this change the script runs successfully .",9996.0
474,2018-05-07 19:33:47,2018-04-17 18:24:18,Fix initializers,Alternative to # 9957 for solving issue # 8048,9963.0
475,2018-04-17 17:19:48,2018-04-16 20:33:58,Chenta/cntk bn,"This pr is to fix the issue found in pr # 9946 . The fix is not perfect , but should be able to work in current status . one thing : to reset learn_phase flag , I tried to follow the same trick as tensorflow that reset learn_phase in K.clear_session , although we do n't have a real session in cntk .",9952.0
476,2018-04-17 19:56:33,2018-04-16 01:35:44,Immigrate reference operations to a separate module,"This PR immigrates reference operations ( conv , pool , rnn ) to a separate module for modularity and readability .",9948.0
477,2018-04-16 01:41:39,2018-04-15 13:49:22,Make conv_invalid_use and pooling_invalid_use efficient,"This PR makes ` test_conv_invalid_use ` and ` test_pooling_invalid_use ` efficient . - As is : checking * * all the backends * * , thus CI checks all the backends ' results for each test environment redundantly . - To be : checking * * only a single backend * * , so the redundant tests will not perform .",9944.0
478,2018-04-14 18:53:06,2018-04-14 14:50:43,"Updated example , added to README",Updated Dataset API example for TF 1.7 and added it to the examples README file .,9937.0
479,2018-04-13 22:20:03,2018-04-12 11:19:59,Fix ` batch_dot ` of CNTK when ` axes=None `,This PR fixes the issue raised in # 9862 . Please see # 9872 .,9921.0
480,2018-04-13 22:19:37,2018-04-12 11:19:43,Fix ` batch_dot ` of Theano when ` axes=0 `,This PR fixes the issue raised in # 9862 . Please see # 9872 .,9920.0
481,2018-04-12 13:34:19,2018-04-11 19:49:31,ModelCheckpoint : print previous best,"Before : This way , when the output is scrolled out of the buffer , one can still see the current best model",9911.0
482,2018-04-11 20:57:40,2018-04-11 19:45:09,Fix documentation of flow_from_directory ( ),The way the documentation is parsed for the Keras website made some lines of the documentation beginning with `` Default : '' look funny . Also changed the documentation of return value to be clear that it always returns a batch of images .,9910.0
483,2018-04-11 20:55:15,2018-04-11 09:24:02,"import ` pydot ` , improve error messages about ` pydot ` and GraphViz , bump to ` pydot > = 1.2.4 `","Following up on # 7448 and # 6398 , bump to [ ` pydot > = 1.2.4 ` ] ( https : //pypi.org/project/pydot/ # history ) , and ` import pydot ` , as required in ` setup.py ` . ` pydot ` is maintained at : https : //github.com/erocarrera/pydot ( currently , I am a maintainer ) . Also , these changes improve the error messages , distinguishing between whether ` pydot ` is n't installed ( if so indicating how to install it ) , or GraphViz executables ( ` dot ` ) can not be found . See also : https : //github.com/erocarrera/pydot/pull/152 # 5313 https : //github.com/erocarrera/pydot/blob/master/pydot.py # L1862-L1869",9904.0
484,2018-04-11 20:52:02,2018-04-11 08:05:49,Fix dtype designation for ` variable ` of CNTK and Add its tests,"This PR fixes dtype designation for ` variable ` of CNTK . Without putting ` dtype ` into ` C.parameter ` , CNTK always creates a float32 tensor ( see [ official docs ] ( https : //docs.microsoft.com/en-us/python/api/cntk.variables.parameter ? view=cntk-py-2.5 ) ) . Additionally , the PR adds tests for ` dtype ` , which will cover the following missing lines ( ` _convert_dtype_string ` ) :",9903.0
485,2018-04-11 20:50:45,2018-04-11 07:40:44,Fix ` in_test_phase ` of CNTK and Add its tests,"This PR fixes ` in_test_phase ` of CNTK in accordance with Theano and TensorFlow backends . Additionally , the PR adds tests for ` in_train_phase ` and ` in_test_phase ` , which will cover the following missing lines :",9902.0
486,2018-04-14 19:13:24,2018-04-10 19:58:01,fix TimeseriesGenerator 's glitch mentioned in # 9778,"This PR fixes the ` TimeseriesGenerator ` 's glitch that was mentioned in # 9778 , where the last sample was n't being included in the generated series . It also adds a validation step in ` __init__ ` to prevent this non-informative error :",9899.0
487,2018-04-13 22:36:29,2018-04-10 11:21:12,Fix stateful metrics when passing dict to compile,"Stateful metrics does n't work when passing ` dict ` to ` model.compile ` . The metrics for validation are reported wrong . For example , it does n't work for : This PR fixes this problem .",9894.0
488,2018-04-11 05:21:52,2018-04-09 20:15:06,Removed generate dropout ones from recurrent .,This is something I noticed when doing the cell based convolution recurrent layer . The function ` _generate_dropout_ones ` is n't actually needed if we use ` K.ones_like ( ) ` . It makes the code simpler and more maintainable I think .,9892.0
489,2018-04-14 19:14:43,2018-04-09 20:02:52,Added an error message for undefined shape on NASNet .,Follow up from the # 9865 . This error message appears when doing things like :,9891.0
490,2018-04-08 01:16:18,2018-04-07 05:02:06,Fix image_ocr.py example ValueError,"Python 3.6.3 , Linux . Fix this error : Tested on 3.6.3 and 2.7.13",9869.0
491,2018-04-08 18:44:42,2018-04-06 17:53:42,Fixed the NASNet issue .,This fixes the bug reported in # 9812 . To reproduce the bug : Should I add a test to the PR or is it overkill ?,9865.0
492,2018-04-03 22:30:10,2018-04-03 04:38:41,Improve tests by designating dtype of sample data,"This PR improve tests by designating dtype of sample data . This PR can significantly reduce warning messages ( ` /home/taehoonlee/.conda/envs/taehoonlee/lib/python2.7/site-packages/cntk/core.py:361 : UserWarning : your data is of type `` float64 '' , but your input variable ( uid `` Input103 '' ) expects `` < type 'numpy.float32 ' > '' ` ) , and may bring slight speed improvements .",9834.0
493,2018-04-14 00:29:44,2018-04-02 19:51:00,Added note to manually install h5py where needed,"h5py is a latent dependency of Keras when saving to hdf5 . Unfortunately it is not actively tracked as dependency by Keras . From the discussion at # 9822 the result was that the best way to address this is to update the docs and make it clear that this dependency exists . This is to prevent situations where one assumes that using e.g . ` keras.callbacks.ModelCheckpoint ` will work and then trains an expensive model for an hour just to find it crashing due to such an unforeseeable , yet preventable problem .",9830.0
494,2018-04-03 00:41:49,2018-04-01 16:23:42,Add documentation for 'subset ' and interpolation ' arguments ( ImageDataGenerator ),Methods flow ( subset ) and flow_from_directory ( subset + interpolation ) are currently missing it .,9817.0
495,2018-04-04 17:13:51,2018-04-01 15:41:56,fit/evaluate_generator supporting native tensors,"Currently , ` fit/evaluate_generator ` do n't support this case without this fix . But framework-native data tensors are already supported by ` _fit_loop ` and ` _test_loop ` . Signed-off-by : CUI Wei < ghostplant @ qq.com >",9816.0
496,2018-04-01 18:34:12,2018-03-31 16:19:47,Add missing verbose opt for evaluate_generator,` evaluate_generator ` misses ` verbose ` support while ` evaluate ` does n't . Used for partial enhancement for fit/evaluate/predict API upgrade . Signed-off-by : CUI Wei < ghostplant @ qq.com >,9811.0
497,2018-03-30 17:27:40,2018-03-30 09:45:09,Missing space before a comma in a docstring,https : //github.com/keras-team/keras/blob/e85d3dc15072f774736eb0e3c216eb0b7da1db9a/keras/layers/convolutional_recurrent.py # L860,9802.0
498,2018-03-31 18:42:42,2018-03-29 02:23:25,Allow saving models directly to binary stream,"This is a minor change in the contract of ` save_model ( ) ` and ` load_model ( ) ` , allowing the ` filepath ` argument to accept ` h5py.File ` objects as well . The change allows saving models to memory-mapped files that do not have a physical presence on disk , and extraction of the serialized model data as a raw binary stream . I believe that resolves the following issues : https : //github.com/keras-team/keras/issues/9343 https : //github.com/keras-team/keras/issues/6794 I added test cases for both the `` vanilla '' utilization of a ` h5py.File ` object , and the memory-mapping + binary stream use case . This is my first contribution to this project , so I apologize in advance if I missed something in the contributing guidelines -- happy to change things as directed . This PR is joint work with @ mikeyshulman .",9789.0
499,2018-03-31 18:40:50,2018-03-28 10:28:04,Fix ctc_batch_cost ( ) error when batch_size = 1,"Fix [ issue # 7049 ] ( https : //github.com/keras-team/keras/issues/7049 ) : When batch size is 1 , squeeze out all axes so that ` label_length ` and ` input_length ` become tensors with shape ( ) . The functions will crush because of the shape error . Hence , just squeezing the last axis to keep the tensors with shape ( samples , ) .",9775.0
500,2018-04-02 18:30:24,2018-03-25 10:02:51,Add support for class methods documentation,"I noticed that the recent commits related to the doc ( the ones that try to automate the doc generation , for example # 9656 ) break the old doc style . For example , the new ImageDataGenerator page does not document the ImageDataGenerator methods ( fit , flow , ... ) anymore , we only have some examples . This PR adds : - Support for automatic generation of class methods : the classes marked as `` classes_with_methods '' in the autogen.py file will now have all their methods ( obviously not the private or the excluded ones ) fully documented - Some style enrichments in order to make the doc clearer : - The documented class methods will have a `` method '' prepended to their name : this helps distinguish between a method and a module function . - All the classes will have a `` class '' prepended to their name . This names are added using JS and so they will not pollute the menu bar . I tried to follow a style similar to the one already adopted by the TensorFlow 's docs . In particular : - I decided to add an additional custom label , `` classes_with_methods '' in order to be able to decided for which class generate the inner methods docs . At them moment , only the ImageDataGenerator class uses it - I decided to add the `` class '' prefix to the class names in order to make easier to distinguish them from simple and plain methods - The solution makes uses of some tricks in order to add the style . I decided to go for them instead of using some extensions ( like for example pymdownx.extra ) that would have make the generation more cumbersome . All these decisions can obviously be changed and improved but I think PR could serve as a good base for future improvements . I have tested the docs on a mac and it is rendered wonderfully .",9751.0
501,2018-03-27 19:32:00,2018-03-23 09:08:56,RemoteMonitor should send the payload with content-type application/json,"Currently the RemoteMonitor sends the data as a JSON string encoded within a form . This is very inconvenient for modern clients that have great support for JSON payloads , but they usually expect the content type to be application/json . To keep the backward compatiblitity , I suggest extending the RemoteMonitor constructor 's signature by adding < code > encode_as_json=False < /code > parameter . When set to < code > True < /code > it would send out the request with the appropriate content type .",9733.0
502,2018-03-24 19:59:16,2018-03-22 09:57:00,Fixed inconsistencies regarding ReduceLROnPlateau,"Regarding # 9541 , and to get your attention : )",9723.0
503,2018-06-05 18:23:28,2018-03-21 08:12:56,Supporting channels_first data format with crossentropy losses,"Fix several places in the codebase that do n't properly support ` channels_first ` data format : - In all three backends , ` categorical_crossentropy ` and ` sparse_categorical_crossentropy ` have a new ` axis ` argument with default value ` -1 ` , indicating the channels axis . All crossentropy losses with all backends now work correctly with ` channels_first ` data when the ` axis ` is set to ` 1 ` . - When standardizing the user data for ` sparse_categorical_crossentropy ` loss , take into account the ` image_data_format ` when deciding where to add in a channels axis of size 1 . - Add a test to show consistent results for all three crossentropy losses with all three backends whether the ` image_data_format ` is ` channels_first ` or ` channels_last ` .",9715.0
504,2018-03-20 15:57:33,2018-03-19 19:13:52,Text Doc is now autogen,"@ kmader @ Dref360 In Keras 2.1.5 the call to preprocessing_function in _get_batches_of_transformed_samples was moved to immediately after load_img . Crucially Keras 2.1.5 has But I still need to do my cropping and would rather not maintain my modified version of image.py . I like the idea of having ImageDataGenerator but would be much happier if I could just disable all processing after my own preprocessing function . At the moment ( Keras 2.1.5 and now ) I ca n't do that . At least img_to_array has to be done in _get_batches_of_transformed_samples . Ideally I would do the cropping first and then do all the transformations later . Why would I want to do that on the large image when I could do it on the small crop ? And at the end I 'd still need to do what keras.applications.xception.preprocess_input does . In my view the current state of preprocessing is rather confusing . Take the brightness augmentation for example . It converts to Image object , transforms and then converts back to numpy . I see the objectives as two-fold 1/ to be able to use existing preprocess_input functions , e.g . from keras.applications.xception import preprocess_input which are used elsewhere as well . Arguably , what it does is one of the last steps you want to do . 2/ to have a hook for user 's own preprocessing function right after the file read and an option to have no processing after that if it is not necessary . That would allow much more complex transformations as well ( e.g . including shearing without fills because you start with a larger image ) . I 'm not sure if the two can be achieved through a single hook especially given the legacy behaviour . If this ca n't be done through a single hook , perhaps there could be preprocessing and postprocessing ( or pre-preprocessing and preprocessing ) ?",9705.0
505,2018-04-01 03:20:47,2018-03-18 22:59:51,Added ` data_format ` to flatten layer .,"If you create an inference graph in ` NHWC ` but have trained in ` NCHW ` you will realise that your inference predictions are different from train time . This is due to the fact that the flatten layer does not respect channel orderings , therefore I have added a ` data_format ` keyword arg such that it is always reshaped to ` NHWC ` - as for dense layers , it does not matter .",9696.0
506,2018-03-17 02:16:12,2018-03-16 10:23:53,changed hardcoded username with variable one,"Hello , I 'm working on a network that has two inputs , images and accelerometer data . I 'd like to use the ImageDataGenerator to augment my image dataset without modifying the accelerometer data . I managed to use the ImageDataGenerator on my set of images without any problem , when my network only uses images as input . However , when I start using acceleromters too , I do n't know how to combine the augmented images with the actual accelerometers . To give you a practical example : And here is the problem . I use datagen.flow , I obtain a batch of randomly sampled augmented images with their respective output . Now , if I used my own generator , I could combine this augmented batch of data with my accelerometer data . However , I do n't know which images have been selected from my pool of images , therefore I do n't know which accelerometer data to use to combine with the images . Is there a way to get datagen.flow to output the index of the images selected from my pool ? Or should I simply disable the `` shuffle settings '' ? What would be the neatest solution ? Thank you , Alessandro",9677.0
507,2018-03-14 22:28:35,2018-03-14 16:27:25,Fix to add_ngram function and docstring,"This PR addresses a small bug first noted in Issue # 7352 . The ` add_ngram ` function does not check the full sequence when ` ngram_range ` is greater than 2 . This small change fixes that , and updates the docstring to reflect the effect of the change .",9657.0
508,2018-03-16 05:53:57,2018-03-14 15:27:46,Add preprocessing.image to autodocs,"This PR addresses a small bug first noted in Issue # 7352 . The ` add_ngram ` function does not check the full sequence when ` ngram_range ` is greater than 2 . This small change fixes that , and updates the docstring to reflect the effect of the change .",9656.0
509,2018-04-07 09:17:26,2018-03-13 15:41:48,Add dilation_rate parameter to SeparableConv2D,"In Tensorflow SeparableConv2D layer it is possible to set dilation_rate for convolution https : //www.tensorflow.org/api_docs/python/tf/layers/SeparableConv2D Is it possible to add support for this parameter in Keras too ? - [ DONE ] Check that you are up-to-date with the master branch of Keras . You can update with : pip install git+git : //github.com/keras-team/keras.git -- upgrade -- no-deps - [ DONE ] If running on TensorFlow , check that you are up-to-date with the latest version . The installation instructions can be found [ here ] ( https : //www.tensorflow.org/get_started/os_setup ) . - [ SKIP ] If running on Theano , check that you are up-to-date with the master branch of Theano . You can update with : pip install git+git : //github.com/Theano/Theano.git -- upgrade -- no-deps - [ SKIP ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue ( or just copy the script here if it is short ) .",9642.0
510,2018-03-14 22:31:39,2018-03-13 13:03:21,Add a test for preprocessing function for flow_from_directory,We had no test for preprocessing_function . Also fixed a typo I missed on the last PR that was n't caught because we did n't have tests for preprocessing_function at all .,9639.0
511,2018-04-13 22:14:57,2018-03-13 12:15:33,Auto correct the location of model weights,"The model update is completely equal to original version , while it does n't require user codes to reallocate the weights location among ` single_gpu ` and ` multi_gpu ` environment , and the changed will make it more convenient to automatically work under the best location ( ` /cpu:0 ` ) . Besides , users can also choose other location by providing the value of ` weights_location ` argument . Signed-off-by : CUI Wei < ghostplant @ qq.com >",9638.0
512,2018-03-13 01:02:43,2018-03-12 13:00:19,Revert 9273,This PR revert # 9273 This PR is not backward compatible with most scripts so we should revert it and think of a better way .,9625.0
513,2018-03-16 01:17:08,2018-03-12 07:36:51,Use MobileNet model with undefined shape,"There is a problem to use MobileNet as feature extractor because it is only able to get input with static shape . If we use this code : But another application model ( such as ResNet50 etc ) are able to get undefined shape . As the solution of the problem I offer to use as default weights that were trained with input_shape ( 224,224 ) and warn about it .",9623.0
514,2018-03-10 21:13:38,2018-03-10 13:39:32,Fix the number of arguments,Fix the number of arguments on ZeroPadding3D .,9611.0
515,2018-03-09 19:07:16,2018-03-09 01:32:31,Lambda test speed up,,9601.0
516,2018-03-09 18:59:18,2018-03-08 21:55:32,WIP : Add axis=-1 as an argument to keras.backend.softmax,,9600.0
517,2018-03-09 01:22:34,2018-03-08 20:07:55,bug fix - run_internal_graph ( ),See # 9565,9599.0
518,2018-03-07 23:52:45,2018-03-07 17:40:54,Correct tokenization with multi-character ` split `,"* Fixes # 9538 * Adds new test cases for previously-failing uses * Tested on Python 2.7 with Unicode and non-Unicode strings , and on Python 3.5 Issue was caused by incorrect usage of [ maketrans ] ( https : //docs.python.org/3/library/stdtypes.html # str.maketrans ) with a multi-character split string . The Python3 implementation was updated to use a dictionary for translation of all strings . Python2 does n't support this for non-Unicode strings , so I added an additional case that uses [ replace ] ( https : //docs.python.org/3/library/stdtypes.html # str.replace ) instead .",9585.0
519,2018-03-08 19:29:18,2018-03-07 05:04:55,Make pool backend tests efficient,"This PR makes pool backend tests efficient in order to reduce test time . - As is : checking whether * * all the backends give the same outputs * * ; thus CI computes all the backends ' results for each test environment redundantly . - To be : checking whether * * only a single backend produces the desired outputs * * ; so the redundant tests will not perform . Currently , the ` tests/keras/backend/backend_test.py : :TestBackend : :test_pool3d ` is often found in the slowest 10 test durations on TensorFlow .",9580.0
520,2018-03-07 06:17:34,2018-03-07 02:05:27,Fix ` pool3d ` padding of Theano,This PR fixes ` pool3d ` padding of Theano . The tuple padding information should be ` pad ` because there is a ` padding='same ' ` condition in the succeeding codes .,9578.0
521,2018-03-06 06:25:33,2018-03-06 04:23:53,Make separable conv backend tests efficient,This PR makes separable conv backend tests efficient in order to reduce test time . - As is : checking whether * * all the backends give the same outputs * * ; thus CI computes all the backends ' results for each test environment redundantly . - To be : checking whether * * only a single backend produces the desired outputs * * ; so the redundant tests will not perform .,9570.0
522,2018-03-06 20:21:56,2018-03-05 13:59:56,Add optional dependencies ' links to download pages in README,Add optional dependencies ' links to download pages in ` README.md ` . The links go directly to the download / install pages to simplify their installation and make it more straightforward .,9563.0
523,2018-03-05 22:05:12,2018-03-05 07:04:42,Make depthwise conv backend tests efficient,This PR makes depthwise conv backend tests efficient in order to reduce test time . - As is : checking whether * * all the backends give the same outputs * * ; thus CI computes all the backends ' results for each test environment redundantly . - To be : checking whether * * only a single backend produces the desired outputs * * ; so the redundant tests will not perform .,9558.0
524,2018-03-05 22:02:05,2018-03-05 05:58:22,Make RNN backend tests efficient,This PR makes RNN backend tests efficient in order to reduce test time . - As is : checking whether * * all the backends give the same outputs * * ; thus CI computes all the backends ' results for each test environment redundantly . - To be : checking whether * * only a single backend produces the desired outputs * * ; so the redundant tests will not perform .,9557.0
525,2018-03-04 18:55:14,2018-03-04 12:50:02,Make conv backend tests efficient,This PR makes conv backend tests efficient in order to reduce test time . - As is : checking whether * * all the backends give the same outputs * * ; thus CI computes all the backends ' results for each test environment redundantly . - To be : checking whether * * only a single backend produces the desired outputs * * ; so the redundant tests will not perform . I think the ` test_rnn ` needs to be improved with the same way because it is often seen in the slowest 10 test durations .,9555.0
526,2018-03-02 23:05:18,2018-03-02 22:40:16,Small terminology change in an LSTM example,"Changed `` invert the input '' to `` reverse the input '' '' Invert '' is misleading , since it 's not clear what `` inverting '' an input means . `` Reverse '' is clearly defined for a sequence . The terminology from the [ second paper cited in the comments of the code ] ( http : //papers.nips.cc/paper/5346-sequence-to-sequence-learning-with-neural-networks.pdf ) ( cited by the first ) , is `` reverse '' .",9542.0
527,2018-03-03 22:19:53,2018-03-02 15:31:38,Cleanup fit_genenerator for validation,"This will achieve 2 things * The code is cleaner * Gives the responsibility of the validation data to evaluate_generator . The previous impl . was weird . We kept the generator open between epoch but it makes no sense since on_epoch_end should never be called on the validation data . Also , if someone wanted to do evaluation on a subset of the validation data , it would n't work so the val_loss would n't be computed on the same datas between epochs . Thanks to https : //github.com/keras-team/keras/issues/9506 # issuecomment-369692816",9537.0
528,2018-03-01 19:36:20,2018-03-01 08:49:47,Bug-fix cifar10 capsule missing K.sum ( ) margin_loss,Fix https : //github.com/keras-team/keras/issues/9519 In accordance to issue 9519 I implemented the missing sum around the margin_loss implementation .,9520.0
529,2018-02-28 18:42:15,2018-02-28 14:37:53,Fix sequence bug,So Travis is not working right ( hence the multiple PR ) Sorry for that .,9513.0
530,2018-02-28 18:43:03,2018-02-28 14:27:35,Replace ` parametrize ` with ` skipif `,"This PR replaces ` parametrize ` with ` skipif ` in order to reduce test time . Most of the backend tests conduct functionality checking based on whether all the backends give the same outputs , while some backend tests like ` test_ctc ` do with desired outputs . If that is the case , it is unnecessary to test all backends with ` pytest.mark.parametrize ` . For example , the ` test_ctc ` for ` TensorFlow ` and ` Theano ` have been running in the ` KERAS_BACKEND=cntk ` environment . Currently , such tests have been performed inefficiently .",9511.0
531,2018-02-26 02:20:58,2018-02-25 06:59:53,Fix ` pool_2d ` of Theano for backend compatibility,"As discussed in # 9457 , there is the discrepancy in ` InceptionV3 ` . The difference began from ` branch_pool = AveragePooling2D ( ( 3 , 3 ) , strides= ( 1 , 1 ) , padding='same ' ) ( x ) ` in ` inception_v3.py ` . This PR fixes ` pool_2d ` of Theano in order to compute averages excluding borders when ` padding='same ' ` , which is the same behaviour over CNTK and TensorFlow :",9479.0
532,2018-02-25 18:17:04,2018-02-25 03:45:44,Clean up conv backend tests,This PR cleans up conv backend tests and makes their styles consistent .,9478.0
533,2018-02-24 18:46:02,2018-02-24 14:34:03,Fix different results over three backends for ResNet50 and MobileNet,"As discussed in # 9457 , there are the discrepancies in ` ResNet50 ` and ` MobileNet ` . The tests scripts are :",9473.0
534,2018-02-23 18:03:14,2018-02-22 06:37:56,Add depthwise conv2d for Theano and CNTK,"This PR enables ` DepthwiseConv2D ` , initially designed for TensorFlow only , to work on Theano and CNTK . This PR includes the following : - moving ` class DepthwiseConv2D ` from ` keras/applications/mobilenet.py ` to ` keras/layers/convolutional.py ` without modification , - adding ` depthwise_conv2d ` for Theano and CNTK , - revising ` test_depthwise_conv_2d ` in ` backend_test.py ` with respect to existing backend test styles , - adding ` test_depthwise_conv_2d ` in ` convolutional_test.py ` .",9457.0
535,2018-02-22 19:06:25,2018-02-21 23:31:37,Remove word “ shuffled ” from comments in examples,"` cifar10.load_data ( ) ` and ` mnist.load_data ( ) ` do not shuffle the datasets . This PR fixes the comments accordingly . On another note , currently the dataset shuffling is not consistent : - ` boston_housing ` and ` reuters ` allocate the train and test examples randomly ; - ` imdb ` shuffles the training and test sets separately ; - all other datasets , such as ` mnist ` and ` cifar10 ` , do not shuffle anything .",9453.0
536,2018-03-04 21:23:28,2018-02-21 21:37:37,TimeSeriesSequence to generate time-series data efficiently,"Not added tests yet , putting it up for review so you guys know where I am heading , and if I need to change things around . Reference doc : https : //docs.google.com/document/d/1GcMWE4sEf205Fbklt3w1l3HL1URSYc7lJIZ3AGh3EA0",9450.0
537,2018-03-22 18:21:57,2018-02-21 18:03:22,General stateful metrics fixes,"This implements a variety of stateful metrics improvements I noted in # 9253 . * Require stateful metrics layers to be actually stateful : It seems a bit confusing to me that the Layer of a stateful metric does n't need to have the stateful attribute set - with the assumption that all Layer metrics will be stateful , and behaving statefully even without this attribute . Is that a good assumption to make for the future ? * Prevent stateful metrics to leak np.floats to the History object : When logging normal metrics , they are added in _ * _loop ( ) to 0. , making them float . This does n't happen with stateful metrics ( they are assigned directly ) , so they are np.float32 . This is annoying if you e.g . want to serialize the history object to JSON after training , which used to work fine before . * Progbar : Format stateful metrics values as floats alike other metrics : In progress bar ( verbose=1 ) , stateful metric values are n't formatted as % .4f but % s . This is messy with many metrics , but also sometimes one \b too many is printed ( did n't find out why ) and the progress bar jumps a line upwards ( overwriting earlier content ) * Most importantly , fit_generator ( ) and evaluate_generator ( ) now support stateful metrics . * I wrote some documentation .",9446.0
538,2018-02-21 19:00:28,2018-02-21 17:17:13,Misc : Slight optimisation,# # Summary Very slight optimisation during fetching the tensorflow session . When running high volumes querying Tensorflow 's ` DefaultStack ` used in ` get_default_session ` slowed down very marginally .,9445.0
539,2018-02-22 19:09:19,2018-02-21 08:26:24,Add separable conv2d for CNTK,This PR adds separable conv2d for CNTK . The tests may be conflicted with # 9359 .,9442.0
540,2018-02-21 18:06:43,2018-02-21 04:53:51,Style fixes,This PR adds separable conv2d for CNTK . The tests may be conflicted with # 9359 .,9441.0
541,2018-02-21 18:52:02,2018-02-20 17:08:07,Force update of Sequences for Windows,"Fix https : //github.com/keras-team/keras/issues/9434 On Windows , there is no fork , only spawn so the shared variables are not shared . This PR forces the update when we initialize any process . We use a Sequence only once per epoch so we do not need to update it constantly . Future : * Find a way to test multiprocessing with Windows . * ` mp.set_start_method ( 'spawn ' ) ` would mimic Windows behavior , but we can not pickle generators on Windows so the test suite does n't pass . EDIT : Added a decorator to test * Ordered * Enqueuer for both Windoes and Unix .",9436.0
542,2018-02-20 18:43:15,2018-02-20 17:01:18,Optimizer - set_weights : check weights length,"This PR fixes a little inconsistency that I encountered using Keras , described below : It is my first PR , I apologize in advance if the format is not correct . Thank you",9435.0
543,2018-02-20 18:40:47,2018-02-20 08:09:03,Add ` conv_utils_test `,This PR adds ` conv_utils_test ` to cover the following :,9429.0
544,2018-02-20 18:39:32,2018-02-20 02:33:38,Enable ` variable_input_channels ` test for ` InceptionV3 `,The ` InceptionV3 ` is not associated with the dynamic padding ; thus ` _test_application_variable_input_channels ` is available .,9425.0
545,2018-02-17 21:26:00,2018-02-17 16:14:26,remove metrics for predict,"Metrics were n't in predict before , I propose that we keep it that way . Fixes https : //github.com/keras-team/keras/issues/9394",9411.0
546,2018-02-17 21:29:36,2018-02-16 05:18:45,Allow saving weights of a very deep model into a HDF5 file .,"I 've re-merged https : //github.com/keras-team/keras/pull/7508 with master Two others approved the previous version of the changes , and the merge went through ( almost ) automatically , I just changed an import . Reviews of these changes ( excluding the minor merge ) : https : //github.com/keras-team/keras/pull/7508 # issuecomment-365994334 https : //github.com/keras-team/keras/pull/7508 # pullrequestreview-96734942",9398.0
547,2018-02-21 21:38:46,2018-02-14 23:51:52,Add random brightness to Image Preprocessing ( Code Cleanup ),* * This is a cleanup of @ zhudaoruyi 's PR at # 8652 . * * * * All credit goes to him ! * *,9390.0
548,2018-02-15 18:08:28,2018-02-14 02:21:43,Speed up Travis tests,Which exactly version of LSTM is implemented in Keras ?,9386.0
549,2018-02-17 21:27:18,2018-02-14 00:30:01,Fit and transform sequences of words,"Dear keras-community , I 've encountered a use-case where I in my data have a columns of text , and a column consisting of lists of texts . Something like this : Ideally I could use the same tokenizer , but this is currently a hassle . This PR implements 1 . The ability to call ` fit_on_texts ` , and ` texts_to_x ` with list of lists as arguments . Assuming each inner list to consist of tokens . 2 . Allow you to run ` fit ` multiple times . This PR does not break the current API , but I 'm open to reworking it based on your feedback . Let me know .",9384.0
550,2018-02-13 03:29:22,2018-02-13 01:58:52,Corrected copyright years,"Please make sure that the boxes below are checked before you submit your issue . If your issue is an implementation question , please ask your question on [ StackOverflow ] ( http : //stackoverflow.com/questions/tagged/keras ) or [ join the Keras Slack channel ] ( https : //keras-slack-autojoin.herokuapp.com/ ) and ask there instead of filing a GitHub issue . Thank you ! - [ ] Check that you are up-to-date with the master branch of Keras . You can update with : pip install git+git : //github.com/keras-team/keras.git -- upgrade -- no-deps - [ x ] If running on TensorFlow , check that you are up-to-date with the latest version . The installation instructions can be found [ here ] ( https : //www.tensorflow.org/get_started/os_setup ) . - [ x ] If running on Theano , check that you are up-to-date with the master branch of Theano . You can update with : pip install git+git : //github.com/Theano/Theano.git -- upgrade -- no-deps - [ ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue ( or just copy the script here if it is short ) .",9375.0
