diff --git a/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java b/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java
index c45a44e..012f2c8 100644
--- a/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java
+++ b/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java
@@ -242,7 +242,7 @@
         return new DecoratedIcon(icon, decoration, new DecoratedIcon.DecorationController() {
 
             public boolean isDecorated() {
-                return model.isAutoTransformer(transformer);
+                return model != null && model.isAutoTransformer(transformer);
             }
         });
     }
diff --git a/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java b/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java
index c45a44e..012f2c8 100644
--- a/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java
+++ b/DesktopRanking/src/org/gephi/desktop/ranking/RankingToolbar.java
@@ -242,7 +242,7 @@
         return new DecoratedIcon(icon, decoration, new DecoratedIcon.DecorationController() {
 
             public boolean isDecorated() {
-                return model.isAutoTransformer(transformer);
+                return model != null && model.isAutoTransformer(transformer);
             }
         });
     }
